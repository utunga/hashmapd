(function(){function ec(y,s){if(typeof this[y]!=="function"&&typeof this[y]!=="object")this[y]=typeof this[s]==="function"?this[s]:function(z){if(z instanceof Array)return z;else if(typeof z==="number"){var D=[];D.length=z;return D}}}function Lb(y){if(y.constructor===String){for(var s=0,z=0;z<y.length;++z)s=s*31+y.charCodeAt(z)&4294967295;return s}else if(typeof y!=="object")return y&4294967295;else if(y.hashCode instanceof Function)return y.hashCode();else{if(y.$id===B)y.$id=Math.floor(Math.random()*
65536)-32768<<16|Math.floor(Math.random()*65536);return y.$id}}function Ab(y,s){return y===null||s===null?y===null&&s===null:y.constructor===String?y===s:typeof y!=="object"?y===s:y.equals instanceof Function?y.equals(s):y===s}function $c(){}function Dd(){var y=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary",
"blend","blendColor","blit_resize","blue","boolean","box","breakShape","brightness","byte","camera","ceil","char","Character","clear","color","colorMode","concat","console","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","defaultColor","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape",
"exit","exp","expand","externals","fill","filter","filter_bilinear","filter_new_scanline","float","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","Import","int","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadStrings","log","loop",
"mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","parseBoolean","peg","perspective","PFont","PImage","pixels","PMatrix2D",
"PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode",
"shared","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","touchCancel","touchEnd","touchMove","touchStart","translate","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex",
"width","XMLElement","year","__equals","__frameRate","__hashCode","__int_cast","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray"],s={},z,D;z=0;for(D=y.length;z<D;++z)s[y[z]]=null;for(var L in ma.lib)if(ma.lib.hasOwnProperty(L))if(ma.lib[L].exports){y=ma.lib[L].exports;z=0;for(D=y.length;z<D;++z)s[y[z]]=null}return s}function Ed(y){function s(l){var n=/^\s*/.exec(l);if(n[0].length===l.length)l={left:n[0],middle:"",right:""};else{var p=/\s*$/.exec(l);
l={left:n[0],middle:l.substring(n[0].length,p.index),right:p[0]}}l.untrim=function(t){return this.left+t+this.right};return l}function z(l){return l.replace(/^\s+/,"").replace(/\s+$/,"")}function D(l,n){for(var p=0,t=n.length;p<t;++p)l[n[p]]=null;return l}function L(l){for(var n in l)if(l.hasOwnProperty(n))return false;return true}function A(l){return l.substring(2,l.length-1)}function R(l,n){var p=U.length;U.push(l);return'"'+n+p+'"'}function C(l){l=l.replace(Bb,function(n){return R(n,"E")});l=l.replace(tb,
function(n){return R(n,"D")});return l=l.replace(Vb,function(n){return R(n,"H")})}function W(l,n){return l.replace(Wb,function(p,t,x){return x!==n?p:R(p,"G")})}function $(l){this.name=l}function H(l){this.params=l}function J(l){var n=z(l.substring(1,l.length-1));l=[];if(n!==""){n=n.split(",");for(var p=0;p<n.length;++p){var t=/\b([A-Za-z_$][\w$]*\b)\s*("[ABC][\d]*")?$/.exec(n[p]);l.push(new $(t[1]))}}return new H(l)}function M(l){l=l.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,
function(p,t,x){return x});l=l.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(p){return R(p,"F")});l=l.replace(Vb,function(p){return R(p,"H")});l=l.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(p,t,x){p=x.replace(/"C(\d+)"/g,function(G,P){return U[P]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");p="{"+p.substring(1,p.length-1)+"}";t="('"+t+"', "+R(p,"A")+")";return"$p.createJavaArray"+
R(t,"B")});l=l.replace(/(\.\s*length)\s*"B\d+"/g,"$1");l=l.replace(/#([0-9A-Fa-f]{6})\b/g,function(p,t){return"0xFF"+t});l=l.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(p,t,x){t=U[t];if(/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(t))if(/^\(\s*int\s*\)$/.test(t))return"(int)"+x;else{t=t.split(/"C(\d+)"/g);if(t.length>1)if(!/^\[\s*\]$/.test(U[t[1]]))return p;return""+x}else return p});l=l.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~]+)/g,function(p,t){var x=
s(t);return x.untrim("__int_cast("+x.middle+")")});l=l.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1");l=l.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(p,t,x){if(t===x)return p;return x===""?"0"+t:t});l=l.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1");l=l.replace(/([^\s])%([^=\s])/g,"$1 % $2");l=l.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1");l=l.replace(/\bpixels\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(p,
t,x,G,P,I){if(x){p=U[G];return P?"pixels.setPixel"+R("("+p.substring(1,p.length-1)+","+I+")","B"):"pixels.getPixel"+R("("+p.substring(1,p.length-1)+")","B")}else return t?"pixels.getLength"+R("()","B"):P?"pixels.set"+R("("+I+")","B"):"pixels.toArray"+R("()","B")});var n;do{n=false;l=l.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|equals|hashCode|toCharArray|printStackTrace)\s*"B(\d+)"/g,function(p,t,x,
G){p=U[G];n=true;p=s(p.substring(1,p.length-1));return"__"+x+(p.middle===""?R("("+t.replace(/\.\s*$/,"")+")","B"):R("("+t.replace(/\.\s*$/,"")+","+p.middle+")","B"))})}while(n);return l=l.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function N(l,n){this.baseInterfaceName=l;this.body=n;n.owner=this}function ca(l){var n=RegExp(/\bnew\s*(Runnable)\s*"B\d+"\s*"A(\d+)"/).exec(l);if(n===null)return"null";else{l=ya;var p="class"+ ++Cb;ya=p;n=new N("Runnable",ub(U[n[2]],n[1]));n.classId=p;n.scopeId=l;qa[p]=
n;ya=l;return n}}function ja(l,n,p){this.name=l;this.params=n;this.body=p}function za(l){l=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(l);return new ja(l[1]!=="function"?l[1]:null,J(U[l[2]]),cb(U[l[3]]))}function V(l){this.members=l}function da(l){l=l.split(",");for(var n=0;n<l.length;++n){var p=l[n].indexOf(":");l[n]=p<0?{value:Ma(l[n])}:{label:z(l[n].substring(0,p)),value:Ma(z(l[n].substring(p+1)))}}return new V(l)}function oa(l){if(l.charAt(0)==="("||l.charAt(0)==="[")return l.charAt(0)+
oa(l.substring(1,l.length-1))+l.charAt(l.length-1);else if(l.charAt(0)==="{")return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(l)?"{"+R(l.substring(1,l.length-1),"I")+"}":"["+oa(l.substring(1,l.length-1))+"]";else{l=s(l);var n=M(l.middle);n=n.replace(/"[ABC](\d+)"/g,function(p,t){return oa(U[t])});return l.untrim(n)}}function ia(l){return l.replace(/(\.\s*)?(\b[A-Za-z_$][\w$]*\b)(\s*\.\s*(\b[A-Za-z_$][\w$]*\b)(\s*\()?)?/g,function(n,p,t,x,G,P){return p?n:fa({name:t,member:G,callSign:!!P})+(x===B?
"":x)})}function Aa(l,n){this.expr=l;this.transforms=n}function Za(l,n,p){this.name=l;this.value=n;this.isDefault=p}function xa(l,n){var p=l.indexOf("="),t,x;if(p<0){t=l;p=n;x=true}else{t=l.substring(0,p);p=Ma(l.substring(p+1));x=false}return new Za(z(t.replace(/(\s*"C\d+")+/g,"")),p,x)}function Na(l){return l==="int"||l==="float"?"0":l==="boolean"?"false":l==="color"?"0x00000000":"null"}function Oa(l,n){this.definitions=l;this.varType=n}function Sa(l){this.expression=l}function Ta(l){if(ta.test(l)){var n=
Mb.exec(l);l=l.substring(n[0].length).split(",");for(var p=Na(n[2]),t=0;t<l.length;++t)l[t]=xa(l[t],p);return new Oa(l,n[2])}else return new Sa(Ma(l))}function db(l,n,p){this.initStatement=l;this.condition=n;this.step=p}function nb(l,n){this.initStatement=l;this.container=n}function eb(l,n){this.initStatement=l;this.container=n}function ua(l){if(/\bin\b/.test(l)){l=l.substring(1,l.length-1).split(/\bin\b/g);return new nb(Ta(z(l[0])),Ma(l[1]))}else if(l.indexOf(":")>=0&&l.indexOf(";")<0){l=l.substring(1,
l.length-1).split(":");return new eb(Ta(z(l[0])),Ma(l[1]))}else{l=l.substring(1,l.length-1).split(";");return new db(Ta(z(l[0])),Ma(l[1]),Ma(l[2]))}}function Pa(l){l.sort(function(n,p){return p.weight-n.weight})}function Ua(l){this.name=l}function pa(l,n,p){this.name=l;this.body=n;this.isStatic=p;n.owner=this}function Bc(l){var n=Bb.exec(l);Bb.lastIndex=0;var p=n[1].indexOf("static")>=0,t=U[A(n[6])];if(n[2]==="interface")return new Ua(n[3]);else{l=ya;var x="class"+ ++Cb;ya=x;n=new pa(n[3],ub(t,n[3],
n[4],n[5]),p);n.classId=x;n.scopeId=l;qa[x]=n;ya=l;return n}}function Xb(l,n,p,t){this.name=l;this.params=n;this.body=p;this.isStatic=t}function Nb(l){l=tb.exec(l);tb.lastIndex=0;var n=l[1].indexOf("static")>=0,p=l[6]!==";"?U[A(l[6])]:"{}";return new Xb(l[3],J(U[A(l[4])]),cb(p),n)}function vb(l,n,p){this.definitions=l;this.fieldType=n;this.isStatic=p}function Yb(l){var n=Mb.exec(l),p=n[1].indexOf("static")>=0;l=l.substring(n[0].length).split(/,\s*/g);for(var t=Na(n[2]),x=0;x<l.length;++x)l[x]=xa(l[x],
t);return new vb(l,n[2],p)}function Db(l,n){this.params=l;this.body=n}function fc(l){l=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(l);var n=J(U[l[1]]);return new Db(n,cb(U[l[2]]))}function wb(l,n,p,t,x,G,P,I){this.name=l;this.baseClassName=n;this.functions=p;this.methods=t;this.fields=x;this.cstrs=G;this.innerClasses=P;this.misc=I;l=0;for(n=x.length;l<n;++l)x[l].owner=this}function Eb(l){this.name=l}function d(l,n){this.name=l;this.body=n;n.owner=this}function i(l){var n=Bb.exec(l);Bb.lastIndex=0;var p=U[A(n[6])];
if(n[2]==="interface")return new Eb(n[3]);else{l=ya;var t="class"+ ++Cb;ya=t;n=new d(n[3],ub(p,n[3],n[4],n[5]));n.classId=t;n.scopeId=l;qa[t]=n;ya=l;return n}}function na(l,n,p){this.name=l;this.params=n;this.body=p}function ga(l){l=tb.exec(l);tb.lastIndex=0;return new na(l[3],J(U[A(l[4])]),cb(U[A(l[6])]))}function Ea(l,n){this.argument=l;this.misc=n}function $a(l,n){this.argument=l;this.misc=n}function Ja(l,n,p){this.name=l;this.argument=n;this.misc=p}function Z(l){this.label=l}function Fa(l){for(var n=
[],p=0,t=l.length;p<t;++p){var x=l[p];if(x instanceof Oa)n=n.concat(x.getNames());else if(x instanceof Ea&&x.argument.initStatement instanceof Oa)n=n.concat(x.argument.initStatement.getNames());else if(x instanceof Ua||x instanceof pa||x instanceof Eb||x instanceof d||x instanceof na||x instanceof ja)n.push(x.name)}return D({},n)}function Ba(l){this.statements=l}function Fb(l){this.statements=l}var Ga=Dd(),fb=[],U=function(l){var n=[];l=l.split(/([\{\[\(\)\]\}])/);for(var p=l[0],t=[],x=1;x<l.length;x+=
2){var G=l[x];if(G==="["||G==="{"||G==="("){t.push(p);p=G}else if(G==="]"||G==="}"||G===")"){var P=G==="}"?"A":G===")"?"B":"C",I=n.length;n.push(p+G);p=t.pop()+'"'+P+(I+1)+'"'}p+=l[x+1]}n.unshift(p);return n}(y.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(l,n,p,t,x,G,P,I){if(n||p){n=fb.length;fb.push(l);return"'"+n+"'"}else if(t){n=fb.length;
fb.push(G);return x+"'"+n+"'"}else return I!==""?" ":"\n"})),fa,qa={},ya,Cb=0,ub,cb,xb,Ma,Bb=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,tb=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,
ta=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,Wb=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,Mb=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,
Vb=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;$.prototype.toString=function(){return this.name};H.prototype.getNames=function(){for(var l=[],n=0,p=this.params.length;n<p;++n)l.push(this.params[n].name);return l};H.prototype.toString=function(){if(this.params.length===0)return"()";for(var l="(",n=0,p=this.params.length;n<p;++n)l+=this.params[n]+", ";return l.substring(0,l.length-2)+")"};N.prototype.toString=function(){return"new ("+this.body+")"};ja.prototype.toString=function(){var l=
fa,n=D({"this":null},this.params.getNames());fa=function(t){return n.hasOwnProperty(t.name)?t.name:l(t)};var p="function";if(this.name)p+=" "+this.name;p+=this.params+" "+this.body;fa=l;return p};V.prototype.toString=function(){var l=fa;fa=function(x){return x.name==="this"?"this":l(x)};for(var n="",p=0,t=this.members.length;p<t;++p){if(this.members[p].label)n+=this.members[p].label+": ";n+=this.members[p].value.toString()+", "}fa=l;return n.substring(0,n.length-2)};Aa.prototype.toString=function(){var l=
this.transforms;return ia(this.expr).replace(/"!(\d+)"/g,function(n,p){return l[p].toString()})};Ma=function(l){var n=[];l=oa(l);l=l.replace(/"H(\d+)"/g,function(p,t){n.push(za(U[t]));return'"!'+(n.length-1)+'"'});l=l.replace(/"F(\d+)"/g,function(p,t){n.push(ca(U[t]));return'"!'+(n.length-1)+'"'});l=l.replace(/"I(\d+)"/g,function(p,t){n.push(da(U[t]));return'"!'+(n.length-1)+'"'});return new Aa(l,n)};Za.prototype.toString=function(){return this.name+" = "+this.value};Oa.prototype.getNames=function(){for(var l=
[],n=0,p=this.definitions.length;n<p;++n)l.push(this.definitions[n].name);return l};Oa.prototype.toString=function(){return"var "+this.definitions.join(",")};Sa.prototype.toString=function(){return this.expression.toString()};db.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};nb.prototype.toString=function(){var l=this.initStatement.toString();if(l.indexOf("=")>=0)l=l.substring(0,l.indexOf("="));return"("+l+" in "+this.container+")"};eb.iteratorId=
0;eb.prototype.toString=function(){var l=this.initStatement.toString(),n="$it"+eb.iteratorId++;l=l.replace(/^\s*var\s*/,"").split("=")[0];return"("+("var "+n+" = new $p.ObjectIterator("+this.container+"), "+l+" = void(0)")+"; "+(n+".hasNext() && (("+l+" = "+n+".next()) || true)")+";)"};Ua.prototype.toString=function(){return"this."+this.name+" = function "+this.name+"() { throw 'This is an interface'; };"};pa.prototype.toString=function(){return""+this.body};Xb.prototype.toString=function(){fa({name:"[this]"});
var l=D({},this.params.getNames()),n=fa;fa=function(t){return l.hasOwnProperty(t.name)?t.name:n(t)};var p="function "+this.methodId+this.params+" "+this.body+"\n";fa=n;return p};vb.prototype.getNames=function(){for(var l=[],n=0,p=this.definitions.length;n<p;++n)l.push(this.definitions[n].name);return l};vb.prototype.toString=function(){var l=fa({name:"[this]"});if(this.isStatic){for(var n=this.owner.name,p=[],t=0,x=this.definitions.length;t<x;++t){var G=this.definitions[t],P=G.name,I=n+"."+P;p.push("if("+
I+" === void(0)) {\n "+I+" = "+G.value+"; }\n$p.defineProperty("+l+", '"+P+"', { get: function(){return "+I+";}, set: function(val){"+I+" = val;} });\n")}return p.join("")}else return l+"."+this.definitions.join("; "+l+".")};Db.prototype.toString=function(){var l=D({},this.params.getNames()),n=fa;fa=function(x){return l.hasOwnProperty(x.name)?x.name:n(x)};var p="function $constr_"+this.params.params.length+this.params.toString(),t=this.body.toString();/\$(superCstr|constr)\b/.test(t)||(t="{\n$superCstr();\n"+
t.substring(1));fa=n;return p+t+"\n"};wb.prototype.getMembers=function(l,n,p){this.owner.base&&this.owner.base.body.getMembers(l,n,p);var t,x,G,P;t=0;for(G=this.fields.length;t<G;++t){var I=this.fields[t].getNames();x=0;for(P=I.length;x<P;++x)l[I[x]]=this.fields[t]}t=0;for(G=this.methods.length;t<G;++t){l=this.methods[t];n[l.name]=l}t=0;for(G=this.innerClasses.length;t<G;++t){n=this.innerClasses[t];p[n.name]=n}};wb.prototype.toString=function(){var l="$this_"+function(Qa){for(var va=0;Qa;){++va;Qa=
Qa.scope}return va}(this.owner),n=this.name,p="var "+l+" = this;\n",t="",x={},G={},P={};this.getMembers(x,G,P);var I=fa;fa=function(Qa){var va=Qa.name;if(va==="this")return Qa.callSign||!Qa.member?l+".$self":l;else if(x.hasOwnProperty(va))return x[va].isStatic?n+"."+va:l+"."+va;else if(P.hasOwnProperty(va))return l+"."+va;else if(G.hasOwnProperty(va))return G[va].isStatic?n+"."+va:l+".$self."+va;return I(Qa)};if(this.baseClassName){p+="var $super = { $upcast: "+l+" };\n";p+="function $superCstr(){"+
I({name:this.baseClassName})+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n"}else p+="function $superCstr(){$p.extendClassChain("+l+")}\n";if(this.base)t+="$p.extendStaticMembers("+n+", "+this.baseClassName+");\n";var T,ka,ba,la;if(this.functions.length>0)p+=this.functions.join("\n")+"\n";Pa(this.innerClasses);T=0;for(ka=this.innerClasses.length;T<ka;++T){ba=this.innerClasses[T];if(ba.isStatic){t+=n+"."+ba.name+" = "+ba+";\n";p+=l+"."+ba.name+" = "+n+"."+ba.name+
";\n"}else p+=l+"."+ba.name+" = "+ba+";\n"}T=0;for(ka=this.fields.length;T<ka;++T){var Ha=this.fields[T];if(Ha.isStatic){t+=n+"."+Ha.definitions.join(";\n"+n+".")+";\n";ba=0;for(la=Ha.definitions.length;ba<la;++ba){var ra=Ha.definitions[ba].name,yb=n+"."+ra;p+="$p.defineProperty("+l+", '"+ra+"', {get: function(){return "+yb+"}, set: function(val){"+yb+" = val}});\n"}}else p+=l+"."+Ha.definitions.join(";\n"+l+".")+";\n"}ba={};T=0;for(ka=this.methods.length;T<ka;++T){la=this.methods[T];Ha=ba[la.name];
ra=la.name+"$"+la.params.params.length;if(Ha){++Ha;ra+="_"+Ha}else Ha=1;la.methodId=ra;ba[la.name]=Ha;if(la.isStatic){t+=la;t+="$p.addMethod("+n+", '"+la.name+"', "+ra+");\n"}else p+=la;p+="$p.addMethod("+l+", '"+la.name+"', "+ra+");\n"}p+=z(this.misc.tail);if(this.cstrs.length>0)p+=this.cstrs.join("\n")+"\n";p+="function $constr() {\n";ba=[];T=0;for(ka=this.cstrs.length;T<ka;++T){la=this.cstrs[T].params.params.length;ba.push("if(arguments.length === "+la+") { $constr_"+la+".apply("+l+", arguments); }")}if(ba.length>
0)p+=ba.join(" else ")+" else ";p+="$superCstr();\n}\n";p+="$constr.apply(null, arguments);\n";fa=I;return"(function() {\nfunction "+n+"() {\n"+p+"}\n"+t+"return "+n+";\n})()"};ub=function(l,n,p){l=l.substring(1,l.length-1);l=C(l);l=W(l,n);var t=[],x=[],G=[],P=[];l=l.replace(/"([DEGH])(\d+)"/g,function(ka,ba,la){if(ba==="D")t.push(la);else if(ba==="E")x.push(la);else ba==="H"?P.push(la):G.push(la);return""});l=l.split(/;(?:\s*;)*/g);var I;if(p!==B)I=p.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,
"$1");for(p=0;p<P.length;++p)P[p]=za(U[P[p]]);for(p=0;p<t.length;++p)t[p]=Nb(U[t[p]]);for(p=0;p<l.length-1;++p){var T=s(l[p]);l[p]=Yb(T.middle)}T=l.pop();for(p=0;p<G.length;++p)G[p]=fc(U[G[p]]);for(p=0;p<x.length;++p)x[p]=Bc(U[x[p]]);return new wb(n,I,P,t,l,G,x,{tail:T})};Eb.prototype.toString=function(){return"function "+this.name+"() {  throw 'This is an interface'; }\n$p."+this.name+" = "+this.name+";"};d.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+
this.name+";"};na.prototype.toString=function(){var l=D({},this.params.getNames()),n=fa;fa=function(t){return l.hasOwnProperty(t.name)?t.name:n(t)};var p="function "+this.name+this.params+" "+this.body+"\n$p."+this.name+" = "+this.name+";";fa=n;return p};Ea.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};$a.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};Ja.prototype.toString=function(){var l=this.misc.prefix;if(this.argument!==B)l+=
this.argument.toString();return l};Z.prototype.toString=function(){return this.label};xb=function(l,n,p){var t=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b((?:case\s[^:]+|[A-Za-z_$][\w$]*\s*):)|(;)/g),x=[];l=l.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");for(var G=0,P,I;(P=t.exec(l))!==null;){if(P[1]!==B){I=l.lastIndexOf('"B',t.lastIndex);G=l.substring(G,I);if(P[1]==="for")x.push(new Ea(ua(U[P[2]]),
{prefix:G}));else P[1]==="catch"?x.push(new $a(J(U[P[2]]),{prefix:G})):x.push(new Ja(P[1],Ma(U[P[2]]),{prefix:G}))}else if(P[3]!==B)x.push(new Ja(P[3],B,{prefix:l.substring(G,t.lastIndex)}));else if(P[4]!==B){I=l.substring(G,t.lastIndex-P[4].length);if(z(I).length!==0)continue;x.push(I);G=P[4].charAt(1);P=P[5];if(G==="D")x.push(n(U[P]));else if(G==="E")x.push(p(U[P]));else G==="H"?x.push(za(U[P])):x.push(cb(U[P]))}else if(P[6]!==B){I=l.substring(G,t.lastIndex-P[6].length);if(z(I).length!==0)continue;
x.push(new Z(l.substring(G,t.lastIndex)))}else{P=s(l.substring(G,t.lastIndex-1));x.push(P.left);x.push(Ta(P.middle));x.push(P.right+";")}G=t.lastIndex}n=s(l.substring(G));x.push(n.left);if(n.middle!==""){x.push(Ta(n.middle));x.push(";"+n.right)}return x};Ba.prototype.toString=function(){var l=Fa(this.statements),n=fa;L(l)||(fa=function(t){return l.hasOwnProperty(t.name)?t.name:n(t)});var p="{\n"+this.statements.join("")+"\n}";fa=n;return p};cb=function(l){l=s(l.substring(1,l.length-1));return new Ba(xb(l.middle))};
Fb.prototype.toString=function(){for(var l=[],n=[],p=0,t=this.statements.length;p<t;++p)this.statements[p]instanceof d?l.push(this.statements[p]):n.push(this.statements[p]);Pa(l);var x=Fa(this.statements);fa=function(G){G=G.name;if(!x.hasOwnProperty(G))if(Ga.hasOwnProperty(G)||h.hasOwnProperty(G)||zb.hasOwnProperty(G))return"$p."+G;return G};l="// this code was autogenerated from PJS\n(function($p) {\n"+l.join("")+"\n"+n.join("")+"\n})";fa=null;return l};y=function(){var l=C(U[0]);l=l.replace(/\bimport\s+[^;]+;/g,
"");return new Fb(xb(l,ga,i))}();(function(){function l(P,I){for(var T=I.split("."),ka=P.scope,ba;ka;){if(ka.hasOwnProperty(T[0])){ba=ka[T[0]];break}ka=ka.scope}if(ba===B)ba=n[T[0]];ka=1;for(var la=T.length;ka<la&&ba;++ka)ba=ba.inScope[T[ka]];return ba}var n={},p,t;for(p in qa)if(qa.hasOwnProperty(p)){t=qa[p];var x=t.scopeId,G=t.name;if(x){x=qa[x];t.scope=x;if(x.inScope===B)x.inScope={};x.inScope[G]=t}else n[G]=t}for(p in qa)if(qa.hasOwnProperty(p)){t=qa[p];if(G=t.body.baseClassName)if(G=l(t,G)){t.base=
G;if(!G.derived)G.derived=[];G.derived.push(t)}}})(y);(function(){var l=[],n={},p,t;for(p in qa)if(qa.hasOwnProperty(p)){t=qa[p];if(!t.inScope&&!t.derived){l.push(p);n[p]=true;t.weight=0}}for(;l.length>0;){p=l.shift();t=qa[p];if(t.scopeId&&!n[t.scopeId]){l.push(t.scopeId);n[t.scopeId]=true;qa[t.scopeId].weight=t.weight+1}if(t.base&&!n[t.base.classId]){l.push(t.base.classId);n[t.base.classId]=true;t.base.weight=t.weight+1}}})(y);y=y.toString();y=y.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n");return function(l,
n){return l.replace(/'(\d+)'/g,function(p,t){var x=n[t];return x.charAt(0)==="/"?x:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(x)?"(new $p.Character("+x+"))":x})}(y,fb)}function Fd(y,s){var z=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(y);if(z&&z.length===2){var D=[];z=z.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(M,N){D.push(N);return"{"+(D.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";");for(var L=function(M){return M.replace(/^\s*["']?/,"").replace(/["']?\s*$/,
"")},A=0,R=z.length;A<R;A++){var C=z[A].split("=");if(C&&C.length===2){var W=L(C[0]),$=L(C[1]);C=[];if(W==="preload"){C=$.split(",");W=0;for($=C.length;W<$;W++){var H=L(C[W]);s.imageCache.add(H)}}else if(W==="transparent")s.options.isTransparent=$==="true";else if(W==="font"){C=$.split(",");W=0;for($=C.length;W<$;W++){H=L(C[W]);var J=/^\{(\d*?)\}$/.exec(H);s.fonts.add(J?JSON.parse("{"+D[J[1]]+"}"):H)}}else if(W==="crisp")s.options.crispLines=$==="true";else if(W==="pauseOnBlur")s.options.pauseOnBlur=
$==="true";else if(W==="globalKeyEvents")s.options.globalKeyEvents=$==="true";else s.options[W]=$}}}if(y.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,"").match(/\bsize\((?:.+),(?:.+),\s*(OPENGL|P3D)\s*\);/))s.use3DContext=true;return y}var B,Cc=function(y){var s=new XMLHttpRequest;s.open("GET",y,false);s.overrideMimeType&&s.overrideMimeType("text/plain");s.setRequestHeader("If-Modified-Since",
"Fri, 01 Jan 1960 00:00:00 GMT");s.send(null);if(s.status!==200&&s.status!==0)throw"XMLHttpRequest failed, status code "+s.status;return s.responseText},gc="document"in this&&!("fake"in this.document);(function(){var y=/t/g;if(!("t".replace(y,"")!==null&&y.exec("t"))){var s=String.prototype.replace;String.prototype.replace=function(z){var D=s.apply(this,arguments);if(z instanceof RegExp&&z.global)z.lastIndex=0;return D}}})();(function(){var y=/t/g;if(!("t".match(y)!==null&&y.exec("t"))){var s=String.prototype.match;
String.prototype.match=function(z){var D=s.apply(this,arguments);if(z instanceof RegExp&&z.global)z.lastIndex=0;return D}}})();(function(){try{if(!("createImageData"in CanvasRenderingContext2D.prototype))CanvasRenderingContext2D.prototype.createImageData=function(s,z){return new ImageData(s,z)}}catch(y){}})();var h={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,
SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1.0E-4,MAX_FLOAT:3.4028235E38,MIN_FLOAT:-3.4028235E38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\u000c\u00a0",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,
OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,
SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,
END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,
DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:parseInt(720,10),PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8};ec("Float32Array","WebGLFloatArray");ec("Int32Array","WebGLIntArray");ec("Uint16Array","WebGLUnsignedShortArray");ec("Uint8Array","WebGLUnsignedByteArray");var Dc=
function(){function y(z){var D=0;this.hasNext=function(){return D<z.length};this.next=function(){return z[D++]};this.remove=function(){z.splice(D,1)}}function s(){var z;if(arguments.length===0)z=[];else if(arguments.length>0&&typeof arguments[0]!=="number")z=arguments[0];else{z=[];z.length=0|arguments[0]}this.get=function(D){return z[D]};this.contains=function(D){for(var L=0,A=z.length;L<A;++L)if(Ab(D,z[L]))return true;return false};this.add=function(){if(arguments.length===1)z.push(arguments[0]);
else if(arguments.length===2){var D=arguments[0];if(typeof D==="number")if(D>=0&&D<=z.length)z.splice(D,0,arguments[1]);else throw D+" is not a valid index";else throw typeof D+" is not a number";}else throw"Please use the proper number of parameters.";};this.set=function(){if(arguments.length===2){var D=arguments[0];if(typeof D==="number")if(D>=0&&D<z.length)z.splice(D,1,arguments[1]);else throw D+" is not a valid index.";else throw typeof D+" is not a number";}else throw"Please use the proper number of parameters.";
};this.size=function(){return z.length};this.clear=function(){z.length=0};this.remove=function(D){return z.splice(D,1)[0]};this.isEmpty=function(){return!z.length};this.clone=function(){return new s(z.slice(0))};this.toArray=function(){return z.slice(0)};this.iterator=function(){return new y(z)}}return s}(),Gd=function(){function y(){function s(){if(!(W<=R*C.length)){for(var H=[],J=0;J<C.length;++J)if(C[J]!==B)H=H.concat(C[J]);C=[];C.length*=2;for(J=0;J<H.length;++J){var M=Lb(H[J].key)%C.length,N=
C[M];if(N===B)C[M]=N=[];N.push(H[J])}}}function z(H,J){function M(){for(;!ja;){++ca;if(N>=C.length)ja=true;else if(C[N]===B||ca>=C[N].length){ca=-1;++N}else break}}var N=0,ca=-1,ja=false;this.hasNext=function(){return!ja};this.next=function(){var za=H(C[N][ca]);M();return za};this.remove=function(){J(this.next());--ca};M()}function D(H,J,M){this.clear=function(){$.clear()};this.contains=function(N){return J(N)};this.containsAll=function(N){for(N=N.iterator();N.hasNext();)if(!this.contains(N.next()))return false;
return true};this.isEmpty=function(){return $.isEmpty()};this.iterator=function(){return new z(H,M)};this.remove=function(N){if(this.contains(N)){M(N);return true}return false};this.removeAll=function(N){for(N=N.iterator();N.hasNext();){var ca=N.next();this.contains(ca)&&M(ca)}return true};this.retainAll=function(N){for(var ca=this.iterator(),ja=[];ca.hasNext();){var za=ca.next();N.contains(za)||ja.push(za)}for(N=0;N<ja.length;++N)M(ja[N]);return ja.length>0};this.size=function(){return $.size()};
this.toArray=function(){for(var N=[],ca=this.iterator();ca.hasNext();)N.push(ca.next());return N}}function L(H){this._isIn=function(J){return J===$&&H.removed===B};this.equals=function(J){return Ab(H.key,J.getKey())};this.getKey=function(){return H.key};this.getValue=function(){return H.value};this.hashCode=function(){return Lb(H.key)};this.setValue=function(J){var M=H.value;H.value=J;return M}}if(arguments.length===1&&arguments[0].constructor===y)return arguments[0].clone();var A=arguments.length>
0?arguments[0]:16,R=arguments.length>1?arguments[1]:0.75,C=[];C.length=A;var W=0,$=this;this.clear=function(){W=0;C=[];C.length=A};this.clone=function(){var H=new y;H.putAll(this);return H};this.containsKey=function(H){var J=Lb(H)%C.length;J=C[J];if(J===B)return false;for(var M=0;M<J.length;++M)if(Ab(J[M].key,H))return true;return false};this.containsValue=function(H){for(var J=0;J<C.length;++J){var M=C[J];if(M!==B)for(var N=0;N<M.length;++N)if(Ab(M[N].value,H))return true}return false};this.entrySet=
function(){return new D(function(H){return new L(H)},function(H){return H.constructor===L&&H._isIn($)},function(H){return $.remove(H.getKey())})};this.get=function(H){var J=Lb(H)%C.length;J=C[J];if(J===B)return null;for(var M=0;M<J.length;++M)if(Ab(J[M].key,H))return J[M].value;return null};this.isEmpty=function(){return W===0};this.keySet=function(){return new D(function(H){return H.key},function(H){return $.containsKey(H)},function(H){return $.remove(H)})};this.put=function(H,J){var M=Lb(H)%C.length,
N=C[M];if(N===B){++W;C[M]=[{key:H,value:J}];s();return null}for(M=0;M<N.length;++M)if(Ab(N[M].key,H)){var ca=N[M].value;N[M].value=J;return ca}++W;N.push({key:H,value:J});s();return null};this.putAll=function(H){for(H=H.entrySet().iterator();H.hasNext();){var J=H.next();this.put(J.getKey(),J.getValue())}};this.remove=function(H){var J=Lb(H)%C.length,M=C[J];if(M===B)return null;for(var N=0;N<M.length;++N)if(Ab(M[N].key,H)){--W;H=M[N].value;M[N].removed=true;if(M.length>1)M.splice(N,1);else C[J]=B;
return H}return null};this.size=function(){return W};this.values=function(){for(var H=[],J=this.entrySet().iterator();J.hasNext();){var M=J.next();H.push(M.getValue())}return H}}return y}(),Ka=function(){function y(A,R,C){this.x=A||0;this.y=R||0;this.z=C||0}function s(A){return function(R,C){var W=R.get();W[A](C);return W}}function z(A){return function(R,C){return R[A](C)}}var D="dist dot cross".split(" "),L=D.length;y.angleBetween=function(A,R){return Math.acos(A.dot(R)/(A.mag()*R.mag()))};for(y.prototype=
{set:function(A,R,C){if(arguments.length===1)this.set(A.x||A[0],A.y||A[1],A.z||A[2]);else{this.x=A;this.y=R;this.z=C}},get:function(){return new y(this.x,this.y,this.z)},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},add:function(A,R,C){if(arguments.length===3){this.x+=A;this.y+=R;this.z+=C}else if(arguments.length===1){this.x+=A.x;this.y+=A.y;this.z+=A.z}},sub:function(A,R,C){if(arguments.length===3){this.x-=A;this.y-=R;this.z-=C}else if(arguments.length===1){this.x-=
A.x;this.y-=A.y;this.z-=A.z}},mult:function(A){if(typeof A==="number"){this.x*=A;this.y*=A;this.z*=A}else if(typeof A==="object"){this.x*=A.x;this.y*=A.y;this.z*=A.z}},div:function(A){if(typeof A==="number"){this.x/=A;this.y/=A;this.z/=A}else if(typeof A==="object"){this.x/=A.x;this.y/=A.y;this.z/=A.z}},dist:function(A){var R=this.x-A.x,C=this.y-A.y;A=this.z-A.z;return Math.sqrt(R*R+C*C+A*A)},dot:function(A,R,C){if(arguments.length===3)return this.x*A+this.y*R+this.z*C;else if(arguments.length===
1)return this.x*A.x+this.y*A.y+this.z*A.z},cross:function(A){return new y(this.y*A.z-A.y*this.z,this.z*A.x-A.z*this.x,this.x*A.y-A.x*this.y)},normalize:function(){var A=this.mag();A>0&&this.div(A)},limit:function(A){if(this.mag()>A){this.normalize();this.mult(A)}},heading2D:function(){return-Math.atan2(-this.y,this.x)},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};L--;)y[D[L]]=z(D[L]);for(L in y.prototype)if(y.prototype.hasOwnProperty(L)&&
!y.hasOwnProperty(L))y[L]=s(L);return y}();$c.prototype=h;var zb=new $c;zb.ArrayList=Dc;zb.HashMap=Gd;zb.PVector=Ka;zb.ObjectIterator=function(y){if(y.iterator instanceof Function)return y.iterator();else if(y instanceof Array){var s=-1;this.hasNext=function(){return++s<y.length};this.next=function(){return y[s]}}else throw"Unable to iterate: "+y;};var ma=this.Processing=function y(s,z){function D(a,b,c,e){var f=ab.locations[a];if(f===B){f=i.getUniformLocation(b,c);ab.locations[a]=f}if(f!==-1)if(e.length===
4)i.uniform4fv(f,e);else if(e.length===3)i.uniform3fv(f,e);else e.length===2?i.uniform2fv(f,e):i.uniform1f(f,e)}function L(a,b,c,e){var f=ab.locations[a];if(f===B){f=i.getUniformLocation(b,c);ab.locations[a]=f}if(f!==-1)if(e.length===4)i.uniform4iv(f,e);else if(e.length===3)i.uniform3iv(f,e);else e.length===2?i.uniform2iv(f,e):i.uniform1i(f,e)}function A(a,b,c,e,f){var g=ab.attributes[a];if(g===B){g=i.getAttribLocation(b,c);ab.attributes[a]=g}if(g!==-1){i.bindBuffer(i.ARRAY_BUFFER,f);i.vertexAttribPointer(g,
e,i.FLOAT,false,0,0);i.enableVertexAttribArray(g)}}function R(a,b,c){var e=ab.attributes[a];if(e===B){e=i.getAttribLocation(b,c);ab.attributes[a]=e}e!==-1&&i.disableVertexAttribArray(e)}function C(a,b,c,e,f){var g=ab.locations[a];if(g===B){g=i.getUniformLocation(b,c);ab.locations[a]=g}if(g!==-1)if(f.length===16)i.uniformMatrix4fv(g,e,f);else f.length===9?i.uniformMatrix3fv(g,e,f):i.uniformMatrix2fv(g,e,f)}function W(a,b,c,e){if(G===h.HSB){c=d.color.toRGB(a,b,c);a=c[0];b=c[1];c=c[2]}else{a=Math.round(255*
(a/p));b=Math.round(255*(b/t));c=Math.round(255*(c/x))}e=Math.round(255*(e/n));return(e>255?255:e)<<24&h.ALPHA_MASK|(a>255?255:a)<<16&h.RED_MASK|(b>255?255:b)<<8&h.GREEN_MASK|(c>255?255:c)&h.BLUE_MASK}function $(){i.restore();Ja=Fb=true}function H(a,b){var c=1;c<<=b-1;for(var e="",f=0;f<b;f++){e+=c&a?"1":"0";c>>>=1}return e}function J(a,b,c,e,f,g){b=a<0?c:b;c=f===B||f<0?0:f;a=Math.abs(a);if(f===0){c=1;for(a*=10;Math.abs(Math.round(a)-a)>1.0E-6&&c<7;){++c;a*=10}}else if(c!==0)a*=Math.pow(10,c);f=a*
2;if(Math.floor(a)!==a)if(Math.floor(f)===f){f=Math.floor(a);a=f+f%2}else a=Math.round(a);f="";for(e+=c;e>0||a>0;){e--;f=""+a%10+f;a=Math.floor(a/10)}if(g!==B)for(e=f.length-3-c;e>0;){f=f.substring(0,e)+g+f.substring(e);e-=3}return c>0?b+f.substring(0,f.length-c)+"."+f.substring(f.length-c,f.length):b+f}function M(a,b,c,e,f,g){if(a instanceof Array){for(var k=[],j=0,m=a.length;j<m;j++)k.push(J(a[j],b,c,e,f,g));return k}else return J(a,b,c,e,f,g)}function N(a){a=parseInt("0x"+a,16);if(a>2147483647)a-=
4294967296;return a}function ca(a){return Array.prototype.slice.call(a,1)}function ja(a){if(typeof a==="number")return a!==0;else if(typeof a==="boolean")return a;else if(typeof a==="string")return a.toLowerCase()==="true";else if(a instanceof gb)return a.code===49||a.code===84||a.code===116}function za(a){if(typeof a==="number")return a;else if(typeof a==="boolean")return a?1:0;else if(typeof a==="string")return parseFloat(a);else if(a instanceof gb)return a.code}function V(a){if(typeof a==="number")return a&
4294967295;else if(typeof a==="boolean")return a?1:0;else if(typeof a==="string")return parseInt(a,10)&4294967295;else if(a instanceof gb)return a.code}function da(a,b){var c=a||362436069,e=b||521288629,f=function(){c=36969*(c&65535)+(c>>>16)&4294967295;e=18E3*(e&65535)+(e>>>16)&4294967295;return((c&65535)<<16|e&65535)&4294967295};this.nextDouble=function(){var g=f()/4294967296;return g<0?1+g:g};this.nextInt=f}function oa(a){function b(m,u,r,w){m&=15;var q=m<8?u:r;u=m<4?r:m===12||m===14?u:w;return((m&
1)===0?q:-q)+((m&2)===0?u:-u)}function c(m,u,r){u=(m&1)===0?u:r;return(m&2)===0?-u:u}function e(m,u,r){return u+m*(r-u)}a=a!==B?new da(a):da.createRandomized();var f,g,k=new Uint8Array(512);for(f=0;f<256;++f)k[f]=f;for(f=0;f<256;++f){var j=k[g=a.nextInt()&255];k[g]=k[f];k[f]=j}for(f=0;f<256;++f)k[f+256]=k[f];this.noise3d=function(m,u,r){var w=Math.floor(m)&255,q=Math.floor(u)&255,E=Math.floor(r)&255;m-=Math.floor(m);u-=Math.floor(u);r-=Math.floor(r);var Q=(3-2*m)*m*m,K=(3-2*u)*u*u,v=k[w]+q,sa=k[v]+
E;v=k[v+1]+E;q=k[w+1]+q;w=k[q]+E;E=k[q+1]+E;return e((3-2*r)*r*r,e(K,e(Q,b(k[sa],m,u,r),b(k[w],m-1,u,r)),e(Q,b(k[v],m,u-1,r),b(k[E],m-1,u-1,r))),e(K,e(Q,b(k[sa+1],m,u,r-1),b(k[w+1],m-1,u,r-1)),e(Q,b(k[v+1],m,u-1,r-1),b(k[E+1],m-1,u-1,r-1))))};this.noise2d=function(m,u){var r=Math.floor(m)&255,w=Math.floor(u)&255;m-=Math.floor(m);u-=Math.floor(u);var q=(3-2*m)*m*m,E=k[r]+w;r=k[r+1]+w;return e((3-2*u)*u*u,e(q,c(k[E],m,u),c(k[r],m-1,u)),e(q,c(k[E+1],m,u-1),c(k[r+1],m-1,u-1)))};this.noise1d=function(m){var u=
Math.floor(m)&255;m-=Math.floor(m);return e((3-2*m)*m*m,(k[u]&1)===0?-m:m,(k[u+1]&1)===0?-(m-1):m-1)}}function ia(){if(ga){if(Ja){i.fillStyle=d.color.toString($a);Ja=false}i.fill()}}function Aa(){if(Z){if(Fb){i.strokeStyle=d.color.toString(Ba);Fb=false}i.stroke()}}function Za(a,b,c){c=0|c*((b&h.ALPHA_MASK)>>>24);return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.mix(a&h.RED_MASK,b&h.RED_MASK,c)&h.RED_MASK|d.mix(a&h.GREEN_MASK,b&h.GREEN_MASK,c)&h.GREEN_MASK|d.mix(a&h.BLUE_MASK,b&h.BLUE_MASK,c)}function xa(a,
b,c){var e=ad.shift();if(e===B){e={};e.canvas=document.createElement("canvas");e.context=e.canvas.getContext("2d")}ad.push(e);var f=e.canvas,g=e.context;b=b||a.width;c=c||a.height;f.width=b;f.height=c;if(a)if("data"in a)g.putImageData(a,0,0);else{g.clearRect(0,0,b,c);g.drawImage(a,0,0,b,c)}else g.clearRect(0,0,b,c);return e}function Na(){if(Zb){i=bd;Zb=false;d.updatePixels()}}function Oa(){function a(e,f){e[f]=function(){Na();i[f].apply(i,arguments)}}function b(e,f){d.defineProperty(e,f,{get:function(){Na();
return i[f]},set:function(g){Na();i[f]=g}})}for(var c in i)typeof i[c]==="function"?a(this,c):b(this,c)}function Sa(a){this.name="sans-serif";if(a!==B)switch(a){case "sans-serif":case "serif":case "monospace":case "fantasy":case "cursive":this.name=a;break;default:this.name='"'+a+'", sans-serif'}this.origName=a}function Ta(a,b,c,e){this.canvas=document.createElement("canvas");this.canvas.setAttribute("width",b+"px");this.canvas.setAttribute("height",b+"px");this.ctx=this.canvas.getContext("2d");this.ctx.font=
b+"pt "+a;this.ctx.fillStyle="black";this.ctx.fillRect(0,0,b,b);this.ctx.fillStyle="white";this.ctx.fillText(e,0,c);this.imageData=this.ctx.getImageData(0,0,b,b);this.get=function(f,g){return this.imageData.data[g*this.imageData.width*4+f*4]}}function db(a){return a instanceof String?a:typeof a==="number"?a===(0|a)?a.toString():d.nf(a,0,3):a===null||a===B?"":a.toString()}function nb(a,b,c,e,f){var g=e=0;if(T.glyph){e=d.glyphTable[T.name];i.save();i.translate(b,c+I);if(f===h.RIGHT||f===h.CENTER)e.width(a);
b=1/e.units_per_em*I;i.scale(b,b);b=0;for(c=a.length;b<c;b++)try{d.glyphLook(e,a[b]).draw()}catch(k){y.debug(k)}$()}else if(a&&("fillText"in i||"mozDrawText"in i)){if(Ja){i.fillStyle=d.color.toString($a);Ja=false}if(f===h.RIGHT||f===h.CENTER){if("fillText"in i)e=i.measureText(a).width;else if("mozDrawText"in i)e=i.mozMeasureText(a);g=f===h.RIGHT?-e:-e/2}if("fillText"in i)i.fillText(a,b+g,c);else if("mozDrawText"in i){i.save();i.translate(b+g,c);i.mozDrawText(a);$()}}}function eb(a,b,c,e,f){if(ra===
B)ra=document.createElement("canvas");var g=i;i=ra.getContext("2d");i.font=i.mozTextStyle=I+"px "+T.name;var k=0;if("fillText"in i)k=i.measureText(a).width;else if("mozDrawText"in i)k=i.mozMeasureText(a);ra.width=k;ra.height=I;i=ra.getContext("2d");i.font=i.mozTextStyle=I+"px "+T.name;i.textBaseline="top";nb(a,0,0,0,h.LEFT);a=ra.width/ra.height;i=g;i.bindTexture(i.TEXTURE_2D,cd);Ob(ra);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR);
i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);g=0;if(f===h.RIGHT)g=-k;else if(f===h.CENTER)g=-k/2;f=new O;k=I*0.5;f.translate(b+g-k/2,c-k,e);f.scale(-a*k,-k,k);f.translate(-1,-1,-1);f.transpose();b=new O;b.scale(1,-1,1);b.apply(ha.array());b.transpose();c=new O;c.set(Ca);c.transpose();i.useProgram(S);A("vertex2d",S,"Vertex",3,Ec);A("aTextureCoord2d",S,"aTextureCoord",2,Fc);L("uSampler2d",S,"uSampler",[0]);L("picktype2d",
S,"picktype",1);C("model2d",S,"model",false,f.array());C("view2d",S,"view",false,b.array());C("projection2d",S,"projection",false,c.array());D("color2d",S,"color",Ea);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,Gc);i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0)}function ua(a,b,c,e){var f=d.use3DContext?eb:nb,g;if(a.indexOf("\n")<0){a=[a];g=1}else{a=a.split(/\r?\n/g);g=a.length}var k;k=Pb===h.TOP?(1-hc)*ka:Pb===h.CENTER?(1-hc-g/2)*ka:Pb===h.BOTTOM?(1-hc-g)*ka:0;for(var j=0;j<g;++j){f(a[j],b,c+k,e,Qb);k+=
ka}}function Pa(a,b,c,e,f,g){if(!(a.length===0||e===0||f===0))if(!(I>f)){var k=-1,j=0,m=0,u=0;i.font=I+"px "+T.name;for(var r=[],w=0,q=a.length;w<q;w++){var E=a[w],Q=0,K=E===" ";if("fillText"in i)Q=i.measureText(E).width;else if("mozDrawText"in i)Q=i.mozMeasureText(E);if(E!=="\n"&&m+Q<e){if(K)k=w;m+=Q}else{if(k+1===j)if(w>0)k=w;else return;if(E==="\n"){r.push({text:a.substring(j,w),width:m,offset:u});j=w+1}else{r.push({text:a.substring(j,k),width:m,offset:u});j=k+1}u+=I;m=0;w=j-1}}j<q&&r.push({text:a.substring(j),
width:m,offset:u});a=d.use3DContext?eb:nb;k=0;if(Qb===h.CENTER)k=e/2;else if(Qb===h.RIGHT)k=e;e=(1-hc)*I;j=0;if(Pb===h.BOTTOM)j=f-r.length*ka;else if(Pb===h.CENTER)j=(f-r.length*ka)/2;m=0;for(u=r.length;m<u;m++){w=r[m];if(!(w.offset+j<0)){if(w.offset+j+I>f)break;a(w.text,b+k,c+w.offset+e+j,g,Qb)}}}}function Ua(a,b){function c(g){d.defineProperty(a,g,{get:function(){return b[g]},set:function(k){b[g]=k},enumerable:true})}var e=[],f;for(f in b)if(!(f in a))if(typeof b[f]==="function")a[f]=b[f];else f!==
"$upcast"&&e.push(f);for(;e.length>0;)c(e.shift())}function pa(a,b,c){a.addEventListener?a.addEventListener(b,c,false):a.attachEvent("on"+b,c);ob.push([a,b,c])}function Bc(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.detachEvent&&a.detachEvent("on"+b,c)}function Xb(a){var b=a,c=0,e=0;d.pmouseX=d.mouseX;d.pmouseY=d.mouseY;if(b.offsetParent){do{c+=b.offsetLeft;e+=b.offsetTop}while(b=b.offsetParent)}b=a;do{c-=b.scrollLeft||0;e-=b.scrollTop||0}while(b=b.parentNode);c+=dd;e+=
ed;c+=fd;e+=gd;c+=window.pageXOffset;e+=window.pageYOffset;return{X:c,Y:e}}function Nb(a,b){var c=Xb(a,b);d.mouseX=b.pageX-c.X;d.mouseY=b.pageY-c.Y}function vb(a){var b=Xb(a.changedTouches[0].target,a.changedTouches[0]),c;for(c=0;c<a.touches.length;c++){var e=a.touches[c];e.offsetX=e.pageX-b.X;e.offsetY=e.pageY-b.Y}for(c=0;c<a.targetTouches.length;c++){e=a.targetTouches[c];e.offsetX=e.pageX-b.X;e.offsetY=e.pageY-b.Y}for(c=0;c<a.changedTouches.length;c++){e=a.changedTouches[c];e.offsetX=e.pageX-b.X;
e.offsetY=e.pageY-b.Y}return a}function Yb(a){if(Hd.indexOf(a)>=0){d.keyCode=a;if(a===d.INS)d.keyCode=155;return h.CODED}switch(a){case 13:return 10;case 46:return 127}return a}function Db(a,b){if(a>=65&&a<=90){if(!b)return a+32}else if(a>=48&&a<=57){if(b)switch(a){case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 48:return 41}}else if(b)switch(a){case 107:return 43;case 219:return 123;
case 221:return 125;case 222:return 34}else switch(a){case 188:return 44;case 109:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a}function fc(){var a;d.keyPressed();a=d.keyCode;d.keyCode=0;d.keyTyped();d.keyCode=a}function wb(){var a;d.keyPressed();a=d.keyCode;d.keyCode=0;d.keyTyped();d.keyCode=a}function Eb(a,b){d.key=Yb(a.keyCode,a.shiftKey);if(b==="keypress")if(a.keyCode===a.charCode)d.keyCode=
-1;switch(d.keyCode){case 19:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 45:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 145:case 155:case 224:case 225:case 226:case 227:if(b==="keydown")if(ic){d.keyReleased();d.keyPressed()}else{d.keyPressed();ic=true}else if(b==="keypress")if(jc)jc=false;else{d.keyReleased();d.keyPressed()}else if(b==="keyup"){d.keyReleased();if(jc===false)jc=true;if(ic)ic=false}break;case 16:case 17:case 18:case 20:case 144:if(b===
"keydown")d.keyPressed();else b==="keyup"&&d.keyReleased();break;case 46:case 13:if(b==="keydown")if(kc===true){kc=false;fc()}else wb();else if(b==="keypress")if(lc===true)lc=false;else wb();else if(b==="keyup"){d.keyCode=a.keyCode;d.keyReleased();if(kc===false)kc=true;if(lc===false)lc=true}break;default:if(d.keyCode===-1)d.keyCode=a.keyCode;if(a.keyCode===0){d.key=Db(a.charCode,a.shiftKey);if(b==="keypress")if(Rb===true)Rb=false;else wb();else if(b==="keyup"){d.keyCode=a.keyCode;d.keyReleased();
if(Rb===false)Rb=true}}else{d.key=Db(a.keyCode,a.shiftKey);if(b==="keydown")if(mc===true){mc=false;fc()}else wb();else if(b==="keyup"){d.keyCode=a.keyCode;d.keyReleased();if(Rb===false)Rb=true;if(mc===false)mc=true}}}}if(!(this instanceof y))throw"called Processing constructor as if it were a function: missing 'new'.";var d=this;d.externals={canvas:s,context:B,sketch:B};d.name="Processing.js Instance";d.use3DContext=false;d.focused=false;d.breakShape=false;d.glyphTable={};d.pmouseX=0;d.pmouseY=0;
d.mouseX=0;d.mouseY=0;d.mouseButton=0;d.mouseScroll=0;d.mouseClicked=B;d.mouseDragged=B;d.mouseMoved=B;d.mousePressed=B;d.mouseReleased=B;d.mouseScrolled=B;d.mouseOver=B;d.mouseOut=B;d.touchStart=B;d.touchEnd=B;d.touchMove=B;d.touchCancel=B;d.key=B;d.keyCode=B;d.keyPressed=function(){};d.keyReleased=function(){};d.keyTyped=function(){};d.draw=B;d.setup=B;d.__mousePressed=false;d.__keyPressed=false;d.__frameRate=0;d.frameCount=0;d.width=s.width-0;d.height=s.height-0;d.defineProperty=function(a,b,c){if("defineProperty"in
Object)Object.defineProperty(a,b,c);else{c.hasOwnProperty("get")&&a.__defineGetter__(b,c.get);c.hasOwnProperty("set")&&a.__defineSetter__(b,c.set)}};var i,na,ga=true,Ea=[1,1,1,1],$a=4294967295,Ja=true,Z=true,Fa=[0.8,0.8,0.8,1],Ba=4294835709,Fb=true,Ga=1,fb=false,U=true,fa=0,qa=h.CORNER,ya=h.CENTER,Cb=0,ub=0,cb=0,xb=h.NORMAL_MODE_AUTO,Ma=60,Bb=s.style.cursor,tb=1,ta=h.POLYGON,Wb=0,Mb=20,Vb=false,l=20,n=255,p=255,t=255,x=255,G=h.RGB,P=null,I=12,T={name:'"Arial", sans-serif',origName:"Arial"},ka=14,
ba=(new Date).getTime(),la=ba,Ha=0,ra,yb,Qa,va,Sb,Hc,Ic,jc=true,kc=true,lc=true,Rb=true,mc=true,ic=false,ab={attributes:{},locations:{}},F,S,bb,Jc,Kc,Lc,nc,Mc,$b,Nc,hd,Oc,id,oc,jd,kd,cd,pc={width:0,height:0},ld=h.IMAGE,Ra=false,Ec,Fc,Gc,Qb=h.LEFT,Pb=h.BASELINE,hc=0.2,Pc=h.MODEL,bd,Qc=null,Zb=false,md,nd=1E3,Hd=[h.SHIFT,h.CONTROL,h.ALT,h.CAPSLK,h.PGUP,h.PGDN,h.END,h.HOME,h.LEFT,h.UP,h.RIGHT,h.DOWN,h.NUMLK,h.INS,h.F1,h.F2,h.F3,h.F4,h.F5,h.F6,h.F7,h.F8,h.F9,h.F10,h.F11,h.F12],dd,ed,fd,gd;if(document.defaultView&&
document.defaultView.getComputedStyle){dd=parseInt(document.defaultView.getComputedStyle(s,null).paddingLeft,10)||0;ed=parseInt(document.defaultView.getComputedStyle(s,null).paddingTop,10)||0;fd=parseInt(document.defaultView.getComputedStyle(s,null).borderLeftWidth,10)||0;gd=parseInt(document.defaultView.getComputedStyle(s,null).borderTopWidth,10)||0}var X=0,qc=0,Gb=0,hb=[],ib=[],jb=[],Rc=new Float32Array(h.SINCOS_LENGTH),Sc=new Float32Array(h.SINCOS_LENGTH),Y,Hb,kb,Va,Wa,ha,ac,rc,bc,Ca,sc=false,
tc=60*(Math.PI/180),Tc=s.width/2,Ib=s.height/2,Jb=Ib/Math.tan(tc/2),od=Jb/10,pd=Jb*10,qd=s.width/s.height,o=[],La=[],Ia=0,Uc=false,Vc=false,uc=true,cc=h.CORNER,vc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",
cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",
floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",
lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},rd=[],sd=new Float32Array([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,
-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]),td=new Float32Array([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,
0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]),Id=new Float32Array([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Wc=new Float32Array([0,
0,0,0,1,0,1,1,0,1,0,0]),Jd=new Float32Array([0,0,-1,0,0,-1,0,0,-1,0,0,-1]),ud=function(a,b,c,e){return{x:a,y:b,w:c,h:e}},wc=ud,Kd=function(a,b,c,e,f){return{x:a,y:b,w:f?c:c-a,h:f?e:e-b}},Ld=function(a,b,c,e){return{x:a-c/2,y:b-e/2,w:c,h:e}},Xc=function(a,b,c){var e=a.createShader(a.VERTEX_SHADER);a.shaderSource(e,b);a.compileShader(e);if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw a.getShaderInfoLog(e);b=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(b,c);a.compileShader(b);if(!a.getShaderParameter(b,
a.COMPILE_STATUS))throw a.getShaderInfoLog(b);c=a.createProgram();a.attachShader(c,e);a.attachShader(c,b);a.linkProgram(c);if(!a.getProgramParameter(c,a.LINK_STATUS))throw"Error linking shaders.";return c},Yc={},gb=d.Character=function(a){this.code=typeof a==="string"&&a.length===1?a.charCodeAt(0):NaN;return Yc[this.code]===B?Yc[this.code]=this:Yc[this.code]};gb.prototype.toString=function(){return String.fromCharCode(this.code)};gb.prototype.valueOf=function(){return this.code};var pb=d.PShape=function(a){this.family=
a||h.GROUP;this.style=this.visible=true;this.children=[];this.nameTable=[];this.params=[];this.name="";this.parent=this.height=this.width=this.close=this.kind=this.matrix=this.image=null};pb.prototype={isVisible:function(){return this.visible},setVisible:function(a){this.visible=a},disableStyle:function(){this.style=false;for(var a=0,b=this.children.length;a<b;a++)this.children[a].disableStyle()},enableStyle:function(){this.style=true;for(var a=0,b=this.children.length;a<b;a++)this.children[a].enableStyle()},
getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(a){this.name=a},getName:function(){return this.name},draw:function(){if(this.visible){this.pre();this.drawImpl();this.post()}},drawImpl:function(){if(this.family===h.GROUP)this.drawGroup();else if(this.family===h.PRIMITIVE)this.drawPrimitive();else if(this.family===h.GEOMETRY)this.drawGeometry();else this.family===h.PATH&&this.drawPath()},drawPath:function(){var a,
b;if(this.vertices.length!==0){d.beginShape();if(this.vertexCodes.length===0)if(this.vertices[0].length===2){a=0;for(b=this.vertices.length;a<b;a++)d.vertex(this.vertices[a][0],this.vertices[a][1])}else{a=0;for(b=this.vertices.length;a<b;a++)d.vertex(this.vertices[a][0],this.vertices[a][1],this.vertices[a][2])}else{var c=0;if(this.vertices[0].length===2){a=0;for(b=this.vertexCodes.length;a<b;a++)if(this.vertexCodes[a]===h.VERTEX){d.vertex(this.vertices[c][0],this.vertices[c][1]);if(this.vertices[c].moveTo===
true)o[o.length-1].moveTo=true;else if(this.vertices[c].moveTo===false)o[o.length-1].moveTo=false;d.breakShape=false;c++}else if(this.vertexCodes[a]===h.BEZIER_VERTEX){d.bezierVertex(this.vertices[c+0][0],this.vertices[c+0][1],this.vertices[c+1][0],this.vertices[c+1][1],this.vertices[c+2][0],this.vertices[c+2][1]);c+=3}else if(this.vertexCodes[a]===h.CURVE_VERTEX){d.curveVertex(this.vertices[c][0],this.vertices[c][1]);c++}else if(this.vertexCodes[a]===h.BREAK)d.breakShape=true}else{a=0;for(b=this.vertexCodes.length;a<
b;a++)if(this.vertexCodes[a]===h.VERTEX){d.vertex(this.vertices[c][0],this.vertices[c][1],this.vertices[c][2]);if(this.vertices[c].moveTo===true)o[o.length-1].moveTo=true;else if(this.vertices[c].moveTo===false)o[o.length-1].moveTo=false;d.breakShape=false}else if(this.vertexCodes[a]===h.BEZIER_VERTEX){d.bezierVertex(this.vertices[c+0][0],this.vertices[c+0][1],this.vertices[c+0][2],this.vertices[c+1][0],this.vertices[c+1][1],this.vertices[c+1][2],this.vertices[c+2][0],this.vertices[c+2][1],this.vertices[c+
2][2]);c+=3}else if(this.vertexCodes[a]===h.CURVE_VERTEX){d.curveVertex(this.vertices[c][0],this.vertices[c][1],this.vertices[c][2]);c++}else if(this.vertexCodes[a]===h.BREAK)d.breakShape=true}}d.endShape(this.close?h.CLOSE:h.OPEN)}},drawGeometry:function(){var a,b;d.beginShape(this.kind);if(this.style){a=0;for(b=this.vertices.length;a<b;a++)d.vertex(this.vertices[a])}else{a=0;for(b=this.vertices.length;a<b;a++){var c=this.vertices[a];c[2]===0?d.vertex(c[0],c[1]):d.vertex(c[0],c[1],c[2])}}d.endShape()},
drawGroup:function(){for(var a=0,b=this.children.length;a<b;a++)this.children[a].draw()},drawPrimitive:function(){if(this.kind===h.POINT)d.point(this.params[0],this.params[1]);else if(this.kind===h.LINE)this.params.length===4?d.line(this.params[0],this.params[1],this.params[2],this.params[3]):d.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===h.TRIANGLE)d.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],
this.params[5]);else if(this.kind===h.QUAD)d.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===h.RECT)if(this.image!==null){d.imageMode(h.CORNER);d.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3])}else{d.rectMode(h.CORNER);d.rect(this.params[0],this.params[1],this.params[2],this.params[3])}else if(this.kind===h.ELLIPSE){d.ellipseMode(h.CORNER);d.ellipse(this.params[0],this.params[1],
this.params[2],this.params[3])}else if(this.kind===h.ARC){d.ellipseMode(h.CORNER);d.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else if(this.kind===h.BOX)this.params.length===1?d.box(this.params[0]):d.box(this.params[0],this.params[1],this.params[2]);else this.kind===h.SPHERE&&d.sphere(this.params[0])},pre:function(){if(this.matrix){d.pushMatrix();i.transform(this.matrix.elements[0],this.matrix.elements[3],this.matrix.elements[1],this.matrix.elements[4],
this.matrix.elements[2],this.matrix.elements[5])}if(this.style){d.pushStyle();this.styles()}},post:function(){this.matrix&&d.popMatrix();this.style&&d.popStyle()},styles:function(){if(this.stroke){d.stroke(this.strokeColor);d.strokeWeight(this.strokeWeight);d.strokeCap(this.strokeCap);d.strokeJoin(this.strokeJoin)}else d.noStroke();this.fill?d.fill(this.fillColor):d.noFill()},getChild:function(a){var b,c;if(typeof a==="number")return this.children[a];else{var e;if(a===""||this.name===a)return this;
else{if(this.nameTable.length>0){b=0;for(c=this.nameTable.length;b<c||e;b++)if(this.nameTable[b].getName===a)e=this.nameTable[b];if(e)return e}b=0;for(c=this.children.length;b<c;b++)if(e=this.children[b].getChild(a))return e}return null}},getChildCount:function(){return this.children.length},addChild:function(a){this.children.push(a);a.parent=this;a.getName()!==null&&this.addName(a.getName(),a)},addName:function(a,b){this.parent!==null?this.parent.addName(a,b):this.nameTable.push([a,b])},translate:function(){if(arguments.length===
2){this.checkMatrix(2);this.matrix.translate(arguments[0],arguments[1])}else{this.checkMatrix(3);this.matrix.translate(arguments[0],arguments[1],0)}},checkMatrix:function(a){if(this.matrix===null)this.matrix=a===2?new d.PMatrix2D:new d.PMatrix3D;else if(a===3&&this.matrix instanceof d.PMatrix2D)this.matrix=new d.PMatrix3D},rotateX:function(a){this.rotate(a,1,0,0)},rotateY:function(a){this.rotate(a,0,1,0)},rotateZ:function(a){this.rotate(a,0,0,1)},rotate:function(){if(arguments.length===1){this.checkMatrix(2);
this.matrix.rotate(arguments[0])}else{this.checkMatrix(3);this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3])}},scale:function(){if(arguments.length===2){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1])}else if(arguments.length===3){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1],arguments[2])}else{this.checkMatrix(2);this.matrix.scale(arguments[0])}},resetMatrix:function(){this.checkMatrix(2);this.matrix.reset()},applyMatrix:function(a){if(arguments.length===
1)this.applyMatrix(a.elements[0],a.elements[1],0,a.elements[2],a.elements[3],a.elements[4],0,a.elements[5],0,0,1,0,0,0,0,1);else if(arguments.length===6){this.checkMatrix(2);this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)}else if(arguments.length===16){this.checkMatrix(3);this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13],arguments[14],arguments[15])}}};var aa=d.PShapeSVG=function(){d.PShape.call(this);if(arguments.length===1){this.element=arguments[0];this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=h.ALPHA_MASK;this.strokeWeight=1;this.strokeCap=h.SQUARE;this.strokeJoin=h.MITER;this.strokeName=this.strokeGradientPaint=this.strokeGradient=null;this.strokeOpacity=1;this.fill=true;this.fillColor=h.ALPHA_MASK;this.fillName=this.fillGradientPaint=
this.fillGradient=null;this.fillOpacity=1;if(this.element.getName()!=="svg")throw"root is not <svg>, it's <"+this.element.getName()+">";}else if(arguments.length===2)if(typeof arguments[1]==="string"){if(arguments[1].indexOf(".svg")>-1){this.element=new d.XMLElement(null,arguments[1]);this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=h.ALPHA_MASK;this.strokeWeight=1;this.strokeCap=h.SQUARE;this.strokeJoin=h.MITER;this.strokeName=this.strokeGradientPaint=this.strokeGradient=
"";this.strokeOpacity=1;this.fill=true;this.fillColor=h.ALPHA_MASK;this.fillGradientPaint=this.fillGradient=null;this.fillOpacity=1}}else if(arguments[0]){this.element=arguments[1];this.vertexCodes=arguments[0].vertexCodes.slice();this.vertices=arguments[0].vertices.slice();this.stroke=arguments[0].stroke;this.strokeColor=arguments[0].strokeColor;this.strokeWeight=arguments[0].strokeWeight;this.strokeCap=arguments[0].strokeCap;this.strokeJoin=arguments[0].strokeJoin;this.strokeGradient=arguments[0].strokeGradient;
this.strokeGradientPaint=arguments[0].strokeGradientPaint;this.strokeName=arguments[0].strokeName;this.fill=arguments[0].fill;this.fillColor=arguments[0].fillColor;this.fillGradient=arguments[0].fillGradient;this.fillGradientPaint=arguments[0].fillGradientPaint;this.fillName=arguments[0].fillName;this.strokeOpacity=arguments[0].strokeOpacity;this.fillOpacity=arguments[0].fillOpacity;this.opacity=arguments[0].opacity}this.name=this.element.getStringAttribute("id");this.visible=this.element.getStringAttribute("display",
"inline")!=="none";var a=this.element.getAttribute("transform");if(a)this.matrix=this.parseMatrix(a);a=this.element.getStringAttribute("viewBox");if(a!==null){a=a.split(" ");this.width=a[2];this.height=a[3]}a=this.element.getStringAttribute("width");var b=this.element.getStringAttribute("height");if(a!==null){this.width=this.parseUnitSize(a);this.height=this.parseUnitSize(b)}else if(this.width===0||this.height===0){this.height=this.width=1;throw"The width and/or height is not readable in the <svg> tag of this file.";
}this.parseColors(this.element);this.parseChildren(this.element)};aa.prototype=new pb;aa.prototype.parseMatrix=function(a){this.checkMatrix(2);var b=[];a.replace(/\s*(\w+)\((.*?)\)/g,function(g){b.push(d.trim(g))});if(b.length===0)return null;a=0;for(var c=b.length;a<c;a++){var e=[];b[a].replace(/\((.*?)\)/,function(){return function(g,k){e=k.replace(/,+/g," ").split(/\s+/)}}());if(b[a].indexOf("matrix")!==-1)this.matrix.set(e[0],e[2],e[4],e[1],e[3],e[5]);else if(b[a].indexOf("translate")!==-1)this.matrix.translate(e[0],
e.length===2?e[1]:0);else if(b[a].indexOf("scale")!==-1)this.matrix.scale(e[0],e.length===2?e[1]:e[0]);else if(b[a].indexOf("rotate")!==-1){var f=e[0];if(e.length===1)this.matrix.rotate(d.radians(f));else if(e.length===3){this.matrix.translate(e[1],e[2]);this.matrix.rotate(d.radians(e[0]));this.matrix.translate(-e[1],-e[2])}}else if(b[a].indexOf("skewX")!==-1)this.matrix.skewX(parseFloat(e[0]));else b[a].indexOf("skewY")!==-1&&this.matrix.skewY(e[0])}return this.matrix};aa.prototype.parseChildren=
function(a){a=a.getChildren();for(var b=new d.PShape,c=0,e=a.length;c<e;c++){var f=this.parseChild(a[c]);f&&b.addChild(f)}this.children.push(b)};aa.prototype.getName=function(){return this.name};aa.prototype.parseChild=function(a){var b=a.getName(),c;if(b==="g")c=new aa(this,a);else if(b==="defs")c=new aa(this,a);else if(b==="line"){c=new aa(this,a);c.parseLine()}else if(b==="circle"){c=new aa(this,a);c.parseEllipse(true)}else if(b==="ellipse"){c=new aa(this,a);c.parseEllipse(false)}else if(b==="rect"){c=
new aa(this,a);c.parseRect()}else if(b==="polygon"){c=new aa(this,a);c.parsePoly(true)}else if(b==="polyline"){c=new aa(this,a);c.parsePoly(false)}else if(b==="path"){c=new aa(this,a);c.parsePath()}return c};aa.prototype.parsePath=function(){this.family=h.PATH;this.kind=0;var a=d.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(a!==null){a=d.__toCharArray(a);for(var b=0,c=0,e=0,f=0,g=f=e=0,k=0,j=0,m=0,u=m=f=j=e=0,r=0,w="",q=[],E=false,Q,K,v;u<a.length;){r=a[u].valueOf();if(r>=
65&&r<=90||r>=97&&r<=122){v=u;u++;if(u<a.length){q=[];for(r=a[u].valueOf();!(r>=65&&r<=90||r>=97&&r<=100||r>=102&&r<=122)&&E===false;){if(r===32){if(w!==""){q.push(parseFloat(w));w=""}}else if(r===45)if(a[u-1].valueOf()===101)w+=a[u].toString();else{w!==""&&q.push(parseFloat(w));w=a[u].toString()}else w+=a[u].toString();u++;if(u===a.length)E=true;else r=a[u].valueOf()}}if(w!==""){q.push(parseFloat(w));w=""}K=a[v];r=K.valueOf();if(r===77){if(q.length>=2&&q.length%2===0){b=q[0];c=q[1];this.parsePathMoveto(b,
c);if(q.length>2){v=2;for(r=q.length;v<r;v+=2){b=q[v];c=q[v+1];this.parsePathLineto(b,c)}}}}else if(r===109){if(q.length>=2&&q.length%2===0){this.parsePathMoveto(b,c);if(q.length>2){v=2;for(r=q.length;v<r;v+=2){b+=q[v];c+=q[v+1];this.parsePathLineto(b,c)}}}}else if(r===76){if(q.length>=2&&q.length%2===0){v=0;for(r=q.length;v<r;v+=2){b=q[v];c=q[v+1];this.parsePathLineto(b,c)}}}else if(r===108){if(q.length>=2&&q.length%2===0){v=0;for(r=q.length;v<r;v+=2){b+=q[v];c+=q[v+1];this.parsePathLineto(b,c)}}}else if(r===
72){v=0;for(r=q.length;v<r;v++){b=q[v];this.parsePathLineto(b,c)}}else if(r===104){v=0;for(r=q.length;v<r;v++){b+=q[v];this.parsePathLineto(b,c)}}else if(r===86){v=0;for(r=q.length;v<r;v++){c=q[v];this.parsePathLineto(b,c)}}else if(r===118){v=0;for(r=q.length;v<r;v++){c+=q[v];this.parsePathLineto(b,c)}}else if(r===67){if(q.length>=6&&q.length%6===0){v=0;for(r=q.length;v<r;v+=6){e=q[v];g=q[v+1];f=q[v+2];k=q[v+3];j=q[v+4];m=q[v+5];this.parsePathCurveto(e,g,f,k,j,m);b=j;c=m}}}else if(r===99){if(q.length>=
6&&q.length%6===0){v=0;for(r=q.length;v<r;v+=6){e=b+q[v];g=c+q[v+1];f=b+q[v+2];k=c+q[v+3];j=b+q[v+4];m=c+q[v+5];this.parsePathCurveto(e,g,f,k,j,m);b=j;c=m}}}else if(r===83){if(q.length>=4&&q.length%4===0){v=0;for(r=q.length;v<r;v+=4){if(Q.toLowerCase()==="c"||Q.toLowerCase()==="s"){e=this.vertices[this.vertices.length-2][0];j=this.vertices[this.vertices.length-2][1];f=this.vertices[this.vertices.length-1][0];m=this.vertices[this.vertices.length-1][1];e=f+(f-e);g=m+(m-j)}else{e=this.vertices[this.vertices.length-
1][0];g=this.vertices[this.vertices.length-1][1]}f=q[v];k=q[v+1];j=q[v+2];m=q[v+3];this.parsePathCurveto(e,g,f,k,j,m);b=j;c=m}}}else if(r===115){if(q.length>=4&&q.length%4===0){v=0;for(r=q.length;v<r;v+=4){if(Q.toLowerCase()==="c"||Q.toLowerCase()==="s"){e=this.vertices[this.vertices.length-2][0];j=this.vertices[this.vertices.length-2][1];f=this.vertices[this.vertices.length-1][0];m=this.vertices[this.vertices.length-1][1];e=f+(f-e);g=m+(m-j)}else{e=this.vertices[this.vertices.length-1][0];g=this.vertices[this.vertices.length-
1][1]}f=b+q[v];k=c+q[v+1];j=b+q[v+2];m=c+q[v+3];this.parsePathCurveto(e,g,f,k,j,m);b=j;c=m}}}else if(r===81){if(q.length>=4&&q.length%4===0){v=0;for(r=q.length;v<r;v+=4){e=q[v];f=q[v+1];j=q[v+2];m=q[v+3];this.parsePathQuadto(b,c,e,f,j,m);b=j;c=m}}}else if(r===113){if(q.length>=4&&q.length%4===0){v=0;for(r=q.length;v<r;v+=4){e=b+q[v];f=c+q[v+1];j=b+q[v+2];m=c+q[v+3];this.parsePathQuadto(b,c,e,f,j,m);b=j;c=m}}}else if(r===84){if(q.length>=2&&q.length%2===0){v=0;for(r=q.length;v<r;v+=2){if(Q.toLowerCase()===
"q"||Q.toLowerCase()==="t"){e=this.vertices[this.vertices.length-2][0];j=this.vertices[this.vertices.length-2][1];f=this.vertices[this.vertices.length-1][0];m=this.vertices[this.vertices.length-1][1];e=f+(f-e);f=m+(m-j)}else{e=b;f=c}j=q[v];m=q[v+1];this.parsePathQuadto(b,c,e,f,j,m);b=j;c=m}}}else if(r===116){if(q.length>=2&&q.length%2===0){v=0;for(r=q.length;v<r;v+=2){if(Q.toLowerCase()==="q"||Q.toLowerCase()==="t"){e=this.vertices[this.vertices.length-2][0];j=this.vertices[this.vertices.length-2][1];
f=this.vertices[this.vertices.length-1][0];m=this.vertices[this.vertices.length-1][1];e=f+(f-e);f=m+(m-j)}else{e=b;f=c}j=b+q[v];m=c+q[v+1];this.parsePathQuadto(b,c,e,f,j,m);b=j;c=m}}}else if(r!==90)if(r===122)this.close=true;Q=K.toString()}else u++}}};aa.prototype.parsePathQuadto=function(a,b,c,e,f,g){if(this.vertices.length>0){this.parsePathCode(h.BEZIER_VERTEX);this.parsePathVertex(a+(c-a)*2/3,b+(e-b)*2/3);this.parsePathVertex(f+(c-f)*2/3,g+(e-g)*2/3);this.parsePathVertex(f,g)}else throw"Path must start with M/m";
};aa.prototype.parsePathCurveto=function(a,b,c,e,f,g){if(this.vertices.length>0){this.parsePathCode(h.BEZIER_VERTEX);this.parsePathVertex(a,b);this.parsePathVertex(c,e);this.parsePathVertex(f,g)}else throw"Path must start with M/m";};aa.prototype.parsePathLineto=function(a,b){if(this.vertices.length>0){this.parsePathCode(h.VERTEX);this.parsePathVertex(a,b);this.vertices[this.vertices.length-1].moveTo=false}else throw"Path must start with M/m";};aa.prototype.parsePathMoveto=function(a,b){this.vertices.length>
0&&this.parsePathCode(h.BREAK);this.parsePathCode(h.VERTEX);this.parsePathVertex(a,b);this.vertices[this.vertices.length-1].moveTo=true};aa.prototype.parsePathVertex=function(a,b){var c=[];c[0]=a;c[1]=b;this.vertices.push(c)};aa.prototype.parsePathCode=function(a){this.vertexCodes.push(a)};aa.prototype.parsePoly=function(a){this.family=h.PATH;this.close=a;a=d.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(a!==null){a=a.split(" ");if(a.length%2===0)for(var b=0,c=a.length;b<
c;b++){var e=[];e[0]=a[b];e[1]=a[++b];this.vertices.push(e)}}};aa.prototype.parseRect=function(){this.kind=h.RECT;this.family=h.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height")};aa.prototype.parseEllipse=function(a){this.kind=h.ELLIPSE;this.family=h.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("cx");
this.params[1]=this.element.getFloatAttribute("cy");var b;if(a)a=b=this.element.getFloatAttribute("r");else{a=this.element.getFloatAttribute("rx");b=this.element.getFloatAttribute("ry")}this.params[0]-=a;this.params[1]-=b;this.params[2]=a*2;this.params[3]=b*2};aa.prototype.parseLine=function(){this.kind=h.LINE;this.family=h.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");this.params[2]=this.element.getFloatAttribute("x2");
this.params[3]=this.element.getFloatAttribute("y2")};aa.prototype.parseColors=function(a){a.hasAttribute("opacity")&&this.setOpacity(a.getAttribute("opacity"));a.hasAttribute("stroke")&&this.setStroke(a.getAttribute("stroke"));a.hasAttribute("stroke-width")&&this.setStrokeWeight(a.getAttribute("stroke-width"));a.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(a.getAttribute("stroke-linejoin"));a.hasAttribute("stroke-linecap")&&this.setStrokeCap(a.getStringAttribute("stroke-linecap"));a.hasAttribute("fill")&&
this.setFill(a.getStringAttribute("fill"));if(a.hasAttribute("style")){a=a.getStringAttribute("style").toString().split(";");for(var b=0,c=a.length;b<c;b++){var e=d.trim(a[b].split(":"));if(e[0]==="fill")this.setFill(e[1]);else if(e[0]==="fill-opacity")this.setFillOpacity(e[1]);else if(e[0]==="stroke")this.setStroke(e[1]);else if(e[0]==="stroke-width")this.setStrokeWeight(e[1]);else if(e[0]==="stroke-linecap")this.setStrokeCap(e[1]);else if(e[0]==="stroke-linejoin")this.setStrokeJoin(e[1]);else if(e[0]===
"stroke-opacity")this.setStrokeOpacity(e[1]);else e[0]==="opacity"&&this.setOpacity(e[1])}}};aa.prototype.setFillOpacity=function(a){this.fillOpacity=parseFloat(a);this.fillColor=this.fillOpacity*255<<24|this.fillColor&16777215};aa.prototype.setFill=function(a){var b=this.fillColor&4278190080;if(a==="none")this.fill=false;else if(a.indexOf("#")===0){this.fill=true;this.fillColor=b|parseInt(a.substring(1),16)&16777215}else if(a.indexOf("rgb")===0){this.fill=true;this.fillColor=b|this.parseRGB(a)}else if(a.indexOf("url(#")===
0)this.fillName=a.substring(5,a.length-1);else if(vc[a]){this.fill=true;this.fillColor=b|parseInt(vc[a].substring(1),16)&16777215}};aa.prototype.setOpacity=function(a){this.strokeColor=parseFloat(a)*255<<24|this.strokeColor&16777215;this.fillColor=parseFloat(a)*255<<24|this.fillColor&16777215};aa.prototype.setStroke=function(a){var b=this.strokeColor&4278190080;if(a==="none")this.stroke=false;else if(a.charAt(0)==="#"){this.stroke=true;this.strokeColor=b|parseInt(a.substring(1),16)&16777215}else if(a.indexOf("rgb")===
0){this.stroke=true;this.strokeColor=b|this.parseRGB(a)}else if(a.indexOf("url(#")===0)this.strokeName=a.substring(5,a.length-1);else if(vc[a]){this.stroke=true;this.strokeColor=b|parseInt(vc[a].substring(1),16)&16777215}};aa.prototype.setStrokeWeight=function(a){this.strokeWeight=this.parseUnitSize(a)};aa.prototype.setStrokeJoin=function(a){if(a==="miter")this.strokeJoin=h.MITER;else if(a==="round")this.strokeJoin=h.ROUND;else if(a==="bevel")this.strokeJoin=h.BEVEL};aa.prototype.setStrokeCap=function(a){if(a===
"butt")this.strokeCap=h.SQUARE;else if(a==="round")this.strokeCap=h.ROUND;else if(a==="square")this.strokeCap=h.PROJECT};aa.prototype.setStrokeOpacity=function(a){this.strokeOpacity=parseFloat(a);this.strokeColor=this.strokeOpacity*255<<24|this.strokeColor&16777215};aa.prototype.parseRGB=function(a){a=a.substring(a.indexOf("(")+1,a.indexOf(")")).split(", ");return a[0]<<16|a[1]<<8|a[2]};aa.prototype.parseUnitSize=function(a){var b=a.length-2;if(b<0)return a;return a.indexOf("pt")===b?parseFloat(a.substring(0,
b))*1.25:a.indexOf("pc")===b?parseFloat(a.substring(0,b))*15:a.indexOf("mm")===b?parseFloat(a.substring(0,b))*3.543307:a.indexOf("cm")===b?parseFloat(a.substring(0,b))*35.43307:a.indexOf("in")===b?parseFloat(a.substring(0,b))*90:a.indexOf("px")===b?parseFloat(a.substring(0,b)):parseFloat(a)};d.shape=function(a,b,c,e,f){if(arguments.length>=1&&arguments[0]!==null)if(a.isVisible()){d.pushMatrix();if(cc===h.CENTER)if(arguments.length===5){d.translate(b-e/2,c-f/2);d.scale(e/a.getWidth(),f/a.getHeight())}else arguments.length===
3?d.translate(b-a.getWidth()/2,-a.getHeight()/2):d.translate(-a.getWidth()/2,-a.getHeight()/2);else if(cc===h.CORNER)if(arguments.length===5){d.translate(b,c);d.scale(e/a.getWidth(),f/a.getHeight())}else arguments.length===3&&d.translate(b,c);else if(cc===h.CORNERS)if(arguments.length===5){e-=b;f-=c;d.translate(b,c);d.scale(e/a.getWidth(),f/a.getHeight())}else arguments.length===3&&d.translate(b,c);a.draw();if(arguments.length===1&&cc===h.CENTER||arguments.length>1)d.popMatrix()}};d.shapeMode=function(a){cc=
a};d.loadShape=function(a){if(arguments.length===1)if(a.indexOf(".svg")>-1)return new aa(null,a);return null};var xc=function(a,b,c,e,f){this.fullName=a||"";this.name=b||"";this.namespace=c||"";this.value=e;this.type=f};xc.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(a){this.value=a}};var Tb=d.XMLElement=function(){if(arguments.length===
4){this.attributes=[];this.children=[];this.fullName=arguments[0]||"";if(arguments[1])this.name=arguments[1];else{var a=this.fullName.indexOf(":");this.name=a>=0?this.fullName.substring(a+1):this.fullName}this.namespace=arguments[1];this.content="";this.lineNr=arguments[3];this.systemID=arguments[2];this.parent=null}else if(arguments.length===2&&arguments[1].indexOf(".")>-1){this.attributes=[];this.children=[];this.lineNr=this.systemID=this.content=this.namespace=this.name=this.fullName="";this.parent=
null;this.parse(arguments[arguments.length-1])}else if(arguments.length===1&&typeof arguments[0]==="string"){this.attributes=[];this.children=[];this.lineNr=this.systemID=this.content=this.namespace=this.name=this.fullName="";this.parent=null;this.parse(arguments[0])}else{this.attributes=[];this.children=[];this.lineNr=this.systemID=this.content=this.namespace=this.name=this.fullName="";this.parent=null}};Tb.prototype={parse:function(a){var b;try{if(a.indexOf(".xml")>-1||a.indexOf(".svg")>-1)a=Cc(a);
b=(new DOMParser).parseFromString(a,"text/xml");var c=b.documentElement;if(c)this.parseChildrenRecursive(null,c);else throw"Error loading document";return this}catch(e){throw e;}},createElement:function(){return arguments.length===2?new Tb(arguments[0],arguments[1],null,null):new Tb(arguments[0],arguments[1],arguments[2],arguments[3])},hasAttribute:function(){if(arguments.length===1)return this.getAttribute(arguments[0])!==null;else if(arguments.length===2)return this.getAttribute(arguments[0],arguments[1])!==
null},createPCDataElement:function(){return new Tb},equals:function(a){if(typeof a==="Object")return this.equalsXMLElement(a)},equalsXMLElement:function(a){if(a instanceof Tb){var b,c;if(this.name!==a.getLocalName())return false;if(this.attributes.length!==a.getAttributeCount())return false;b=0;for(c=this.attributes.length;b<c;b++){if(!a.hasAttribute(this.attributes[b].getName(),this.attributes[b].getNamespace()))return false;if(this.attributes[b].getValue()!==a.attributes[b].getValue())return false;
if(this.attributes[b].getType()!==a.attributes[b].getType())return false}if(this.children.length!==a.getChildCount())return false;var e,f;b=0;for(c=this.children.length;b<c;b++){e=this.getChildAtIndex(b);f=a.getChildAtIndex(b);if(!e.equalsXMLElement(f))return false}return true}},getContent:function(){return this.content},getAttribute:function(){var a;if(arguments.length===2)return(a=this.findAttribute(arguments[0]))?a.getValue():arguments[1];else if(arguments.length===1)return(a=this.findAttribute(arguments[0]))?
a.getValue():null;else if(arguments.length===3)return(a=this.findAttribute(arguments[0],arguments[1]))?a.getValue():arguments[2]},getStringAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0]):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloatAttribute:function(){return arguments.length===1?parseFloat(this.getAttribute(arguments[0],0)):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):
this.getAttribute(arguments[0],arguments[1],arguments[2])},getIntAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0],0):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},hasChildren:function(){return this.children.length>0},addChild:function(a){if(a!==null){a.parent=this;this.children.push(a)}},insertChild:function(a,b){if(a){if(a.getLocalName()===null&&!this.hasChildren()){var c=this.children[this.children.length-
1];if(c.getLocalName()===null){c.setContent(c.getContent()+a.getContent());return}}a.parent=this;this.children.splice(b,0,a)}},getChild:function(a){if(typeof a==="number")return this.children[a];else if(a.indexOf("/")!==-1)this.getChildRecursive(a.split("/"),0);else{for(var b,c,e=0,f=this.getChildCount();e<f;e++){b=this.getChild(e);c=b.getName();if(c!==null&&c===a)return b}return null}},getChildren:function(){if(arguments.length===1)if(typeof arguments[0]==="number")return this.getChild(arguments[0]);
else if(arguments[0].indexOf("/")!==-1)return this.getChildrenRecursive(arguments[0].split("/"),0);else{for(var a=[],b,c,e=0,f=this.getChildCount();e<f;e++){b=this.getChild(e);c=b.getName();c!==null&&c===arguments[0]&&a.push(b)}return a}else return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(a,b){for(var c,e,f=0,g=this.getChildCount();f<g;f++){c=this.getChild(f);e=c.getName();if(e!==null&&e===a[b])if(b===a.length-1)return c;else{b+=1;return c.getChildRecursive(a,
b)}}return null},getChildrenRecursive:function(a,b){if(b===a.length-1)return this.getChildren(a[b]);for(var c=this.getChildren(a[b]),e=[],f=0;f<c.length;f++)e=e.concat(c[f].getChildrenRecursive(a,b+1));return e},parseChildrenRecursive:function(a,b){var c,e,f,g;if(a){c=new Tb(b.localName,b.nodeName,"","");c.content=b.textContent||"";c.parent=a}else{this.fullName=b.localName;this.name=b.nodeName;this.content=b.textContent||"";c=this}f=0;for(g=b.attributes.length;f<g;f++){e=b.attributes[f];e=new xc(e.getname,
e.nodeName,e.namespaceURI,e.nodeValue,e.nodeType);c.attributes.push(e)}f=0;for(g=b.childNodes.length;f<g;f++){e=b.childNodes[f];e.nodeType===1&&c.children.push(c.parseChildrenRecursive(c,e))}return c},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var a=[],b=0,c=this.children.length;b<c;b++)a.push(this.getChild(b).getName());return a},removeAttribute:function(a,b){this.namespace=b||"";for(var c=0,e=this.attributes.length;c<e;c++)if(this.attributes[c].getName()===a&&this.attributes[c].getNamespace()===
this.namespace){this.attributes.splice(c,1);break}},removeChild:function(a){if(a)for(var b=0,c=this.children.length;b<c;b++)if(this.children[b].equalsXMLElement(a)){this.children.splice(b,1);break}},removeChildAtIndex:function(a){this.children.length>a&&this.children.splice(a,1)},findAttribute:function(a,b){this.namespace=b||"";for(var c=0,e=this.attributes.length;c<e;c++)if(this.attributes[c].getName()===a&&this.attributes[c].getNamespace()===this.namespace)return this.attributes[c]},setAttribute:function(){var a;
if(arguments.length===3){a=arguments[0].indexOf(":");var b=arguments[0].substring(a+1);if(a=this.findAttribute(b,arguments[1]))a.setValue(arguments[2]);else{a=new xc(arguments[0],b,arguments[1],arguments[2],"CDATA");this.attributes.push(a)}}else if(a=this.findAttribute(arguments[0]))a.setValue(arguments[1]);else{a=new xc(arguments[0],arguments[0],null,arguments[1],"CDATA");this.attributes.push(a)}},setContent:function(a){this.content=a},setName:function(){if(arguments.length===1){this.name=arguments[0];
this.fullName=arguments[0];this.namespace=null}else{var a=arguments[0].indexOf(":");this.name=arguments[1]===null||a<0?arguments[0]:arguments[0].substring(a+1);this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length}};var vd=function(a){for(var b=0,c=0;c<a.length;c++)b=c!==0?Math.max(b,Math.abs(a[c])):Math.abs(a[c]);a=(b+"").indexOf(".");if(a===0)a=1;else if(a===
-1)a=(b+"").length;return a},lb=d.PMatrix2D=function(){if(arguments.length===0)this.reset();else if(arguments.length===1&&arguments[0]instanceof lb)this.set(arguments[0].array());else arguments.length===6&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};lb.prototype={set:function(){if(arguments.length===6){var a=arguments;this.set([a[0],a[1],a[2],a[3],a[4],a[5]])}else if(arguments.length===1&&arguments[0]instanceof lb)this.elements=arguments[0].array();else if(arguments.length===
1&&arguments[0]instanceof Array)this.elements=arguments[0].slice()},get:function(){var a=new lb;a.set(this.elements);return a},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(a,b){this.elements[2]=a*this.elements[0]+b*this.elements[1]+this.elements[2];this.elements[5]=a*this.elements[3]+b*this.elements[4]+this.elements[5]},transpose:function(){},mult:function(a,b){var c,e;if(a instanceof Ka){c=a.x;e=a.y;b||(b=new Ka)}else if(a instanceof
Array){c=a[0];e=a[1];b||(b=[])}if(b instanceof Array){b[0]=this.elements[0]*c+this.elements[1]*e+this.elements[2];b[1]=this.elements[3]*c+this.elements[4]*e+this.elements[5]}else if(b instanceof Ka){b.x=this.elements[0]*c+this.elements[1]*e+this.elements[2];b.y=this.elements[3]*c+this.elements[4]*e+this.elements[5];b.z=0}return b},multX:function(a,b){return a*this.elements[0]+b*this.elements[1]+this.elements[2]},multY:function(a,b){return a*this.elements[3]+b*this.elements[4]+this.elements[5]},skewX:function(a){this.apply(1,
0,1,a,0,0)},skewY:function(a){this.apply(1,0,1,0,a,0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var a=this.determinant();if(Math.abs(a)>h.MIN_INT){var b=this.elements[0],c=this.elements[1],e=this.elements[2],f=this.elements[3],g=this.elements[4],k=this.elements[5];this.elements[0]=g/a;this.elements[3]=-f/a;this.elements[1]=-c/a;this.elements[4]=b/a;this.elements[2]=(c*k-g*e)/a;this.elements[5]=(f*e-b*k)/a;return true}return false},
scale:function(a,b){if(a&&!b)b=a;if(a&&b){this.elements[0]*=a;this.elements[1]*=b;this.elements[3]*=a;this.elements[4]*=b}},apply:function(){var a;if(arguments.length===1&&arguments[0]instanceof lb)a=arguments[0].array();else if(arguments.length===6)a=Array.prototype.slice.call(arguments);else if(arguments.length===1&&arguments[0]instanceof Array)a=arguments[0];for(var b=[0,0,this.elements[2],0,0,this.elements[5]],c=0,e=0;e<2;e++)for(var f=0;f<3;f++,c++)b[c]+=this.elements[e*3+0]*a[f+0]+this.elements[e*
3+1]*a[f+3];this.elements=b.slice()},preApply:function(){var a;if(arguments.length===1&&arguments[0]instanceof lb)a=arguments[0].array();else if(arguments.length===6)a=Array.prototype.slice.call(arguments);else if(arguments.length===1&&arguments[0]instanceof Array)a=arguments[0];var b=[0,0,a[2],0,0,a[5]];b[2]=a[2]+this.elements[2]*a[0]+this.elements[5]*a[1];b[5]=a[5]+this.elements[2]*a[3]+this.elements[5]*a[4];b[0]=this.elements[0]*a[0]+this.elements[3]*a[1];b[3]=this.elements[0]*a[3]+this.elements[3]*
a[4];b[1]=this.elements[1]*a[0]+this.elements[4]*a[1];b[4]=this.elements[1]*a[3]+this.elements[4]*a[4];this.elements=b.slice()},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.elements[0],e=this.elements[1];this.elements[0]=b*c+a*e;this.elements[1]=-a*c+b*e;c=this.elements[3];e=this.elements[4];this.elements[3]=b*c+a*e;this.elements[4]=-a*c+b*e},rotateZ:function(a){this.rotate(a)},print:function(){var a=vd(this.elements);a=""+d.nfs(this.elements[0],a,4)+" "+d.nfs(this.elements[1],a,
4)+" "+d.nfs(this.elements[2],a,4)+"\n"+d.nfs(this.elements[3],a,4)+" "+d.nfs(this.elements[4],a,4)+" "+d.nfs(this.elements[5],a,4)+"\n\n";d.println(a)}};var O=d.PMatrix3D=function(){this.reset()};O.prototype={set:function(){if(arguments.length===16)this.elements=Array.prototype.slice.call(arguments);else if(arguments.length===1&&arguments[0]instanceof O)this.elements=arguments[0].array();else if(arguments.length===1&&arguments[0]instanceof Array)this.elements=arguments[0].slice()},get:function(){var a=
new O;a.set(this.elements);return a},reset:function(){this.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},array:function(){return this.elements.slice()},translate:function(a,b,c){if(c===B)c=0;this.elements[3]+=a*this.elements[0]+b*this.elements[1]+c*this.elements[2];this.elements[7]+=a*this.elements[4]+b*this.elements[5]+c*this.elements[6];this.elements[11]+=a*this.elements[8]+b*this.elements[9]+c*this.elements[10];this.elements[15]+=a*this.elements[12]+b*this.elements[13]+c*this.elements[14]},transpose:function(){var a=
this.elements.slice();this.elements[0]=a[0];this.elements[1]=a[4];this.elements[2]=a[8];this.elements[3]=a[12];this.elements[4]=a[1];this.elements[5]=a[5];this.elements[6]=a[9];this.elements[7]=a[13];this.elements[8]=a[2];this.elements[9]=a[6];this.elements[10]=a[10];this.elements[11]=a[14];this.elements[12]=a[3];this.elements[13]=a[7];this.elements[14]=a[11];this.elements[15]=a[15]},mult:function(a,b){var c,e,f,g;if(a instanceof Ka){c=a.x;e=a.y;f=a.z;g=1;b||(b=new Ka)}else if(a instanceof Array){c=
a[0];e=a[1];f=a[2];g=a[3]||1;if(!b||b.length!==3&&b.length!==4)b=[0,0,0]}if(b instanceof Array)if(b.length===3){b[0]=this.elements[0]*c+this.elements[1]*e+this.elements[2]*f+this.elements[3];b[1]=this.elements[4]*c+this.elements[5]*e+this.elements[6]*f+this.elements[7];b[2]=this.elements[8]*c+this.elements[9]*e+this.elements[10]*f+this.elements[11]}else if(b.length===4){b[0]=this.elements[0]*c+this.elements[1]*e+this.elements[2]*f+this.elements[3]*g;b[1]=this.elements[4]*c+this.elements[5]*e+this.elements[6]*
f+this.elements[7]*g;b[2]=this.elements[8]*c+this.elements[9]*e+this.elements[10]*f+this.elements[11]*g;b[3]=this.elements[12]*c+this.elements[13]*e+this.elements[14]*f+this.elements[15]*g}if(b instanceof Ka){b.x=this.elements[0]*c+this.elements[1]*e+this.elements[2]*f+this.elements[3];b.y=this.elements[4]*c+this.elements[5]*e+this.elements[6]*f+this.elements[7];b.z=this.elements[8]*c+this.elements[9]*e+this.elements[10]*f+this.elements[11]}return b},preApply:function(){var a;if(arguments.length===
1&&arguments[0]instanceof O)a=arguments[0].array();else if(arguments.length===16)a=Array.prototype.slice.call(arguments);else if(arguments.length===1&&arguments[0]instanceof Array)a=arguments[0];for(var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,e=0;e<4;e++)for(var f=0;f<4;f++,c++)b[c]+=this.elements[f+0]*a[e*4+0]+this.elements[f+4]*a[e*4+1]+this.elements[f+8]*a[e*4+2]+this.elements[f+12]*a[e*4+3];this.elements=b.slice()},apply:function(){var a;if(arguments.length===1&&arguments[0]instanceof O)a=arguments[0].array();
else if(arguments.length===16)a=Array.prototype.slice.call(arguments);else if(arguments.length===1&&arguments[0]instanceof Array)a=arguments[0];for(var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,e=0;e<4;e++)for(var f=0;f<4;f++,c++)b[c]+=this.elements[e*4+0]*a[f+0]+this.elements[e*4+1]*a[f+4]+this.elements[e*4+2]*a[f+8]+this.elements[e*4+3]*a[f+12];this.elements=b.slice()},rotate:function(a,b,c,e){if(c){var f=d.cos(a);a=d.sin(a);var g=1-f;this.apply(g*b*b+f,g*b*c-a*e,g*b*e+a*c,0,g*b*c+a*e,g*c*c+f,g*c*
e-a*b,0,g*b*e-a*c,g*c*e+a*b,g*e*e+f,0,0,0,0,1)}else this.rotateZ(a)},invApply:function(){if(bc===B)bc=new O;var a=arguments;bc.set(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]);if(!bc.invert())return false;this.preApply(bc);return true},rotateX:function(a){var b=d.cos(a);a=d.sin(a);this.apply([1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1])},rotateY:function(a){var b=d.cos(a);a=d.sin(a);this.apply([b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1])},rotateZ:function(a){var b=Math.cos(a);
a=Math.sin(a);this.apply([b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1])},scale:function(a,b,c){if(a&&!b&&!c)b=c=a;else if(a&&b&&!c)c=1;if(a&&b&&c){this.elements[0]*=a;this.elements[1]*=b;this.elements[2]*=c;this.elements[4]*=a;this.elements[5]*=b;this.elements[6]*=c;this.elements[8]*=a;this.elements[9]*=b;this.elements[10]*=c;this.elements[12]*=a;this.elements[13]*=b;this.elements[14]*=c}},skewX:function(a){this.apply(1,Math.tan(a),0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(a){this.apply(1,0,0,0,Math.tan(a),
1,0,0,0,0,1,0,0,0,0,1)},multX:function(a,b,c,e){return c?e?this.elements[0]*a+this.elements[1]*b+this.elements[2]*c+this.elements[3]*e:this.elements[0]*a+this.elements[1]*b+this.elements[2]*c+this.elements[3]:this.elements[0]*a+this.elements[1]*b+this.elements[3]},multY:function(a,b,c,e){return c?e?this.elements[4]*a+this.elements[5]*b+this.elements[6]*c+this.elements[7]*e:this.elements[4]*a+this.elements[5]*b+this.elements[6]*c+this.elements[7]:this.elements[4]*a+this.elements[5]*b+this.elements[7]},
multZ:function(a,b,c,e){return e?this.elements[8]*a+this.elements[9]*b+this.elements[10]*c+this.elements[11]*e:this.elements[8]*a+this.elements[9]*b+this.elements[10]*c+this.elements[11]},multW:function(a,b,c,e){return e?this.elements[12]*a+this.elements[13]*b+this.elements[14]*c+this.elements[15]*e:this.elements[12]*a+this.elements[13]*b+this.elements[14]*c+this.elements[15]},invert:function(){var a=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],b=this.elements[0]*this.elements[6]-
this.elements[2]*this.elements[4],c=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],e=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],f=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],g=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],k=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],j=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],m=this.elements[8]*this.elements[15]-this.elements[11]*
this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],r=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],w=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],q=a*w-b*r+c*u+e*m-f*j+g*k;if(Math.abs(q)<=1.0E-9)return false;var E=[];E[0]=+this.elements[5]*w-this.elements[6]*r+this.elements[7]*u;E[4]=-this.elements[4]*w+this.elements[6]*m-this.elements[7]*j;E[8]=+this.elements[4]*r-this.elements[5]*m+this.elements[7]*k;E[12]=
-this.elements[4]*u+this.elements[5]*j-this.elements[6]*k;E[1]=-this.elements[1]*w+this.elements[2]*r-this.elements[3]*u;E[5]=+this.elements[0]*w-this.elements[2]*m+this.elements[3]*j;E[9]=-this.elements[0]*r+this.elements[1]*m-this.elements[3]*k;E[13]=+this.elements[0]*u-this.elements[1]*j+this.elements[2]*k;E[2]=+this.elements[13]*g-this.elements[14]*f+this.elements[15]*e;E[6]=-this.elements[12]*g+this.elements[14]*c-this.elements[15]*b;E[10]=+this.elements[12]*f-this.elements[13]*c+this.elements[15]*
a;E[14]=-this.elements[12]*e+this.elements[13]*b-this.elements[14]*a;E[3]=-this.elements[9]*g+this.elements[10]*f-this.elements[11]*e;E[7]=+this.elements[8]*g-this.elements[10]*c+this.elements[11]*b;E[11]=-this.elements[8]*f+this.elements[9]*c-this.elements[11]*a;E[15]=+this.elements[8]*e-this.elements[9]*b+this.elements[10]*a;a=1/q;E[0]*=a;E[1]*=a;E[2]*=a;E[3]*=a;E[4]*=a;E[5]*=a;E[6]*=a;E[7]*=a;E[8]*=a;E[9]*=a;E[10]*=a;E[11]*=a;E[12]*=a;E[13]*=a;E[14]*=a;E[15]*=a;this.elements=E.slice();return true},
toString:function(){for(var a="",b=0;b<15;b++)a+=this.elements[b]+", ";a+=this.elements[15];return a},print:function(){var a=vd(this.elements);a=""+d.nfs(this.elements[0],a,4)+" "+d.nfs(this.elements[1],a,4)+" "+d.nfs(this.elements[2],a,4)+" "+d.nfs(this.elements[3],a,4)+"\n"+d.nfs(this.elements[4],a,4)+" "+d.nfs(this.elements[5],a,4)+" "+d.nfs(this.elements[6],a,4)+" "+d.nfs(this.elements[7],a,4)+"\n"+d.nfs(this.elements[8],a,4)+" "+d.nfs(this.elements[9],a,4)+" "+d.nfs(this.elements[10],a,4)+" "+
d.nfs(this.elements[11],a,4)+"\n"+d.nfs(this.elements[12],a,4)+" "+d.nfs(this.elements[13],a,4)+" "+d.nfs(this.elements[14],a,4)+" "+d.nfs(this.elements[15],a,4)+"\n\n";d.println(a)},invTranslate:function(a,b,c){this.preApply(1,0,0,-a,0,1,0,-b,0,0,1,-c,0,0,0,1)},invRotateX:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1])},invRotateY:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1])},invRotateZ:function(a){var b=
Math.cos(-a);a=Math.sin(-a);this.preApply([b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1])},invScale:function(a,b,c){this.preApply([1/a,0,0,0,0,1/b,0,0,0,0,1/c,0,0,0,0,1])}};var Kb=d.PMatrixStack=function(){this.matrixStack=[]};Kb.prototype.load=function(){var a;a=d.use3DContext?new O:new lb;arguments.length===1?a.set(arguments[0]):a.set(arguments);this.matrixStack.push(a)};Kb.prototype.push=function(){this.matrixStack.push(this.peek())};Kb.prototype.pop=function(){return this.matrixStack.pop()};Kb.prototype.peek=
function(){var a;a=d.use3DContext?new O:new lb;a.set(this.matrixStack[this.matrixStack.length-1]);return a};Kb.prototype.mult=function(a){this.matrixStack[this.matrixStack.length-1].apply(a)};d.split=function(a,b){return a.split(b)};d.splitTokens=function(a,b){if(arguments.length===1)b="\n\t\r\u000c ";b="["+b+"]";for(var c=[],e=0,f=a.search(b);f>=0;){if(f===0)a=a.substring(1);else{c[e]=a.substring(0,f);e++;a=a.substring(f)}f=a.search(b)}if(a.length>0)c[e]=a;if(c.length===0)c=B;return c};d.append=
function(a,b){a[a.length]=b;return a};d.concat=function(a,b){return a.concat(b)};d.sort=function(a,b){var c=[];if(a.length>0){for(var e=b>0?b:a.length,f=0;f<e;f++)c.push(a[f]);typeof a[0]==="string"?c.sort():c.sort(function(g,k){return g-k});if(b>0)for(e=c.length;e<a.length;e++)c.push(a[e])}return c};d.splice=function(a,b,c){if(b.length===0)return a;if(b instanceof Array)for(var e=0;e<b.length;c++,e++)a.splice(c,0,b[e]);else a.splice(c,0,b);return a};d.subset=function(a,b,c){if(arguments.length===
2)return a.slice(b,a.length-b);else if(arguments.length===3)return a.slice(b,b+c)};d.join=function(a,b){return a.join(b)};d.shorten=function(a){for(var b=[],c=a.length,e=0;e<c;e++)b[e]=a[e];b.pop();return b};d.expand=function(a,b){var c=a.slice(0);if(arguments.length===1){c.length=a.length*2;return c}else if(arguments.length===2){c.length=b;return c}};d.arrayCopy=function(){var a,b=0,c,e=0,f;if(arguments.length===2){a=arguments[0];c=arguments[1];f=a.length}else if(arguments.length===3){a=arguments[0];
c=arguments[1];f=arguments[2]}else if(arguments.length===5){a=arguments[0];b=arguments[1];c=arguments[2];e=arguments[3];f=arguments[4]}for(var g=b;g<f+b;g++,e++)if(c[e]!==B)c[e]=a[g];else throw"array index out of bounds exception";};d.reverse=function(a){return a.reverse()};d.mix=function(a,b,c){return a+((b-a)*c>>8)};d.peg=function(a){return a<0?0:a>255?255:a};d.modes={replace:function(a,b){return b},blend:function(a,b){var c=(b&h.ALPHA_MASK)>>>24;return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<
24|d.mix(a&h.RED_MASK,b&h.RED_MASK,c)&h.RED_MASK|d.mix(a&h.GREEN_MASK,b&h.GREEN_MASK,c)&h.GREEN_MASK|d.mix(a&h.BLUE_MASK,b&h.BLUE_MASK,c)},add:function(a,b){var c=(b&h.ALPHA_MASK)>>>24;return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|Math.min((a&h.RED_MASK)+((b&h.RED_MASK)>>8)*c,h.RED_MASK)&h.RED_MASK|Math.min((a&h.GREEN_MASK)+((b&h.GREEN_MASK)>>8)*c,h.GREEN_MASK)&h.GREEN_MASK|Math.min((a&h.BLUE_MASK)+((b&h.BLUE_MASK)*c>>8),h.BLUE_MASK)},subtract:function(a,b){var c=(b&h.ALPHA_MASK)>>>24;return Math.min(((a&
h.ALPHA_MASK)>>>24)+c,255)<<24|Math.max((a&h.RED_MASK)-((b&h.RED_MASK)>>8)*c,h.GREEN_MASK)&h.RED_MASK|Math.max((a&h.GREEN_MASK)-((b&h.GREEN_MASK)>>8)*c,h.BLUE_MASK)&h.GREEN_MASK|Math.max((a&h.BLUE_MASK)-((b&h.BLUE_MASK)*c>>8),0)},lightest:function(a,b){var c=(b&h.ALPHA_MASK)>>>24;return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|Math.max(a&h.RED_MASK,((b&h.RED_MASK)>>8)*c)&h.RED_MASK|Math.max(a&h.GREEN_MASK,((b&h.GREEN_MASK)>>8)*c)&h.GREEN_MASK|Math.max(a&h.BLUE_MASK,(b&h.BLUE_MASK)*c>>8)},darkest:function(a,
b){var c=(b&h.ALPHA_MASK)>>>24;return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.mix(a&h.RED_MASK,Math.min(a&h.RED_MASK,((b&h.RED_MASK)>>8)*c),c)&h.RED_MASK|d.mix(a&h.GREEN_MASK,Math.min(a&h.GREEN_MASK,((b&h.GREEN_MASK)>>8)*c),c)&h.GREEN_MASK|d.mix(a&h.BLUE_MASK,Math.min(a&h.BLUE_MASK,(b&h.BLUE_MASK)*c>>8),c)},difference:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=(b&h.RED_MASK)>>16,j=(b&h.GREEN_MASK)>>8,m=b&h.BLUE_MASK;j=f>j?f-j:j-f;m=
g>m?g-m:m-g;return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+(((e>k?e-k:k-e)-e)*c>>8))<<16|d.peg(f+((j-f)*c>>8))<<8|d.peg(g+((m-g)*c>>8))},exclusion:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=(b&h.RED_MASK)>>16,j=(b&h.GREEN_MASK)>>8,m=b&h.BLUE_MASK;j=f+j-(f*j>>7);m=g+m-(g*m>>7);return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+((e+k-(e*k>>7)-e)*c>>8))<<16|d.peg(f+((j-f)*c>>8))<<8|d.peg(g+((m-g)*c>>8))},multiply:function(a,
b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=f*((b&h.GREEN_MASK)>>8)>>8,j=g*(b&h.BLUE_MASK)>>8;return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+(((e*((b&h.RED_MASK)>>16)>>8)-e)*c>>8))<<16|d.peg(f+((k-f)*c>>8))<<8|d.peg(g+((j-g)*c>>8))},screen:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=255-((255-f)*(255-((b&h.GREEN_MASK)>>8))>>8),j=255-((255-g)*(255-(b&h.BLUE_MASK))>>8);return Math.min(((a&
h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+((255-((255-e)*(255-((b&h.RED_MASK)>>16))>>8)-e)*c>>8))<<16|d.peg(f+((k-f)*c>>8))<<8|d.peg(g+((j-g)*c>>8))},hard_light:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=(b&h.RED_MASK)>>16,j=(b&h.GREEN_MASK)>>8,m=b&h.BLUE_MASK;j=j<128?f*j>>7:255-((255-f)*(255-j)>>7);m=m<128?g*m>>7:255-((255-g)*(255-m)>>7);return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+(((k<128?e*k>>7:255-((255-e)*(255-k)>>7))-e)*
c>>8))<<16|d.peg(f+((j-f)*c>>8))<<8|d.peg(g+((m-g)*c>>8))},soft_light:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=(b&h.RED_MASK)>>16,j=(b&h.GREEN_MASK)>>8,m=b&h.BLUE_MASK;j=(f*j>>7)+(f*f>>8)-(f*f*j>>15);m=(g*m>>7)+(g*g>>8)-(g*g*m>>15);return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+(((e*k>>7)+(e*e>>8)-(e*e*k>>15)-e)*c>>8))<<16|d.peg(f+((j-f)*c>>8))<<8|d.peg(g+((m-g)*c>>8))},overlay:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&
h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=(b&h.RED_MASK)>>16,j=(b&h.GREEN_MASK)>>8,m=b&h.BLUE_MASK;j=f<128?f*j>>7:255-((255-f)*(255-j)>>7);m=g<128?g*m>>7:255-((255-g)*(255-m)>>7);return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+(((e<128?e*k>>7:255-((255-e)*(255-k)>>7))-e)*c>>8))<<16|d.peg(f+((j-f)*c>>8))<<8|d.peg(g+((m-g)*c>>8))},dodge:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=(b&h.RED_MASK)>>16,j=(b&h.GREEN_MASK)>>
8,m=b&h.BLUE_MASK;k=k===255?255:d.peg((e<<8)/(255-k));j=j===255?255:d.peg((f<<8)/(255-j));m=m===255?255:d.peg((g<<8)/(255-m));return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+((k-e)*c>>8))<<16|d.peg(f+((j-f)*c>>8))<<8|d.peg(g+((m-g)*c>>8))},burn:function(a,b){var c=(b&h.ALPHA_MASK)>>>24,e=(a&h.RED_MASK)>>16,f=(a&h.GREEN_MASK)>>8,g=a&h.BLUE_MASK,k=(b&h.RED_MASK)>>16,j=(b&h.GREEN_MASK)>>8,m=b&h.BLUE_MASK;k=k===0?0:255-d.peg((255-e<<8)/k);j=j===0?0:255-d.peg((255-f<<8)/j);m=m===0?0:255-d.peg((255-
g<<8)/m);return Math.min(((a&h.ALPHA_MASK)>>>24)+c,255)<<24|d.peg(e+((k-e)*c>>8))<<16|d.peg(f+((j-f)*c>>8))<<8|d.peg(g+((m-g)*c>>8))}};d.color=function(a,b,c,e){if(a!==B&&b!==B&&c!==B&&e!==B)return W(a,b,c,e);if(a!==B&&b!==B&&c!==B)return W(a,b,c,n);if(a!==B&&b!==B){var f;if(a&h.ALPHA_MASK){b=Math.round(255*(b/n));f=a-(a&h.ALPHA_MASK)+((b>255?255:b)<<24&h.ALPHA_MASK)}else if(G===h.RGB)f=W(a,a,a,b);else if(G===h.HSB)f=W(0,0,a/p*x,b);return f}if(typeof a==="number"){var g;if(a<=p&&a>=0)if(G===h.RGB)g=
W(a,a,a,n);else{if(G===h.HSB)g=W(0,0,a/p*x,n)}else if(a)g=a;return g}return W(p,t,x,n)};d.color.toString=function(a){return"rgba("+((a&h.RED_MASK)>>>16)+","+((a&h.GREEN_MASK)>>>8)+","+(a&h.BLUE_MASK)+","+((a&h.ALPHA_MASK)>>>24)/255+")"};d.color.toInt=function(a,b,c,e){return e<<24&h.ALPHA_MASK|a<<16&h.RED_MASK|b<<8&h.GREEN_MASK|c&h.BLUE_MASK};d.color.toArray=function(a){return[(a&h.RED_MASK)>>>16,(a&h.GREEN_MASK)>>>8,a&h.BLUE_MASK,(a&h.ALPHA_MASK)>>>24]};d.color.toGLArray=function(a){return[((a&h.RED_MASK)>>>
16)/255,((a&h.GREEN_MASK)>>>8)/255,(a&h.BLUE_MASK)/255,((a&h.ALPHA_MASK)>>>24)/255]};d.color.toRGB=function(a,b,c){a=a>p?p:a;b=b>t?t:b;c=c>x?x:c;a=a/p*360;b=b/t*100;c=c/x*100;var e=Math.round(c/100*255);if(b===0)return[e,e,e];else{a%=360;var f=a%60,g=Math.round(c*(100-b)/1E4*255),k=Math.round(c*(6E3-b*f)/6E5*255);b=Math.round(c*(6E3-b*(60-f))/6E5*255);switch(Math.floor(a/60)){case 0:return[e,b,g];case 1:return[k,e,g];case 2:return[g,e,b];case 3:return[g,k,e];case 4:return[b,g,e];case 5:return[e,g,
k]}}};d.color.toHSB=function(a){var b,c,e;b=((a&h.RED_MASK)>>>16)/255;c=((a&h.GREEN_MASK)>>>8)/255;e=(a&h.BLUE_MASK)/255;a=d.max(d.max(b,c),e);var f=d.min(d.min(b,c),e);if(f===a)return[0,0,a];else{b=b===a?(c-e)/(a-f):c===a?2+(e-b)/(a-f):4+(b-c)/(a-f);b/=6;if(b<0)b+=1;else if(b>1)b-=1}return[b*p,(a-f)/a*t,a*x]};d.brightness=function(a){return d.color.toHSB(a)[2]};d.saturation=function(a){return d.color.toHSB(a)[1]};d.hue=function(a){return d.color.toHSB(a)[0]};d.red=function(a){return((a&h.RED_MASK)>>>
16)/255*p};d.green=function(a){return((a&h.GREEN_MASK)>>>8)/255*t};d.blue=function(a){return(a&h.BLUE_MASK)/255*x};d.alpha=function(a){return((a&h.ALPHA_MASK)>>>24)/255*n};d.lerpColor=function(a,b,c){var e=d.color(a),f=(e&h.RED_MASK)>>>16,g=(e&h.GREEN_MASK)>>>8;a=e&h.BLUE_MASK;e=((e&h.ALPHA_MASK)>>>24)/n;var k=d.color(b),j=(k&h.GREEN_MASK)>>>8,m=k&h.BLUE_MASK;b=((k&h.ALPHA_MASK)>>>24)/n;f=parseInt(d.lerp(f,(k&h.RED_MASK)>>>16,c),10);g=parseInt(d.lerp(g,j,c),10);a=parseInt(d.lerp(a,m,c),10);c=parseFloat(d.lerp(e,
b,c)*n);return d.color.toInt(f,g,a,c)};d.defaultColor=function(a,b,c){var e=G;G=h.RGB;a=d.color(a/255*p,b/255*t,c/255*x);G=e;return a};d.colorMode=function(){G=arguments[0];if(arguments.length>1){p=arguments[1];t=arguments[2]||arguments[1];x=arguments[3]||arguments[1];n=arguments[4]||arguments[1]}};d.blendColor=function(a,b,c){var e=0;switch(c){case h.REPLACE:e=d.modes.replace(a,b);break;case h.BLEND:e=d.modes.blend(a,b);break;case h.ADD:e=d.modes.add(a,b);break;case h.SUBTRACT:e=d.modes.subtract(a,
b);break;case h.LIGHTEST:e=d.modes.lightest(a,b);break;case h.DARKEST:e=d.modes.darkest(a,b);break;case h.DIFFERENCE:e=d.modes.difference(a,b);break;case h.EXCLUSION:e=d.modes.exclusion(a,b);break;case h.MULTIPLY:e=d.modes.multiply(a,b);break;case h.SCREEN:e=d.modes.screen(a,b);break;case h.HARD_LIGHT:e=d.modes.hard_light(a,b);break;case h.SOFT_LIGHT:e=d.modes.soft_light(a,b);break;case h.OVERLAY:e=d.modes.overlay(a,b);break;case h.DODGE:e=d.modes.dodge(a,b);break;case h.BURN:e=d.modes.burn(a,b)}return e};
d.printMatrix=function(){ha.print()};d.translate=function(a,b,c){if(d.use3DContext){Va.translate(a,b,c);Wa.invTranslate(a,b,c)}else i.translate(a,b)};d.scale=function(a,b,c){if(d.use3DContext){Va.scale(a,b,c);Wa.invScale(a,b,c)}else i.scale(a,b||a)};d.pushMatrix=function(){d.use3DContext?rc.load(ha):i.save()};d.popMatrix=function(){d.use3DContext?ha.set(rc.pop()):$()};d.resetMatrix=function(){if(d.use3DContext){Va.reset();Wa.reset()}else i.setTransform(1,0,0,1,0,0)};d.applyMatrix=function(){var a=
arguments;if(!d.use3DContext){for(var b=a.length;b<16;b++)a[b]=0;a[10]=a[15]=1}Va.apply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]);Wa.invApply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])};d.rotateX=function(a){Va.rotateX(a);Wa.invRotateX(a)};d.rotateZ=function(a){Va.rotateZ(a);Wa.invRotateZ(a)};d.rotateY=function(a){Va.rotateY(a);Wa.invRotateY(a)};d.rotate=function(a){if(d.use3DContext){Va.rotateZ(a);Wa.invRotateZ(a)}else i.rotate(a)};
d.pushStyle=function(){i.save();d.pushMatrix();rd.push({doFill:ga,currentFillColor:$a,doStroke:Z,currentStrokeColor:Ba,curTint:P,curRectMode:qa,curColorMode:G,colorModeX:p,colorModeZ:x,colorModeY:t,colorModeA:n,curTextFont:T,curTextSize:I})};d.popStyle=function(){var a=rd.pop();if(a){$();d.popMatrix();ga=a.doFill;$a=a.currentFillColor;Z=a.doStroke;Ba=a.currentStrokeColor;P=a.curTint;qa=a.curRectmode;G=a.curColorMode;p=a.colorModeX;x=a.colorModeZ;t=a.colorModeY;n=a.colorModeA;T=a.curTextFont;I=a.curTextSize}else throw"Too many popStyle() without enough pushStyle()";
};d.year=function(){return(new Date).getFullYear()};d.month=function(){return(new Date).getMonth()+1};d.day=function(){return(new Date).getDate()};d.hour=function(){return(new Date).getHours()};d.minute=function(){return(new Date).getMinutes()};d.second=function(){return(new Date).getSeconds()};d.millis=function(){return(new Date).getTime()-ba};d.redraw=function(){var a=((new Date).getTime()-la)/1E3;Ha++;var b=Ha/a;if(a>0.5){la=(new Date).getTime();Ha=0;d.__frameRate=b}d.frameCount++;if(d.use3DContext){i.clear(i.DEPTH_BUFFER_BIT);
ab={attributes:{},locations:{}};d.noLights();d.lightFalloff(1,0,0);d.shininess(1);d.ambient(255,255,255);d.specular(0,0,0);d.camera();d.draw()}else{i.save();d.draw();$()}};d.noLoop=function(){fb=U=false;clearInterval(fa)};d.loop=function(){if(!fb){la=(new Date).getTime();Ha=0;fa=window.setInterval(function(){try{d.redraw()}catch(a){window.clearInterval(fa);throw a;}},tb);fb=U=true}};d.frameRate=function(a){Ma=a;tb=1E3/Ma;if(U){d.noLoop();d.loop()}};var ob=[];d.exit=function(){window.clearInterval(fa);
var a=d.externals.canvas.id;ma.instances.splice(yc[a],1);delete yc[a];for(var b in y.lib)y.lib.hasOwnProperty(b)&&y.lib[b].hasOwnProperty("detach")&&y.lib[b].detach(d);a=0;for(b=ob.length;a<b;a++){var c=ob[a][0],e=ob[a][1],f=ob[a][2];if(c.removeEventListener)c.removeEventListener(e,f,false);else c.detachEvent&&c.detachEvent("on"+e,f)}};d.cursor=function(){if(arguments.length>1||arguments.length===1&&arguments[0]instanceof d.PImage){var a=arguments[0],b,c;if(arguments.length>=3){b=arguments[1];c=arguments[2];
if(b<0||c<0||c>=a.height||b>=a.width)throw"x and y must be non-negative and less than the dimensions of the image";}else{b=a.width>>>1;c=a.height>>>1}a='url("'+a.toDataURL()+'") '+b+" "+c+", default";s.style.cursor=a}else s.style.cursor=arguments.length===1?arguments[0]:Bb};d.noCursor=function(){s.style.cursor=h.NOCURSOR};d.link=function(a,b){if(b!==B)window.open(a,b);else window.location=a};d.beginDraw=function(){};d.endDraw=function(){};d.Import=function(){};var wd=function(a){a.preventDefault();
a.stopPropagation()};d.disableContextMenu=function(){s.addEventListener("contextmenu",wd,false)};d.enableContextMenu=function(){s.removeEventListener("contextmenu",wd,false)};d.status=function(a){window.status=a};d.binary=function(a,b){var c=32;if(typeof a==="number"){if(b)c=b;return H(a,c)}if(a instanceof gb){a=a.toString().charCodeAt(0);c=b?32:16}c=H(a,c);if(b)c=c.substr(-b);return c};d.unbinary=function(a){var b=/^[0|1]{8}$/,c=0;if(a instanceof Array){c=[];for(b=0;b<a.length;b++)c[b]=d.unbinary(a[b]);
return c}else if(isNaN(a))throw"NaN_Err";else if(arguments.length===1||a.length===8)if(b.test(a)){for(b=0;b<8;b++)c+=Math.pow(2,b)*parseInt(a.charAt(7-b),10);return c+""}else throw"notBinary: the value passed into unbinary was not an 8 bit binary number";else throw"longErr";};d.nf=function(a,b,c){return M(a,"","-",b,c)};d.nfs=function(a,b,c){return M(a," ","-",b,c)};d.nfp=function(a,b,c){return M(a,"+","-",b,c)};d.nfc=function(a,b,c){return M(a,"","-",b,c,",")};d.hex=function(a,b){if(arguments.length===
1)b=a instanceof gb?4:8;var c=a,e=b;e=e===B||e===null?e=8:e;if(c<0)c=4294967295+c+1;for(c=Number(c).toString(16).toUpperCase();c.length<e;)c="0"+c;if(c.length>=e)c=c.substring(c.length-e,c.length);return c};d.unhex=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(N(a[c]));return b}else return N(a)};d.loadStrings=function(a){if(localStorage[a])return localStorage[a].split("\n");a=Cc(a);if(typeof a!=="string"||a==="")return[];a=a.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return a.split("\n")};
d.saveStrings=function(a,b){localStorage[a]=b.join("\n")};d.loadBytes=function(a){a=Cc(a);for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c));return b};d.matchAll=function(a,b){for(var c=[],e,f=RegExp(b,"g");(e=f.exec(a))!==null;){c.push(e);e[0].length===0&&++f.lastIndex}return c.length>0?c:null};d.__replaceAll=function(a,b,c){if(typeof a!=="string")return a.replaceAll.apply(a,ca(arguments));return a.replace(RegExp(b,"g"),c)};d.__replaceFirst=function(a,b,c){if(typeof a!=="string")return a.replaceFirst.apply(a,
ca(arguments));return a.replace(RegExp(b,""),c)};d.__replace=function(a,b,c){if(typeof a!=="string")return a.replace.apply(a,ca(arguments));if(b instanceof RegExp)return a.replace(b,c);if(typeof b!=="string")b=b.toString();if(b==="")return a;var e=a.indexOf(b);if(e<0)return a;var f=0,g="";do{g+=a.substring(f,e)+c;f=e+b.length}while((e=a.indexOf(b,f))>=0);return g+a.substring(f)};d.__equals=function(a,b){if(a.equals instanceof Function)return a.equals.apply(a,ca(arguments));return a.valueOf()===b.valueOf()};
d.__toCharArray=function(a){if(typeof a!=="string")return a.toCharArray.apply(a,ca(arguments));for(var b=[],c=0,e=a.length;c<e;++c)b[c]=new gb(a.charAt(c));return b};d.match=function(a,b){return a.match(b)};d.__hashCode=function(a){if(a.hashCode instanceof Function)return a.hashCode.apply(a,ca(arguments));return 0|a};d.__printStackTrace=function(a){d.println("Exception: "+a.toString())};var zc=[];d.console=window.console||y.logger;d.println=function(a){var b=zc.length;if(b){y.logger.log(zc.join(""));
zc.length=0}if(arguments.length===0&&b===0)y.logger.log("");else arguments.length!==0&&y.logger.log(a)};d.print=function(a){zc.push(a)};d.str=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(a[c].toString()+"");return b}else return a.toString()+""};d.trim=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(a[c].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return b}else return a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")};d.parseBoolean=
function(a){return d["boolean"](a)};d["boolean"]=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(ja(a[c]));return b}else return ja(a)};d["byte"]=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(0-(a[c]&128)|a[c]&127);return b}else return 0-(a&128)|a&127};d["char"]=function(a){if(typeof a==="number")return new gb(String.fromCharCode(a&65535));else if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(new gb(String.fromCharCode(a[c]&65535)));
return b}else throw"char() may receive only one argument of type int, byte, int[], or byte[].";};d["float"]=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(za(a[c]));return b}else return za(a)};d["int"]=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)typeof a[c]==="string"&&!/^\s*[+\-]?\d+\s*$/.test(a[c])?b.push(0):b.push(V(a[c]));return b}else return V(a)};d.__int_cast=function(a){return 0|a};d.abs=Math.abs;d.ceil=Math.ceil;d.constrain=function(a,b,c){return a>
c?c:a<b?b:a};d.dist=function(){var a,b,c;if(arguments.length===4){a=arguments[0]-arguments[2];b=arguments[1]-arguments[3];return Math.sqrt(a*a+b*b)}else if(arguments.length===6){a=arguments[0]-arguments[3];b=arguments[1]-arguments[4];c=arguments[2]-arguments[5];return Math.sqrt(a*a+b*b+c*c)}};d.exp=Math.exp;d.floor=Math.floor;d.lerp=function(a,b,c){return(b-a)*c+a};d.log=Math.log;d.mag=function(a,b,c){if(arguments.length===2)return Math.sqrt(a*a+b*b);else if(arguments.length===3)return Math.sqrt(a*
a+b*b+c*c)};d.map=function(a,b,c,e,f){return e+(f-e)*((a-b)/(c-b))};d.max=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[1]:arguments[0];else{var a=arguments.length===1?arguments[0]:arguments;if(!("length"in a&&a.length>0))throw"Non-empty array is expected";for(var b=a[0],c=a.length,e=1;e<c;++e)if(b<a[e])b=a[e];return b}};d.min=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[0]:arguments[1];else{var a=arguments.length===1?arguments[0]:arguments;
if(!("length"in a&&a.length>0))throw"Non-empty array is expected";for(var b=a[0],c=a.length,e=1;e<c;++e)if(b>a[e])b=a[e];return b}};d.norm=function(a,b,c){return(a-b)/(c-b)};d.pow=Math.pow;d.round=Math.round;d.sq=function(a){return a*a};d.sqrt=Math.sqrt;d.acos=Math.acos;d.asin=Math.asin;d.atan=Math.atan;d.atan2=Math.atan2;d.cos=Math.cos;d.degrees=function(a){return a*180/Math.PI};d.radians=function(a){return a/180*Math.PI};d.sin=Math.sin;d.tan=Math.tan;var Ac=Math.random;d.random=function(){if(arguments.length===
0)return Ac();else if(arguments.length===1)return Ac()*arguments[0];else{var a=arguments[0],b=arguments[1];return Ac()*(b-a)+a}};da.createRandomized=function(){var a=new Date;return new da(a/6E4&4294967295,a&4294967295)};d.randomSeed=function(a){Ac=(new da(a)).nextDouble};d.Random=function(a){var b=false,c,e;this.nextGaussian=function(){if(b){b=false;return c}else{var f,g,k;do{f=2*e()-1;g=2*e()-1;k=f*f+g*g}while(k>=1||k===0);k=Math.sqrt(-2*Math.log(k)/k);c=g*k;b=true;return f*k}};e=a===B?Math.random:
(new da(a)).nextDouble};var mb={generator:B,octaves:4,fallout:0.5,seed:B};d.noise=function(a,b,c){if(mb.generator===B)mb.generator=new oa(mb.seed);for(var e=mb.generator,f=1,g=1,k=0,j=0;j<mb.octaves;++j){f*=mb.fallout;switch(arguments.length){case 1:k+=f*(1+e.noise1d(g*a))/2;break;case 2:k+=f*(1+e.noise2d(g*a,g*b))/2;break;case 3:k+=f*(1+e.noise3d(g*a,g*b,g*c))/2}g*=2}return k};d.noiseDetail=function(a,b){mb.octaves=a;if(b!==B)mb.fallout=b};d.noiseSeed=function(a){mb.seed=a;mb.generator=B};var Ub=
function(){if(!na.options.isTransparent)if(d.use3DContext){i.clearColor(0.8,0.8,0.8,1);i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}else{i.fillStyle="rgb(204, 204, 204)";i.fillRect(0,0,d.width,d.height);Ja=true}};d.size=function(){var a=false;return function(b,c,e){if(e&&e===h.WEBGL){if(a)throw"Multiple calls to size() for 3D renders are not allowed.";a=true;try{if(s.width!==b||s.height!==c){s.setAttribute("width",b);s.setAttribute("height",c)}i=s.getContext("experimental-webgl");d.use3DContext=
true;kd=i.createTexture();cd=i.createTexture()}catch(f){y.debug(f)}if(i){for(e=0;e<h.SINCOS_LENGTH;e++){Rc[e]=d.sin(e*(h.PI/180)*0.5);Sc[e]=d.cos(e*(h.PI/180)*0.5)}i.viewport(0,0,s.width,s.height);i.enable(i.DEPTH_TEST);i.enable(i.BLEND);i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA);Ub();S=Xc(i,"varying vec4 frontColor;attribute vec3 Vertex;attribute vec2 aTextureCoord;uniform vec4 color;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform float pointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = pointSize;  frontColor = color;  gl_Position = projection * view * model * vec4(Vertex, 1.0);  vTextureCoord = aTextureCoord;}",
"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int picktype;void main(void){  if(picktype == 0){    gl_FragColor = frontColor;  }  else if(picktype == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(frontColor.rgb*alpha, alpha);\n  }}");i.useProgram(S);d.strokeWeight(1);F=Xc(i,"varying vec4 frontColor;attribute vec3 Vertex;attribute vec3 Normal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 color;uniform bool usingMat;uniform vec3 specular;uniform vec3 mat_emissive;uniform vec3 mat_ambient;uniform vec3 mat_specular;uniform float shininess;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform mat4 normalTransform;uniform int lightCount;uniform vec3 falloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light lights0;uniform Light lights1;uniform Light lights2;uniform Light lights3;uniform Light lights4;uniform Light lights5;uniform Light lights6;uniform Light lights7;Light getLight(int index){  if(index == 0) return lights0;  if(index == 1) return lights1;  if(index == 2) return lights2;  if(index == 3) return lights3;  if(index == 4) return lights4;  if(index == 5) return lights5;  if(index == 6) return lights6;  return lights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerfactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-ecPos )));  if( nDotVP != 0.0 ){    powerfactor = pow( nDotVH, shininess );  }  col += light.color * nDotVP;  spec += specular * powerfactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in vec3 eye, in Light light ) {  float powerfactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP + eye );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0) {    powerfactor = 0.0;  }  else{    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in vec3 eye, in Light light ) {  float spotAttenuation;  float powerfactor;  vec3 VP = light.position - ecPos;   vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ) );  float spotDot = dot( VP, ldir );    spotAttenuation = 1.0;  attenuation *= spotAttenuation;  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP + eye );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerfactor = 0.0;  }  else {    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0, 0.0, 0.0 );  vec3 finalDiffuse = vec3( 0.0, 0.0, 0.0 );  vec3 finalSpecular = vec3( 0.0, 0.0, 0.0 );  vec4 col = color;  if(color[0] == -1.0){    col = aColor;  }  vec3 norm = vec3( normalTransform * vec4( Normal, 0.0 ) );  vec4 ecPos4 = view * model * vec4(Vertex,1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  vec3 eye = vec3( 0.0, 0.0, 1.0 );  if( lightCount == 0 ) {    frontColor = col + vec4(mat_specular,1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= lightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, eye, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, eye, l );      }    }   if( usingMat == false ) {     frontColor = vec4(       vec3(col) * finalAmbient +       vec3(col) * finalDiffuse +       vec3(col) * finalSpecular,       col[3] );   }   else{     frontColor = vec4(        mat_emissive +        (vec3(col) * mat_ambient * finalAmbient) +        (vec3(col) * finalDiffuse) +        (mat_specular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = projection * view * model * vec4( Vertex, 1.0 );}",
"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;uniform sampler2D sampler;uniform bool usingTexture;varying vec2 vTexture;void main(void){  if(usingTexture){    gl_FragColor =  vec4(texture2D(sampler, vTexture.xy));  }  else{    gl_FragColor = frontColor;  }}");bb=Xc(i,"varying vec4 frontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;void main(void) {  frontColor = aColor;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}",
"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;void main(void){  gl_FragColor = frontColor;}");i.useProgram(F);L("usingTexture3d",F,"usingTexture",Ra);d.lightFalloff(1,0,0);d.shininess(1);d.ambient(255,255,255);d.specular(0,0,0);Jc=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,Jc);i.bufferData(i.ARRAY_BUFFER,sd,i.STATIC_DRAW);Kc=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,Kc);i.bufferData(i.ARRAY_BUFFER,Id,i.STATIC_DRAW);Lc=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,Lc);
i.bufferData(i.ARRAY_BUFFER,td,i.STATIC_DRAW);nc=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,nc);i.bufferData(i.ARRAY_BUFFER,Wc,i.STATIC_DRAW);Mc=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,Mc);i.bufferData(i.ARRAY_BUFFER,Jd,i.STATIC_DRAW);$b=i.createBuffer();Nc=i.createBuffer();hd=i.createBuffer();Oc=i.createBuffer();id=i.createBuffer();jd=i.createBuffer();oc=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,oc);i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,0]),i.STATIC_DRAW);Ec=i.createBuffer();
i.bindBuffer(i.ARRAY_BUFFER,Ec);i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),i.STATIC_DRAW);Fc=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,Fc);i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),i.STATIC_DRAW);Gc=i.createBuffer();i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,Gc);i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,2,3,0]),i.STATIC_DRAW);Hb=new O;kb=new O;Va=new O;Wa=new O;ha=new O;ac=new O;Ca=new O;d.camera();d.perspective();Va=ha;Wa=ac;rc=
new Kb;yb=new O;Qa=new O;va=new O;Sb=new O;Hc=new O;Ic=new O;Ic.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0)}else throw"WebGL context is not supported on this browser.";d.stroke(0);d.fill(255)}else if(i===B){i=s.getContext("2d");d.use3DContext=false;rc=new Kb;ha=new lb}e={fillStyle:i.fillStyle,strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineJoin:i.lineJoin};if(s.style.length>0){s.style.removeProperty("width");s.style.removeProperty("height")}s.width=d.width=b||100;s.height=d.height=c||100;for(var g in e)if(e)i[g]=
e[g];this.textSize(I);Ub();nd=Math.max(1E3,b*c*0.05);d.externals.context=i}}();d.ambientLight=function(a,b,c,e,f,g){if(d.use3DContext){if(X===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";e=new Ka(e,f,g);f=new O;f.scale(1,-1,1);f.apply(ha.array());f.mult(e,e);i.useProgram(F);D("lights.color.3d."+X,F,"lights"+X+".color",[a/255,b/255,c/255]);D("lights.position.3d."+X,F,"lights"+X+".position",e.array());L("lights.type.3d."+X,F,"lights"+X+".type",0);L("lightCount3d",F,"lightCount",++X)}};
d.directionalLight=function(a,b,c,e,f,g){if(d.use3DContext){if(X===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";i.useProgram(F);e=[e,f,g,-1.0E-11];f=new O;f.set(ha.array());f.mult(e,e);D("lights.color.3d."+X,F,"lights"+X+".color",[a/255,b/255,c/255]);D("lights.position.3d."+X,F,"lights"+X+".position",[e[0],-e[1],e[2]]);L("lights.type.3d."+X,F,"lights"+X+".type",1);L("lightCount3d",F,"lightCount",++X)}};d.lightFalloff=function(a,b,c){if(d.use3DContext){i.useProgram(F);D("falloff3d",
F,"falloff",[a,b,c])}};d.lightSpecular=function(a,b,c){if(d.use3DContext){i.useProgram(F);D("specular3d",F,"specular",[a/255,b/255,c/255])}};d.lights=function(){d.ambientLight(128,128,128);d.directionalLight(128,128,128,0,0,-1);d.lightFalloff(1,0,0);d.lightSpecular(0,0,0)};d.pointLight=function(a,b,c,e,f,g){if(d.use3DContext){if(X===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";e=new Ka(e,f,g);f=new O;f.scale(1,-1,1);f.apply(ha.array());f.mult(e,e);i.useProgram(F);D("lights.color.3d."+
X,F,"lights"+X+".color",[a/255,b/255,c/255]);D("lights.position.3d."+X,F,"lights"+X+".position",e.array());L("lights.type.3d."+X,F,"lights"+X+".type",2);L("lightCount3d",F,"lightCount",++X)}};d.noLights=function(){if(d.use3DContext){X=0;i.useProgram(F);L("lightCount3d",F,"lightCount",X)}};d.spotLight=function(a,b,c,e,f,g,k,j,m,u,r){if(d.use3DContext){if(X===h.MAX_LIGHTS)throw"can only create "+h.MAX_LIGHTS+" lights";i.useProgram(F);e=new Ka(e,f,g);f=new O;f.scale(1,-1,1);f.apply(ha.array());f.mult(e,
e);k=[k,j,m,-1.0E-8];f.set(ha.array());f.mult(k,k);D("lights.color.3d."+X,F,"lights"+X+".color",[a/255,b/255,c/255]);D("lights.position.3d."+X,F,"lights"+X+".position",e.array());D("lights.direction.3d."+X,F,"lights"+X+".direction",[k[0],-k[1],k[2]]);D("lights.concentration.3d."+X,F,"lights"+X+".concentration",r);D("lights.angle.3d."+X,F,"lights"+X+".angle",u);L("lights.type.3d."+X,F,"lights"+X+".type",3);L("lightCount3d",F,"lightCount",++X)}};d.beginCamera=function(){if(sc)throw"You cannot call beginCamera() again before calling endCamera()";
else{sc=true;Va=kb;Wa=Hb}};d.endCamera=function(){if(sc){ha.set(Hb);ac.set(kb);Va=ha;Wa=ac;sc=false}else throw"You cannot call endCamera() before calling beginCamera()";};d.camera=function(a,b,c,e,f,g,k,j,m){if(arguments.length===0){Tc=s.width/2;Ib=s.height/2;Jb=Ib/Math.tan(tc/2);a=Tc;b=Ib;c=Jb;e=Tc;f=Ib;k=g=0;j=1;m=0}var u=new Ka(a-e,b-f,c-g),r=new Ka(k,j,m);u.normalize();var w=Ka.cross(r,u);r=Ka.cross(u,w);w.normalize();r.normalize();Hb.set(w.x,w.y,w.z,0,r.x,r.y,r.z,0,u.x,u.y,u.z,0,0,0,0,1);Hb.translate(-a,
-b,-c);kb.reset();kb.invApply(w.x,w.y,w.z,0,r.x,r.y,r.z,0,u.x,u.y,u.z,0,0,0,0,1);kb.translate(a,b,c);ha.set(Hb);ac.set(kb)};d.perspective=function(a,b,c,e){if(arguments.length===0){Ib=s.height/2;Jb=Ib/Math.tan(tc/2);od=Jb/10;pd=Jb*10;qd=s.width/s.height;a=tc;b=qd;c=od;e=pd}var f,g;f=c*Math.tan(a/2);g=-f;d.frustum(g*b,f*b,g,f,c,e)};d.frustum=function(a,b,c,e,f,g){Ca=new O;Ca.set(2*f/(b-a),0,(b+a)/(b-a),0,0,2*f/(e-c),(e+c)/(e-c),0,0,0,-(g+f)/(g-f),-(2*g*f)/(g-f),0,0,-1,0)};d.ortho=function(a,b,c,e,
f,g){if(arguments.length===0){a=0;b=d.width;c=0;e=d.height;f=-10;g=10}var k=2/(b-a),j=2/(e-c),m=-2/(g-f),u=-(b+a)/(b-a),r=-(e+c)/(e-c),w=-(g+f)/(g-f);Ca=new O;Ca.set(k,0,0,u,0,j,0,r,0,0,m,w,0,0,0,1)};d.printProjection=function(){Ca.print()};d.printCamera=function(){Hb.print()};d.box=function(a,b,c){if(d.use3DContext){if(!b||!c)b=c=a;var e=new O;e.scale(a,b,c);a=new O;a.scale(1,-1,1);a.apply(ha.array());a.transpose();b=new O;b.set(Ca);b.transpose();if(ga===true){i.useProgram(F);C("model3d",F,"model",
false,e.array());C("view3d",F,"view",false,a.array());C("projection3d",F,"projection",false,b.array());i.enable(i.POLYGON_OFFSET_FILL);i.polygonOffset(1,1);D("color3d",F,"color",Ea);c=new O;c.set(a);var f=new O;f.set(e);c.mult(f);f=new O;f.set(c);f.invert();f.transpose();C("normalTransform3d",F,"normalTransform",false,f.array());A("vertex3d",F,"Vertex",3,Jc);A("normal3d",F,"Normal",3,Kc);R("aColor3d",F,"aColor");R("aTexture3d",F,"aTexture");i.drawArrays(i.TRIANGLES,0,sd.length/3);i.disable(i.POLYGON_OFFSET_FILL)}if(Ga>
0&&Z){i.useProgram(S);C("model2d",S,"model",false,e.array());C("view2d",S,"view",false,a.array());C("projection2d",S,"projection",false,b.array());D("color2d",S,"color",Fa);L("picktype2d",S,"picktype",0);A("vertex2d",S,"Vertex",3,Lc);R("aTextureCoord2d",S,"aTextureCoord");i.lineWidth(Ga);i.drawArrays(i.LINES,0,td.length/3)}}};d.sphereDetail=function(a,b){var c;if(arguments.length===1)a=b=arguments[0];if(a<3)a=3;if(b<2)b=2;if(!(a===Gb&&b===qc)){var e=h.SINCOS_LENGTH/a,f=new Float32Array(a),g=new Float32Array(a);
for(c=0;c<a;c++){f[c]=Sc[parseInt(c*e%h.SINCOS_LENGTH,10)];g[c]=Rc[parseInt(c*e%h.SINCOS_LENGTH,10)]}c=a*(b-1)+2;e=0;hb=new Float32Array(c);ib=new Float32Array(c);jb=new Float32Array(c);var k=h.SINCOS_LENGTH*0.5/b,j=k;for(c=1;c<b;c++){for(var m=Rc[parseInt(j%h.SINCOS_LENGTH,10)],u=-Sc[parseInt(j%h.SINCOS_LENGTH,10)],r=0;r<a;r++){hb[e]=f[r]*m;ib[e]=u;jb[e++]=g[r]*m}j+=k}Gb=a;qc=b;Y=[];for(f=0;f<Gb;f++){Y.push(0);Y.push(-1);Y.push(0);Y.push(hb[f]);Y.push(ib[f]);Y.push(jb[f])}Y.push(0);Y.push(-1);Y.push(0);
Y.push(hb[0]);Y.push(ib[0]);Y.push(jb[0]);k=0;for(f=2;f<qc;f++){g=c=k;k+=Gb;e=k;for(j=0;j<Gb;j++){Y.push(parseFloat(hb[g]));Y.push(parseFloat(ib[g]));Y.push(parseFloat(jb[g++]));Y.push(parseFloat(hb[e]));Y.push(parseFloat(ib[e]));Y.push(parseFloat(jb[e++]))}g=c;e=k;Y.push(parseFloat(hb[g]));Y.push(parseFloat(ib[g]));Y.push(parseFloat(jb[g]));Y.push(parseFloat(hb[e]));Y.push(parseFloat(ib[e]));Y.push(parseFloat(jb[e]))}for(f=0;f<Gb;f++){e=k+f;Y.push(parseFloat(hb[e]));Y.push(parseFloat(ib[e]));Y.push(parseFloat(jb[e]));
Y.push(0);Y.push(1);Y.push(0)}Y.push(parseFloat(hb[k]));Y.push(parseFloat(ib[k]));Y.push(parseFloat(jb[k]));Y.push(0);Y.push(1);Y.push(0);i.bindBuffer(i.ARRAY_BUFFER,$b);i.bufferData(i.ARRAY_BUFFER,new Float32Array(Y),i.STATIC_DRAW)}};d.sphere=function(a){if(d.use3DContext){if(Gb<3||qc<2)d.sphereDetail(30);var b=new O;b.scale(a,a,a);a=new O;a.scale(1,-1,1);a.apply(ha.array());a.transpose();var c=new O;c.set(Ca);c.transpose();if(ga===true){var e=new O;e.set(a);var f=new O;f.set(b);e.mult(f);f=new O;
f.set(e);f.invert();f.transpose();i.useProgram(F);R("aTexture3d",F,"aTexture");C("model3d",F,"model",false,b.array());C("view3d",F,"view",false,a.array());C("projection3d",F,"projection",false,c.array());C("normalTransform3d",F,"normalTransform",false,f.array());A("vertex3d",F,"Vertex",3,$b);A("normal3d",F,"Normal",3,$b);R("aColor3d",F,"aColor");i.enable(i.POLYGON_OFFSET_FILL);i.polygonOffset(1,1);D("color3d",F,"color",Ea);i.drawArrays(i.TRIANGLE_STRIP,0,Y.length/3);i.disable(i.POLYGON_OFFSET_FILL)}if(Ga>
0&&Z){i.useProgram(S);C("model2d",S,"model",false,b.array());C("view2d",S,"view",false,a.array());C("projection2d",S,"projection",false,c.array());A("vertex2d",S,"Vertex",3,$b);R("aTextureCoord2d",S,"aTextureCoord");D("color2d",S,"color",Fa);L("picktype2d",S,"picktype",0);i.lineWidth(Ga);i.drawArrays(i.LINE_STRIP,0,Y.length/3)}}};d.modelX=function(a,b,c){var e=ha.array(),f=kb.array(),g=e[0]*a+e[1]*b+e[2]*c+e[3],k=e[4]*a+e[5]*b+e[6]*c+e[7],j=e[8]*a+e[9]*b+e[10]*c+e[11];b=e[12]*a+e[13]*b+e[14]*c+e[15];
a=f[0]*g+f[1]*k+f[2]*j+f[3]*b;f=f[12]*g+f[13]*k+f[14]*j+f[15]*b;return f!==0?a/f:a};d.modelY=function(a,b,c){var e=ha.array(),f=kb.array(),g=e[0]*a+e[1]*b+e[2]*c+e[3],k=e[4]*a+e[5]*b+e[6]*c+e[7],j=e[8]*a+e[9]*b+e[10]*c+e[11];b=e[12]*a+e[13]*b+e[14]*c+e[15];a=f[4]*g+f[5]*k+f[6]*j+f[7]*b;f=f[12]*g+f[13]*k+f[14]*j+f[15]*b;return f!==0?a/f:a};d.modelZ=function(a,b,c){var e=ha.array(),f=kb.array(),g=e[0]*a+e[1]*b+e[2]*c+e[3],k=e[4]*a+e[5]*b+e[6]*c+e[7],j=e[8]*a+e[9]*b+e[10]*c+e[11];b=e[12]*a+e[13]*b+e[14]*
c+e[15];a=f[8]*g+f[9]*k+f[10]*j+f[11]*b;f=f[12]*g+f[13]*k+f[14]*j+f[15]*b;return f!==0?a/f:a};d.ambient=function(){var a=arguments;if(d.use3DContext){i.useProgram(F);L("usingMat3d",F,"usingMat",true);if(a.length===1)if(typeof a[0]==="string"){a=a[0].slice(5,-1).split(",");D("mat_ambient3d",F,"mat_ambient",[a[0]/255,a[1]/255,a[2]/255])}else D("mat_ambient3d",F,"mat_ambient",[a[0]/255,a[0]/255,a[0]/255]);else D("mat_ambient3d",F,"mat_ambient",[a[0]/255,a[1]/255,a[2]/255])}};d.emissive=function(){var a=
arguments;if(d.use3DContext){i.useProgram(F);L("usingMat3d",F,"usingMat",true);if(a.length===1)if(typeof a[0]==="string"){a=a[0].slice(5,-1).split(",");D("mat_emissive3d",F,"mat_emissive",[a[0]/255,a[1]/255,a[2]/255])}else D("mat_emissive3d",F,"mat_emissive",[a[0]/255,a[0]/255,a[0]/255]);else D("mat_emissive3d",F,"mat_emissive",[a[0]/255,a[1]/255,a[2]/255])}};d.shininess=function(a){if(d.use3DContext){i.useProgram(F);L("usingMat3d",F,"usingMat",true);D("shininess3d",F,"shininess",a)}};d.specular=
function(){var a=d.color.apply(this,arguments);if(d.use3DContext){i.useProgram(F);L("usingMat3d",F,"usingMat",true);D("mat_specular3d",F,"mat_specular",d.color.toGLArray(a).slice(0,3))}};d.screenX=function(a,b,c){var e=ha.array(),f=Ca.array(),g=e[0]*a+e[1]*b+e[2]*c+e[3],k=e[4]*a+e[5]*b+e[6]*c+e[7],j=e[8]*a+e[9]*b+e[10]*c+e[11];b=e[12]*a+e[13]*b+e[14]*c+e[15];a=f[0]*g+f[1]*k+f[2]*j+f[3]*b;f=f[12]*g+f[13]*k+f[14]*j+f[15]*b;if(f!==0)a/=f;return d.width*(1+a)/2};d.screenY=function(a,b,c){var e=ha.array(),
f=Ca.array(),g=e[0]*a+e[1]*b+e[2]*c+e[3],k=e[4]*a+e[5]*b+e[6]*c+e[7],j=e[8]*a+e[9]*b+e[10]*c+e[11];b=e[12]*a+e[13]*b+e[14]*c+e[15];a=f[4]*g+f[5]*k+f[6]*j+f[7]*b;f=f[12]*g+f[13]*k+f[14]*j+f[15]*b;if(f!==0)a/=f;return d.height*(1+a)/2};d.screenZ=function(a,b,c){var e=ha.array(),f=Ca.array(),g=e[0]*a+e[1]*b+e[2]*c+e[3],k=e[4]*a+e[5]*b+e[6]*c+e[7],j=e[8]*a+e[9]*b+e[10]*c+e[11];b=e[12]*a+e[13]*b+e[14]*c+e[15];a=f[8]*g+f[9]*k+f[10]*j+f[11]*b;f=f[12]*g+f[13]*k+f[14]*j+f[15]*b;if(f!==0)a/=f;return(a+1)/2};
d.fill=function(a,b,c,e){a=d.color(a,b,c,e);if(!(a===$a&&ga)){ga=true;$a=a;if(d.use3DContext)Ea=d.color.toGLArray(a);else Ja=true}};d.noFill=function(){ga=false};d.stroke=function(a,b,c,e){a=d.color(a,b,c,e);if(!(a===Ba&&Z)){Z=true;Ba=a;if(d.use3DContext)Fa=d.color.toGLArray(a);else Fb=true}};d.noStroke=function(){Z=false};d.strokeWeight=function(a){Ga=a;if(d.use3DContext){i.useProgram(S);D("pointSize2d",S,"pointSize",a)}else i.lineWidth=a};d.strokeCap=function(a){i.lineCap=a};d.strokeJoin=function(a){i.lineJoin=
a};d.smooth=function(){s.style.setProperty("image-rendering","optimizeQuality","important");if(!d.use3DContext&&"mozImageSmoothingEnabled"in i)i.mozImageSmoothingEnabled=true};d.noSmooth=function(){s.style.setProperty("image-rendering","optimizeSpeed","important");if(!d.use3DContext&&"mozImageSmoothingEnabled"in i)i.mozImageSmoothingEnabled=false};d.point=function(a,b,c){if(d.use3DContext){var e=new O;e.translate(a,b,c||0);e.transpose();a=new O;a.scale(1,-1,1);a.apply(ha.array());a.transpose();b=
new O;b.set(Ca);b.transpose();i.useProgram(S);C("model2d",S,"model",false,e.array());C("view2d",S,"view",false,a.array());C("projection2d",S,"projection",false,b.array());if(Ga>0&&Z){D("color2d",S,"color",Fa);L("picktype2d",S,"picktype",0);A("vertex2d",S,"Vertex",3,oc);R("aTextureCoord2d",S,"aTextureCoord");i.drawArrays(i.POINTS,0,1)}}else if(Z)if(na.options.crispLines){e=Math.PI/4;c=d.get(a,b);d.set(a,b,Za(c,Ba,e))}else if(Ga>1){i.fillStyle=d.color.toString(Ba);Ja=true;i.beginPath();i.arc(a,b,Ga/
2,0,h.TWO_PI,false);i.fill();i.closePath()}else{i.fillStyle=d.color.toString(Ba);i.fillRect(Math.round(a),Math.round(b),1,1);Ja=true}};d.beginShape=function(a){ta=a;o=[]};d.vertex=function(){var a=[];if(uc)uc=false;if(arguments.length===4){a[0]=arguments[0];a[1]=arguments[1];a[2]=0;a[3]=arguments[2];a[4]=arguments[3]}else{a[0]=arguments[0];a[1]=arguments[1];a[2]=arguments[2]||0;a[3]=arguments[3]||0;a[4]=arguments[4]||0}a.isVert=true;if(d.use3DContext){a[5]=Ea[0];a[6]=Ea[1];a[7]=Ea[2];a[8]=Ea[3];a[9]=
Fa[0];a[10]=Fa[1];a[11]=Fa[2];a[12]=Fa[3];a[13]=Cb;a[14]=ub;a[15]=cb}else{a[5]=$a;a[6]=Ba}o.push(a)};var xd=function(a,b){var c=new O;c.scale(1,-1,1);c.apply(ha.array());c.transpose();var e=new O;e.set(Ca);e.transpose();i.useProgram(bb);C("uViewUS",bb,"uView",false,c.array());C("uProjectionUS",bb,"uProjection",false,e.array());A("aVertexUS",bb,"aVertex",3,oc);i.bufferData(i.ARRAY_BUFFER,new Float32Array(a),i.STREAM_DRAW);A("aColorUS",bb,"aColor",4,Oc);i.bufferData(i.ARRAY_BUFFER,new Float32Array(b),
i.STREAM_DRAW);i.drawArrays(i.POINTS,0,a.length/3)},Xa=function(a,b,c){b=b==="LINES"?i.LINES:b==="LINE_LOOP"?i.LINE_LOOP:i.LINE_STRIP;var e=new O;e.scale(1,-1,1);e.apply(ha.array());e.transpose();var f=new O;f.set(Ca);f.transpose();i.useProgram(bb);C("uViewUS",bb,"uView",false,e.array());C("uProjectionUS",bb,"uProjection",false,f.array());A("aVertexUS",bb,"aVertex",3,Nc);i.bufferData(i.ARRAY_BUFFER,new Float32Array(a),i.STREAM_DRAW);A("aColorUS",bb,"aColor",4,id);i.bufferData(i.ARRAY_BUFFER,new Float32Array(c),
i.STREAM_DRAW);i.lineWidth(Ga);i.drawArrays(b,0,a.length/3)},qb=function(a,b,c,e){b=b==="TRIANGLES"?i.TRIANGLES:b==="TRIANGLE_FAN"?i.TRIANGLE_FAN:i.TRIANGLE_STRIP;var f=new O;f.scale(1,-1,1);f.apply(ha.array());f.transpose();var g=new O;g.set(Ca);g.transpose();i.useProgram(F);C("model3d",F,"model",false,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);C("view3d",F,"view",false,f.array());C("projection3d",F,"projection",false,g.array());i.enable(i.POLYGON_OFFSET_FILL);i.polygonOffset(1,1);D("color3d",F,"color",
[-1,0,0,0]);A("vertex3d",F,"Vertex",3,hd);i.bufferData(i.ARRAY_BUFFER,new Float32Array(a),i.STREAM_DRAW);A("aColor3d",F,"aColor",4,Oc);i.bufferData(i.ARRAY_BUFFER,new Float32Array(c),i.STREAM_DRAW);R("normal3d",F,"Normal");if(Ra){if(ld===h.IMAGE)for(c=0;c<e.length;c+=2){e[c]/=pc.width;e[c+1]/=pc.height}for(c=0;c<e.length;c+=2){if(e[c+0]>1)e[c+0]-=e[c+0]-1;if(e[c+1]>1)e[c+1]-=e[c+1]-1}L("usingTexture3d",F,"usingTexture",Ra);A("aTexture3d",F,"aTexture",2,jd);i.bufferData(i.ARRAY_BUFFER,new Float32Array(e),
i.STREAM_DRAW)}i.drawArrays(b,0,a.length/3);i.disable(i.POLYGON_OFFSET_FILL)};d.endShape=function(a){var b=a===h.CLOSE,c=[],e=[],f=[],g=[],k=[];uc=true;var j;for(a=0;a<o.length;a++)for(j=0;j<3;j++)e.push(o[a][j]);for(a=0;a<o.length;a++)for(j=5;j<9;j++)f.push(o[a][j]);for(a=0;a<o.length;a++)for(j=9;j<13;j++)g.push(o[a][j]);for(a=0;a<o.length;a++){k.push(o[a][3]);k.push(o[a][4])}if(b){e.push(o[0][0]);e.push(o[0][1]);e.push(o[0][2]);for(a=5;a<9;a++)f.push(o[0][a]);for(a=9;a<13;a++)g.push(o[0][a]);k.push(o[0][3]);
k.push(o[0][4])}if(Uc&&(ta===h.POLYGON||ta===B))if(d.use3DContext){Z&&Xa(e,null,g);ga&&qb(e,null,f)}else{if(o.length>3){c=[];e=1-Wb;i.beginPath();i.moveTo(o[1][0],o[1][1]);for(a=1;a+2<o.length;a++){c[0]=[o[a][0],o[a][1]];c[1]=[o[a][0]+(e*o[a+1][0]-e*o[a-1][0])/6,o[a][1]+(e*o[a+1][1]-e*o[a-1][1])/6];c[2]=[o[a+1][0]+(e*o[a][0]-e*o[a+2][0])/6,o[a+1][1]+(e*o[a][1]-e*o[a+2][1])/6];c[3]=[o[a+1][0],o[a+1][1]];i.bezierCurveTo(c[1][0],c[1][1],c[2][0],c[2][1],c[3][0],c[3][1])}b&&i.lineTo(o[0][0],o[0][1]);ia();
Aa();i.closePath()}}else if(Vc&&(ta===h.POLYGON||ta===B))if(d.use3DContext){c=e;c.splice(c.length-3);g.splice(g.length-4);Z&&Xa(c,null,g);ga&&qb(e,"TRIANGLES",f)}else{i.beginPath();for(a=0;a<o.length;a++)if(o[a].isVert===true)if(o[a].moveTo===true)i.moveTo(o[a][0],o[a][1]);else o[a].moveTo===false?i.lineTo(o[a][0],o[a][1]):i.moveTo(o[a][0],o[a][1]);else i.bezierCurveTo(o[a][0],o[a][1],o[a][2],o[a][3],o[a][4],o[a][5]);b&&i.lineTo(o[0][0],o[0][1]);ia();Aa();i.closePath()}else if(d.use3DContext){if(ta===
h.POINTS){for(a=0;a<o.length;a++)for(j=0;j<3;j++)c.push(o[a][j]);xd(c,g)}else if(ta===h.LINES){for(a=0;a<o.length;a++)for(j=0;j<3;j++)c.push(o[a][j]);for(a=0;a<o.length;a++)for(j=5;j<9;j++)f.push(o[a][j]);Xa(c,"LINES",g)}else if(ta===h.TRIANGLES){if(o.length>2)for(a=0;a+2<o.length;a+=3){e=[];k=[];c=[];f=[];g=[];for(j=0;j<3;j++)for(b=0;b<3;b++){c.push(o[a+j][b]);e.push(o[a+j][b])}for(j=0;j<3;j++)for(b=3;b<5;b++)k.push(o[a+j][b]);for(j=0;j<3;j++)for(b=5;b<9;b++){f.push(o[a+j][b]);g.push(o[a+j][b+4])}Z&&
Xa(c,"LINE_LOOP",g);if(ga||Ra)qb(e,"TRIANGLES",f,k)}}else if(ta===h.TRIANGLE_STRIP){if(o.length>2)for(a=0;a+2<o.length;a++){c=[];e=[];g=[];f=[];k=[];for(j=0;j<3;j++)for(b=0;b<3;b++){c.push(o[a+j][b]);e.push(o[a+j][b])}for(j=0;j<3;j++)for(b=3;b<5;b++)k.push(o[a+j][b]);for(j=0;j<3;j++)for(b=5;b<9;b++){g.push(o[a+j][b+4]);f.push(o[a+j][b])}if(ga||Ra)qb(e,"TRIANGLE_STRIP",f,k);Z&&Xa(c,"LINE_LOOP",g)}}else if(ta===h.TRIANGLE_FAN){if(o.length>2){for(a=0;a<3;a++)for(j=0;j<3;j++)c.push(o[a][j]);for(a=0;a<
3;a++)for(j=9;j<13;j++)g.push(o[a][j]);Z&&Xa(c,"LINE_LOOP",g);for(a=2;a+1<o.length;a++){c=[];g=[];c.push(o[0][0]);c.push(o[0][1]);c.push(o[0][2]);g.push(o[0][9]);g.push(o[0][10]);g.push(o[0][11]);g.push(o[0][12]);for(j=0;j<2;j++)for(b=0;b<3;b++)c.push(o[a+j][b]);for(j=0;j<2;j++)for(b=9;b<13;b++)g.push(o[a+j][b]);Z&&Xa(c,"LINE_STRIP",g)}if(ga||Ra)qb(e,"TRIANGLE_FAN",f,k)}}else if(ta===h.QUADS)for(a=0;a+3<o.length;a+=4){c=[];for(j=0;j<4;j++)for(b=0;b<3;b++)c.push(o[a+j][b]);Z&&Xa(c,"LINE_LOOP",g);if(ga){e=
[];f=[];k=[];for(j=0;j<3;j++)e.push(o[a][j]);for(j=5;j<9;j++)f.push(o[a][j]);for(j=0;j<3;j++)e.push(o[a+1][j]);for(j=5;j<9;j++)f.push(o[a+1][j]);for(j=0;j<3;j++)e.push(o[a+3][j]);for(j=5;j<9;j++)f.push(o[a+3][j]);for(j=0;j<3;j++)e.push(o[a+2][j]);for(j=5;j<9;j++)f.push(o[a+2][j]);if(Ra){k.push(o[a+0][3]);k.push(o[a+0][4]);k.push(o[a+1][3]);k.push(o[a+1][4]);k.push(o[a+3][3]);k.push(o[a+3][4]);k.push(o[a+2][3]);k.push(o[a+2][4])}qb(e,"TRIANGLE_STRIP",f,k)}}else if(ta===h.QUAD_STRIP){if(o.length>3){for(a=
0;a<2;a++)for(j=0;j<3;j++)c.push(o[a][j]);for(a=0;a<2;a++)for(j=9;j<13;j++)g.push(o[a][j]);Xa(c,"LINE_STRIP",g);if(o.length>4&&o.length%2>0){e.splice(e.length-3);o.pop()}for(a=0;a+3<o.length;a+=2){c=[];g=[];for(j=0;j<3;j++)c.push(o[a+1][j]);for(j=0;j<3;j++)c.push(o[a+3][j]);for(j=0;j<3;j++)c.push(o[a+2][j]);for(j=0;j<3;j++)c.push(o[a+0][j]);for(j=9;j<13;j++)g.push(o[a+1][j]);for(j=9;j<13;j++)g.push(o[a+3][j]);for(j=9;j<13;j++)g.push(o[a+2][j]);for(j=9;j<13;j++)g.push(o[a+0][j]);Z&&Xa(c,"LINE_STRIP",
g)}if(ga||Ra)qb(e,"TRIANGLE_LIST",f,k)}}else if(o.length===1){for(j=0;j<3;j++)c.push(o[0][j]);for(j=9;j<13;j++)g.push(o[0][j]);xd(c,g)}else{for(a=0;a<o.length;a++){for(j=0;j<3;j++)c.push(o[a][j]);for(j=5;j<9;j++)g.push(o[a][j])}b?Xa(c,"LINE_LOOP",g):Xa(c,"LINE_STRIP",g);if(ga||Ra)qb(e,"TRIANGLE_FAN",f,k)}Ra=false;i.useProgram(F);L("usingTexture3d",F,"usingTexture",Ra)}else if(ta===h.POINTS)for(a=0;a<o.length;a++){Z&&d.stroke(o[a][6]);d.point(o[a][0],o[a][1])}else if(ta===h.LINES)for(a=0;a+1<o.length;a+=
2){Z&&d.stroke(o[a+1][6]);d.line(o[a][0],o[a][1],o[a+1][0],o[a+1][1])}else if(ta===h.TRIANGLES)for(a=0;a+2<o.length;a+=3){i.beginPath();i.moveTo(o[a][0],o[a][1]);i.lineTo(o[a+1][0],o[a+1][1]);i.lineTo(o[a+2][0],o[a+2][1]);i.lineTo(o[a][0],o[a][1]);if(ga){d.fill(o[a+2][5]);ia()}if(Z){d.stroke(o[a+2][6]);Aa()}i.closePath()}else if(ta===h.TRIANGLE_STRIP)for(a=0;a+1<o.length;a++){i.beginPath();i.moveTo(o[a+1][0],o[a+1][1]);i.lineTo(o[a][0],o[a][1]);Z&&d.stroke(o[a+1][6]);ga&&d.fill(o[a+1][5]);if(a+2<
o.length){i.lineTo(o[a+2][0],o[a+2][1]);Z&&d.stroke(o[a+2][6]);ga&&d.fill(o[a+2][5])}ia();Aa();i.closePath()}else if(ta===h.TRIANGLE_FAN){if(o.length>2){i.beginPath();i.moveTo(o[0][0],o[0][1]);i.lineTo(o[1][0],o[1][1]);i.lineTo(o[2][0],o[2][1]);if(ga){d.fill(o[2][5]);ia()}if(Z){d.stroke(o[2][6]);Aa()}i.closePath();for(a=3;a<o.length;a++){i.beginPath();i.moveTo(o[0][0],o[0][1]);i.lineTo(o[a-1][0],o[a-1][1]);i.lineTo(o[a][0],o[a][1]);if(ga){d.fill(o[a][5]);ia()}if(Z){d.stroke(o[a][6]);Aa()}i.closePath()}}}else if(ta===
h.QUADS)for(a=0;a+3<o.length;a+=4){i.beginPath();i.moveTo(o[a][0],o[a][1]);for(j=1;j<4;j++)i.lineTo(o[a+j][0],o[a+j][1]);i.lineTo(o[a][0],o[a][1]);if(ga){d.fill(o[a+3][5]);ia()}if(Z){d.stroke(o[a+3][6]);Aa()}i.closePath()}else if(ta===h.QUAD_STRIP){if(o.length>3)for(a=0;a+1<o.length;a+=2){i.beginPath();if(a+3<o.length){i.moveTo(o[a+2][0],o[a+2][1]);i.lineTo(o[a][0],o[a][1]);i.lineTo(o[a+1][0],o[a+1][1]);i.lineTo(o[a+3][0],o[a+3][1]);ga&&d.fill(o[a+3][5]);Z&&d.stroke(o[a+3][6])}else{i.moveTo(o[a][0],
o[a][1]);i.lineTo(o[a+1][0],o[a+1][1])}ia();Aa();i.closePath()}}else{i.beginPath();i.moveTo(o[0][0],o[0][1]);for(a=1;a<o.length;a++)if(o[a].isVert===true)o[a].moveTo===true?i.moveTo(o[a][0],o[a][1]):i.lineTo(o[a][0],o[a][1]);b&&i.lineTo(o[0][0],o[0][1]);ia();Aa();i.closePath()}Vc=Uc=false;La=[];Ia=0};var yd=function(a,b){var c=1/a,e=c*c,f=e*c;b.set(0,0,0,1,f,e,c,0,6*f,2*e,0,0,6*f,0,0,0)},zd=function(){if(!va){yb=new O;va=new O;Vb=true}var a=Wb;yb.set((a-1)/2,(a+3)/2,(-3-a)/2,(1-a)/2,1-a,(-5-a)/2,
a+2,(a-1)/2,(a-1)/2,0,(1-a)/2,0,0,1,0,0);yd(Mb,va);Hc||(Qa=new O);Qa.set(yb);Qa.preApply(Hc);va.apply(yb)};d.bezierVertex=function(){Vc=true;var a=[];if(uc)throw"vertex() must be used at least once before calling bezierVertex()";else if(arguments.length===9){if(d.use3DContext){if(Sb===B)Sb=new O;var b=o.length-1;yd(l,Sb);Sb.apply(Ic);var c=Sb.array();a=o[b][0];var e=o[b][1];b=o[b][2];var f=c[4]*a+c[5]*arguments[0]+c[6]*arguments[3]+c[7]*arguments[6],g=c[8]*a+c[9]*arguments[0]+c[10]*arguments[3]+c[11]*
arguments[6],k=c[12]*a+c[13]*arguments[0]+c[14]*arguments[3]+c[15]*arguments[6],j=c[4]*e+c[5]*arguments[1]+c[6]*arguments[4]+c[7]*arguments[7],m=c[8]*e+c[9]*arguments[1]+c[10]*arguments[4]+c[11]*arguments[7],u=c[12]*e+c[13]*arguments[1]+c[14]*arguments[4]+c[15]*arguments[7],r=c[4]*b+c[5]*arguments[2]+c[6]*arguments[5]+c[7]*arguments[8],w=c[8]*b+c[9]*arguments[2]+c[10]*arguments[5]+c[11]*arguments[8];c=c[12]*b+c[13]*arguments[2]+c[14]*arguments[5]+c[15]*arguments[8];for(var q=0;q<l;q++){a+=f;f+=g;
g+=k;e+=j;j+=m;m+=u;b+=r;r+=w;w+=c;d.vertex(a,e,b)}d.vertex(arguments[6],arguments[7],arguments[8])}}else{for(e=0;e<arguments.length;e++)a[e]=arguments[e];o.push(a);o[o.length-1].isVert=false}};var Ob=function(){var a=document.createElement("canvas");try{i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,a);Ob=function(c){i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,c)}}catch(b){Ob=function(c){i.texImage2D(i.TEXTURE_2D,0,c,false)}}Ob.apply(this,arguments)};d.texture=function(a){if(a.localName===
"canvas"){i.bindTexture(i.TEXTURE_2D,kd);Ob(a);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR);i.generateMipmap(i.TEXTURE_2D)}else if(a.__texture)i.bindTexture(i.TEXTURE_2D,a.__texture);else{var b=i.createTexture();a.__texture=b;b=document.createElement("canvas");var c;if(a.width&a.width-1===0)b.width=a.width;else{for(c=1;c<a.width;)c*=2;b.width=c}if(a.height&a.height-1===0)b.height=a.height;else{for(c=1;c<a.height;)c*=2;b.height=
c}c=b.getContext("2d");for(var e=c.createImageData(b.width,b.height),f=a.toImageData(),g=0;g<b.width;g+=1)for(var k=0;k<b.height;k+=1){var j=(k*b.width+g)*4;e.data[j+0]=f.data[j+0];e.data[j+1]=f.data[j+1];e.data[j+2]=f.data[j+2];e.data[j+3]=255}c.putImageData(e,0,0);a.__cvs=b;i.bindTexture(i.TEXTURE_2D,a.__texture);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);
i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);Ob(a.__cvs);i.generateMipmap(i.TEXTURE_2D)}pc.width=a.width;pc.height=a.height;Ra=true;i.useProgram(F);L("usingTexture3d",F,"usingTexture",Ra)};d.textureMode=function(a){ld=a};d.curveVertex=function(a,b,c){Uc=true;if(d.use3DContext){Vb||zd();var e=[];e[0]=a;e[1]=b;e[2]=c;La.push(e);Ia++;if(Ia>3){var f=La[Ia-4][0],g=La[Ia-4][1],k=La[Ia-4][2],j=La[Ia-3][0],m=La[Ia-3][1],u=La[Ia-3][2],r=La[Ia-2][0],w=La[Ia-2][1],q=La[Ia-2][2],E=La[Ia-1][0],
Q=La[Ia-1][1],K=La[Ia-1][2];a=j;b=m;c=u;var v=va.array();e=v[4]*f+v[5]*j+v[6]*r+v[7]*E;var sa=v[8]*f+v[9]*j+v[10]*r+v[11]*E;f=v[12]*f+v[13]*j+v[14]*r+v[15]*E;j=v[4]*g+v[5]*m+v[6]*w+v[7]*Q;r=v[8]*g+v[9]*m+v[10]*w+v[11]*Q;g=v[12]*g+v[13]*m+v[14]*w+v[15]*Q;m=v[4]*k+v[5]*u+v[6]*q+v[7]*K;w=v[8]*k+v[9]*u+v[10]*q+v[11]*K;k=v[12]*k+v[13]*u+v[14]*q+v[15]*K;d.vertex(a,b,c);for(u=0;u<Mb;u++){a+=e;e+=sa;sa+=f;b+=j;j+=r;r+=g;c+=m;m+=w;w+=k;d.vertex(a,b,c)}}}else d.vertex(a,b,c)};d.curve=function(){if(arguments.length===
8){d.beginShape();d.curveVertex(arguments[0],arguments[1]);d.curveVertex(arguments[2],arguments[3]);d.curveVertex(arguments[4],arguments[5]);d.curveVertex(arguments[6],arguments[7]);d.endShape()}else if(d.use3DContext){d.beginShape();d.curveVertex(arguments[0],arguments[1],arguments[2]);d.curveVertex(arguments[3],arguments[4],arguments[5]);d.curveVertex(arguments[6],arguments[7],arguments[8]);d.curveVertex(arguments[9],arguments[10],arguments[11]);d.endShape()}};d.curveTightness=function(a){Wb=a};
d.curveDetail=function(a){Mb=a;zd()};d.rectMode=function(a){qa=a};d.imageMode=function(a){switch(a){case h.CORNER:wc=ud;break;case h.CORNERS:wc=Kd;break;case h.CENTER:wc=Ld;break;default:throw"Invalid imageMode";}};d.ellipseMode=function(a){ya=a};d.arc=function(a,b,c,e,f,g){if(!(c<=0||g<f)){if(ya===h.CORNERS){c-=a;e-=b}else if(ya===h.RADIUS){a-=c;b-=e;c*=2;e*=2}else if(ya===h.CENTER){a-=c/2;b-=e/2}for(;f<0;){f+=h.TWO_PI;g+=h.TWO_PI}if(g-f>h.TWO_PI){f=0;g=h.TWO_PI}c/=2;e/=2;a+=c;b+=e;var k,j,m;if(ga){var u=
Z;Z=false;k=0.5+f/h.TWO_PI*h.SINCOS_LENGTH;m=0.5+g/h.TWO_PI*h.SINCOS_LENGTH;d.beginShape();for(d.vertex(a,b);k<m;k++){j=k%h.SINCOS_LENGTH;if(j<0)j+=h.SINCOS_LENGTH;d.vertex(a+parseFloat(Math.cos(j*h.DEG_TO_RAD*0.5))*c,b+parseFloat(Math.sin(j*h.DEG_TO_RAD*0.5))*e)}d.endShape(h.CLOSE);Z=u}if(Z){u=ga;ga=false;k=0.5+f/h.TWO_PI*h.SINCOS_LENGTH;m=0.5+g/h.TWO_PI*h.SINCOS_LENGTH;for(d.beginShape();k<m;k++){j=k%h.SINCOS_LENGTH;if(j<0)j+=h.SINCOS_LENGTH;d.vertex(a+parseFloat(Math.cos(j*h.DEG_TO_RAD*0.5))*c,
b+parseFloat(Math.sin(j*h.DEG_TO_RAD*0.5))*e)}d.endShape();ga=u}}};d.line=function(){var a,b,c,e,f,g;if(d.use3DContext){if(arguments.length===6){a=arguments[0];b=arguments[1];c=arguments[2];e=arguments[3];f=arguments[4];g=arguments[5]}else if(arguments.length===4){a=arguments[0];b=arguments[1];c=0;e=arguments[2];f=arguments[3];g=0}a=[a,b,c,e,f,g];b=new O;b.scale(1,-1,1);b.apply(ha.array());b.transpose();e=new O;e.set(Ca);e.transpose();if(Ga>0&&Z){i.useProgram(S);C("model2d",S,"model",false,[1,0,0,
0,0,1,0,0,0,0,1,0,0,0,0,1]);C("view2d",S,"view",false,b.array());C("projection2d",S,"projection",false,e.array());D("color2d",S,"color",Fa);L("picktype2d",S,"picktype",0);i.lineWidth(Ga);A("vertex2d",S,"Vertex",3,Nc);R("aTextureCoord2d",S,"aTextureCoord");i.bufferData(i.ARRAY_BUFFER,new Float32Array(a),i.STREAM_DRAW);i.drawArrays(i.LINES,0,2)}}else{a=arguments[0];b=arguments[1];e=arguments[2];f=arguments[3];if((a===e||b===f)&&Ga<=1&&Z&&na.options.crispLines)if(a===e){if(b>f){c=b;b=f;f=c}for(;b<=f;++b)d.set(a,
b,Ba)}else{if(a>e){c=a;a=e;e=c}for(;a<=e;++a)d.set(a,b,Ba)}else if(Z){i.beginPath();i.moveTo(a||0,b||0);i.lineTo(e||0,f||0);Aa();i.closePath()}}};d.bezier=function(){if(arguments.length===8&&!d.use3DContext){d.beginShape();d.vertex(arguments[0],arguments[1]);d.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);d.endShape()}else if(arguments.length===12&&d.use3DContext){d.beginShape();d.vertex(arguments[0],arguments[1],arguments[2]);d.bezierVertex(arguments[3],
arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);d.endShape()}else throw"Please use the proper parameters!";};d.bezierDetail=function(a){l=a};d.bezierPoint=function(a,b,c,e,f){return(1-f)*(1-f)*(1-f)*a+3*(1-f)*(1-f)*f*b+3*(1-f)*f*f*c+f*f*f*e};d.bezierTangent=function(a,b,c,e,f){return 3*f*f*(-a+3*b-3*c+e)+6*f*(a-2*b+c)+3*(-a+b)};d.curvePoint=function(a,b,c,e,f){return 0.5*(2*b+(-a+c)*f+(2*a-5*b+4*c-e)*f*f+(-a+3*b-3*c+e)*f*f*f)};d.curveTangent=
function(a,b,c,e,f){return 0.5*(-a+c+2*(2*a-5*b+4*c-e)*f+3*(-a+3*b-3*c+e)*f*f)};d.triangle=function(a,b,c,e,f,g){d.beginShape(h.TRIANGLES);d.vertex(a,b,0);d.vertex(c,e,0);d.vertex(f,g,0);d.endShape()};d.quad=function(a,b,c,e,f,g,k,j){d.beginShape(h.QUADS);d.vertex(a,b,0);d.vertex(c,e,0);d.vertex(f,g,0);d.vertex(k,j,0);d.endShape()};d.rect=function(a,b,c,e){if(d.use3DContext){var f=new O;f.translate(a,b,0);f.scale(c,e,1);f.transpose();b=new O;b.scale(1,-1,1);b.apply(ha.array());b.transpose();a=new O;
a.set(Ca);a.transpose();if(Ga>0&&Z){i.useProgram(S);C("model2d",S,"model",false,f.array());C("view2d",S,"view",false,b.array());C("projection2d",S,"projection",false,a.array());D("color2d",S,"color",Fa);L("picktype2d",S,"picktype",0);A("vertex2d",S,"Vertex",3,nc);R("aTextureCoord2d",S,"aTextureCoord");i.lineWidth(Ga);i.drawArrays(i.LINE_LOOP,0,Wc.length/3)}if(ga){i.useProgram(F);C("model3d",F,"model",false,f.array());C("view3d",F,"view",false,b.array());C("projection3d",F,"projection",false,a.array());
i.enable(i.POLYGON_OFFSET_FILL);i.polygonOffset(1,1);D("color3d",F,"color",Ea);a=new O;a.set(b);b=new O;b.set(f);a.mult(b);f=new O;f.set(a);f.invert();f.transpose();C("normalTransform3d",F,"normalTransform",false,f.array());A("vertex3d",F,"Vertex",3,nc);A("normal3d",F,"Normal",3,Mc);i.drawArrays(i.TRIANGLE_FAN,0,Wc.length/3);i.disable(i.POLYGON_OFFSET_FILL)}}else if(c||e)if(Z&&!ga&&Ga<=1&&na.options.crispLines){var g=a+c-1,k=b+e-1;for(f=0;f<c;++f){d.set(a+f,b,Ba);d.set(a+f,k,Ba)}for(f=0;f<e;++f){d.set(a,
b+f,Ba);d.set(g,b+f,Ba)}}else{i.beginPath();if(qa===h.CORNERS){c-=a;e-=b}if(qa===h.RADIUS){c*=2;e*=2}if(qa===h.CENTER||qa===h.RADIUS){a-=c/2;b-=e/2}i.rect(Math.round(a)-0,Math.round(b)-0,Math.round(c)+0,Math.round(e)+0);ia();Aa();i.closePath()}};d.ellipse=function(a,b,c,e){a=a||0;b=b||0;if(!(c<=0&&e<=0)){if(ya===h.RADIUS){c*=2;e*=2}if(ya===h.CORNERS){c-=a;e-=b}if(ya===h.CORNER||ya===h.CORNERS){a+=c/2;b+=e/2}if(!d.use3DContext&&c===e){i.beginPath();i.arc(a-0,b-0,c/2,0,h.TWO_PI,false);ia();Aa();i.closePath()}else{c/=
2;e/=2;var f=0.5522847498307933*c,g=0.5522847498307933*e;if(d.use3DContext){d.beginShape();d.vertex(a+c,b);d.bezierVertex(a+c,b-g,0,a+f,b-e,0,a,b-e,0);d.bezierVertex(a-f,b-e,0,a-c,b-g,0,a-c,b,0);d.bezierVertex(a-c,b+g,0,a-f,b+e,0,a,b+e,0);d.bezierVertex(a+f,b+e,0,a+c,b+g,0,a+c,b,0);d.endShape();for(f=e=c=0;f<o.length;f++){c+=o[f][0];e+=o[f][1]}c/=o.length;e/=o.length;f=[];a=[];b=[];f[0]=c;f[1]=e;f[2]=0;f[3]=0;f[4]=0;f[5]=Ea[0];f[6]=Ea[1];f[7]=Ea[2];f[8]=Ea[3];f[9]=Fa[0];f[10]=Fa[1];f[11]=Fa[2];f[12]=
Fa[3];f[13]=Cb;f[14]=ub;f[15]=cb;o.unshift(f);for(f=0;f<o.length;f++){for(c=0;c<3;c++)a.push(o[f][c]);for(c=5;c<9;c++)b.push(o[f][c])}qb(a,"TRIANGLE_FAN",b)}else{d.beginShape();d.vertex(a+c,b);d.bezierVertex(a+c,b-g,a+f,b-e,a,b-e);d.bezierVertex(a-f,b-e,a-c,b-g,a-c,b);d.bezierVertex(a-c,b+g,a-f,b+e,a,b+e);d.bezierVertex(a+f,b+e,a+c,b+g,a+c,b);d.endShape()}}}};d.normal=function(a,b,c){if(arguments.length!==3||!(typeof a==="number"&&typeof b==="number"&&typeof c==="number"))throw"normal() requires three numeric arguments.";
Cb=a;ub=b;cb=c;if(ta!==0)if(xb===h.NORMAL_MODE_AUTO)xb=h.NORMAL_MODE_SHAPE;else if(xb===h.NORMAL_MODE_SHAPE)xb=h.NORMAL_MODE_VERTEX};d.save=function(a,b){return b!==B?window.open(b.toDataURL(),"_blank"):window.open(d.externals.canvas.toDataURL(),"_blank")};var Md=0;d.saveFrame=function(a){if(a===B)a="screen-####.png";a=a.replace(/#+/,function(b){for(var c=""+Md++;c.length<b.length;)c="0"+c;return c});d.save(a)};var Ad=document.createElement("canvas").getContext("2d"),ad=[B,B,B],rb=function(a,b,c){this.get=
function(e,f,g,k){if(arguments.length)if(arguments.length===2)return d.get(e,f,this);else{if(arguments.length===4)return d.get(e,f,g,k,this)}else return d.get(this)};this.set=function(e,f,g){d.set(e,f,g,this)};this.blend=function(e,f,g,k,j,m,u,r,w,q){if(arguments.length===9)d.blend(this,e,f,g,k,j,m,u,r,w,this);else arguments.length===10&&d.blend(e,f,g,k,j,m,u,r,w,q,this);delete this.sourceImg};this.copy=function(e,f,g,k,j,m,u,r,w){if(arguments.length===8)d.blend(this,e,f,g,k,j,m,u,r,h.REPLACE,this);
else arguments.length===9&&d.blend(e,f,g,k,j,m,u,r,w,h.REPLACE,this);delete this.sourceImg};this.filter=function(e,f){if(arguments.length===2)d.filter(e,f,this);else arguments.length===1&&d.filter(e,null,this);delete this.sourceImg};this.save=function(e){d.save(e,this)};this.resize=function(e,f){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";else if(this.width!==0||this.height!==0){if(e===0&&f!==0)e=Math.floor(this.width/this.height*f);else if(f===0&&e!==0)f=Math.floor(this.height/
this.width*e);var g=xa(this.imageData).canvas;this.fromImageData(xa(g,e,f).context.getImageData(0,0,e,f))}};this.mask=function(e){this.__mask=B;if(e.constructor.name==="PImage")if(e.width===this.width&&e.height===this.height)this.__mask=e;else throw"mask must have the same dimensions as PImage.";else if(typeof e==="object"&&e.constructor===Array)if(this.pixels.length===e.length)this.__mask=e;else throw"mask array must be the same length as PImage pixels array.";};this.pixels={getLength:function(e){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";
else return function(){return e.imageData.data.length?e.imageData.data.length/4:0}}(this),getPixel:function(e){if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";else return function(f){f*=4;return d.color.toInt(e.imageData.data[f],e.imageData.data[f+1],e.imageData.data[f+2],e.imageData.data[f+3])}}(this),setPixel:function(e){if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";else return function(f,g){var k=f*4;e.imageData.data[k+0]=(g&h.RED_MASK)>>>16;e.imageData.data[k+
1]=(g&h.GREEN_MASK)>>>8;e.imageData.data[k+2]=g&h.BLUE_MASK;e.imageData.data[k+3]=(g&h.ALPHA_MASK)>>>24}}(this),set:function(e){if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";else for(var f=0,g=e.length;f<g;f++)this.setPixel(f,e[f])}};this.loadPixels=function(){};this.updatePixels=function(){};this.toImageData=function(){return this.isRemote?this.sourceImg:xa(this.imageData).context.getImageData(0,0,this.width,this.height)};this.toDataURL=function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";
else return xa(this.imageData).canvas.toDataURL()};this.fromImageData=function(e){this.width=e.width;this.height=e.height;this.imageData=e;this.format=h.ARGB};this.fromHTMLImageData=function(e){var f=xa(e);try{this.fromImageData(f.context.getImageData(0,0,e.width,e.height))}catch(g){if(e.width&&e.height){this.isRemote=true;this.width=e.width;this.height=e.height}}this.sourceImg=e};if(arguments.length===1)this.fromHTMLImageData(arguments[0]);else if(arguments.length===2||arguments.length===3){this.width=
a||1;this.height=b||1;this.imageData=Ad.createImageData(this.width,this.height);this.format=c===h.ARGB||c===h.ALPHA?c:h.RGB}else{this.height=this.width=0;this.imageData=Ad.createImageData(1,1);this.format=h.ARGB}};d.PImage=rb;d.createImage=function(a,b,c){return new rb(a,b,c)};d.loadImage=function(a,b,c){if(b)a=a+"."+b;if(na.imageCache.images[a])return new rb(na.imageCache.images[a]);else{b=new rb;var e=document.createElement("img");b.sourceImg=e;e.onload=function(f,g,k){return function(){g.fromHTMLImageData(f);
g.loaded=true;k&&k()}}(e,b,c);e.src=a;return b}};d.requestImage=d.loadImage;d.get=function(a,b,c,e,f){if(arguments.length===2){var g;if(a<d.width&&a>=0&&b>=0&&b<d.height)if(Zb){var k=((0|a)+d.width*(0|b))*4;g=d.imageData.data;g=d.color.toInt(g[k],g[k+1],g[k+2],g[k+3])}else{g=i.getImageData(0|a,0|b,1,1).data;g=d.color.toInt(g[0],g[1],g[2],g[3])}else g=0;return g}else if(arguments.length===0){g=new rb(d.width,d.height,h.RGB);g.fromImageData(i.getImageData(0,0,d.width,d.height));return g}else if(arguments.length===
5){if(f.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";else{g=new rb(c,e,h.RGB);k=g.imageData.data;for(var j=f.width,m=f.imageData.data,u=Math.max(0,-a),r=Math.min(e,f.height-b),w=Math.min(c,j-a),q=Math.max(0,-b);q<r;++q)for(var E=((b+q)*j+(a+u))*4,Q=(q*c+u)*4,K=u;K<w;++K){k[Q++]=m[E++];k[Q++]=m[E++];k[Q++]=m[E++];k[Q++]=m[E++]}}return g}else if(arguments.length===4){g=new rb(c,e,h.RGB);g.fromImageData(i.getImageData(a,b,c,e));return g}else if(arguments.length===3){if(c.isRemote)throw"Image is loaded remotely. Cannot get x,y.";
else{g=b*c.width*4+a*4;g=d.color.toInt(c.imageData.data[g],c.imageData.data[g+1],c.imageData.data[g+2],c.imageData.data[g+3])}return g}else if(arguments.length===1)return a};d.createGraphics=function(a,b,c){var e=document.createElement("canvas"),f=new y(e);f.size(a,b,c);f.canvas=e;f.toImageData=function(){var g=this.externals.context;if(this.use3DContext){var k=document.createElement("canvas").getContext("2d").createImageData(this.width,this.height),j=new Uint8Array(this.width*this.height*4);g.readPixels(0,
0,this.width,this.height,g.RGBA,g.UNSIGNED_BYTE,j);g=0;for(var m=j.length,u=this.height,r=this.width,w=k.data;g<m;g++)w[g]=j[(u-1-Math.floor(g/4/r))*r*4+g%(r*4)];return k}else return g.getImageData(0,0,this.width,this.height)};return f};d.set=function(a,b,c,e){if(arguments.length===3)if(typeof c==="number"){if(a<d.width&&a>=0&&b>=0&&b<d.height){if(!Zb){d.loadPixels();if(Qc===null){bd=i;Qc=new Oa}Zb=true;i=Qc;md=0}d.pixels.setPixel((0|a)+d.width*(0|b),c);++md>nd&&Na()}}else c instanceof rb&&d.image(c,
a,b);else if(arguments.length===4)if(e.isRemote)throw"Image is loaded remotely. Cannot set x,y.";else{var f=d.color.toArray(c),g=b*e.width*4+a*4,k=e.imageData.data;k[g]=f[0];k[g+1]=f[1];k[g+2]=f[2];k[g+3]=f[3]}};d.imageData={};d.pixels={getLength:function(){return d.imageData.data.length?d.imageData.data.length/4:0},getPixel:function(a){a*=4;return d.imageData.data[a+3]<<24&4278190080|d.imageData.data[a+0]<<16&16711680|d.imageData.data[a+1]<<8&65280|d.imageData.data[a+2]&255},setPixel:function(a,
b){var c=a*4;d.imageData.data[c+0]=(b&16711680)>>>16;d.imageData.data[c+1]=(b&65280)>>>8;d.imageData.data[c+2]=b&255;d.imageData.data[c+3]=(b&4278190080)>>>24},set:function(a){for(var b=0,c=a.length;b<c;b++)this.setPixel(b,a[b])}};d.loadPixels=function(){d.imageData=i.getImageData(0,0,d.width,d.height)};d.updatePixels=function(){d.imageData&&i.putImageData(d.imageData,0,0)};d.hint=function(a){if(a===h.DISABLE_DEPTH_TEST){i.disable(i.DEPTH_TEST);i.depthMask(false);i.clear(i.DEPTH_BUFFER_BIT)}else if(a===
h.ENABLE_DEPTH_TEST){i.enable(i.DEPTH_TEST);i.depthMask(true)}};d.background=function(){var a,b;if(typeof arguments[0]==="number"){a=d.color.apply(this,arguments);na.options.isTransparent||(a|=h.ALPHA_MASK)}else if(arguments.length===1&&arguments[0]instanceof rb){b=arguments[0];if(!b.pixels||b.width!==d.width||b.height!==d.height)throw"Background image must be the same dimensions as the canvas.";}else throw"Incorrect background parameters.";if(d.use3DContext)if(a!==B){var c=d.color.toGLArray(a);Ub=
function(){i.clearColor(c[0],c[1],c[2],c[3]);i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}}else Ub=function(){};else Ub=a!==B?function(){i.save();i.setTransform(1,0,0,1,0,0);na.options.isTransparent&&i.clearRect(0,0,d.width,d.height);i.fillStyle=d.color.toString(a);i.fillRect(0,0,d.width,d.height);Ja=true;$()}:function(){i.save();i.setTransform(1,0,0,1,0,0);d.image(b,0,0);$()};Ub()};d.image=function(a,b,c,e,f){if(a.width>0){var g=e||a.width,k=f||a.height;if(d.use3DContext){d.beginShape(d.QUADS);
d.texture(a.externals.canvas);d.vertex(b,c,0,0,0);d.vertex(b,c+k,0,0,k);d.vertex(b+g,c+k,0,g,k);d.vertex(b+g,c,0,g,0);d.endShape()}else{g=wc(b||0,c||0,e||a.width,f||a.height,arguments.length<4);if(a.sourceImg&&P===null&&!a.__mask){k=a.sourceImg;i.drawImage(k,0,0,k.width,k.height,g.x,g.y,g.w,g.h)}else{k=a.toImageData();if(a.__mask){var j,m;if(a.__mask.constructor.name==="PImage"){var u=a.__mask.toImageData();j=2;for(m=a.width*a.height*4;j<m;j+=4)k.data[j+1]=u.data[j]}else{j=0;for(m=a.__mask.length;j<
m;++j)k.data[(j<<2)+3]=a.__mask[j]}}P!==null&&P(k);i.drawImage(xa(k).canvas,0,0,a.width,a.height,g.x,g.y,g.w,g.h)}}}};d.clear=function(a,b,c,e){arguments.length===0?i.clearRect(0,0,d.width,d.height):i.clearRect(a,b,c,e)};d.tint=function(){var a=d.color.apply(this,arguments),b=d.red(a)/p,c=d.green(a)/t,e=d.blue(a)/x,f=d.alpha(a)/n;P=function(g){var k=g.data;g=4*g.width*g.height;for(var j=0;j<g;){k[j++]*=b;k[j++]*=c;k[j++]*=e;k[j++]*=f}}};d.noTint=function(){P=null};d.copy=function(a,b,c,e,f,g,k,j,
m){if(arguments.length===8){m=j;j=k;k=g;g=f;f=e;e=c;c=b;b=a;a=d}d.blend(a,b,c,e,f,g,k,j,m,h.REPLACE)};d.blend=function(a,b,c,e,f,g,k,j,m,u,r){if(arguments.length===9){u=m;m=j;j=k;k=g;g=f;f=e;e=c;c=b;b=a;a=d}var w=b+e,q=c+f,E=g+j,Q=k+m,K;if(a.isRemote)throw"Image is loaded remotely. Cannot blend image.";else{if(arguments.length===10||arguments.length===9){d.loadPixels();K=d}else if(arguments.length===11&&r&&r.imageData)K=r;if(a===d)d.intersect(b,c,w,q,g,k,E,Q)?d.blit_resize(d.get(b,c,w-b,q-c),0,0,
w-b-1,q-c-1,K.imageData.data,K.width,K.height,g,k,E,Q,u):d.blit_resize(a,b,c,w,q,K.imageData.data,K.width,K.height,g,k,E,Q,u);else{a.loadPixels();d.blit_resize(a,b,c,w,q,K.imageData.data,K.width,K.height,g,k,E,Q,u)}arguments.length===10&&d.updatePixels()}};var Bd=function(a,b){var c=0,e=b.pixels.getLength(),f=new Int32Array(e),g,k,j,m,u,r,w,q,E,Q,K,v;if(a)for(;c<e;){g=c;for(k=c+b.width;c<k;){j=m=b.pixels.getPixel(c);r=c-1;u=c+1;w=c-b.width;q=c+b.width;if(r<g)r=c;if(u>=k)u=c;if(w<0)w=0;if(q>=e)q=c;
w=b.pixels.getPixel(w);r=b.pixels.getPixel(r);q=b.pixels.getPixel(q);u=b.pixels.getPixel(u);j=77*(j>>16&255)+151*(j>>8&255)+28*(j&255);Q=77*(r>>16&255)+151*(r>>8&255)+28*(r&255);E=77*(u>>16&255)+151*(u>>8&255)+28*(u&255);K=77*(w>>16&255)+151*(w>>8&255)+28*(w&255);v=77*(q>>16&255)+151*(q>>8&255)+28*(q&255);if(Q<j){m=r;j=Q}if(E<j){m=u;j=E}if(K<j){m=w;j=K}if(v<j)m=q;f[c++]=m}}else for(;c<e;){g=c;for(k=c+b.width;c<k;){j=m=b.pixels.getPixel(c);r=c-1;u=c+1;w=c-b.width;q=c+b.width;if(r<g)r=c;if(u>=k)u=c;
if(w<0)w=0;if(q>=e)q=c;w=b.pixels.getPixel(w);r=b.pixels.getPixel(r);q=b.pixels.getPixel(q);u=b.pixels.getPixel(u);j=77*(j>>16&255)+151*(j>>8&255)+28*(j&255);Q=77*(r>>16&255)+151*(r>>8&255)+28*(r&255);E=77*(u>>16&255)+151*(u>>8&255)+28*(u&255);K=77*(w>>16&255)+151*(w>>8&255)+28*(w&255);v=77*(q>>16&255)+151*(q>>8&255)+28*(q&255);if(Q>j){m=r;j=Q}if(E>j){m=u;j=E}if(K>j){m=w;j=K}if(v>j)m=q;f[c++]=m}}b.pixels.set(f)};d.filter=function(a,b,c){var e,f,g,k;if(arguments.length===3){c.loadPixels();e=c}else{d.loadPixels();
e=d}if(b===B)b=null;if(e.isRemote)throw"Image is loaded remotely. Cannot filter image.";else{var j=e.pixels.getLength();switch(a){case h.BLUR:var m=b||1;k=e;var u,r,w,q,E,Q,K,v,sa,wa=k.pixels.getLength();j=new Float32Array(wa);f=new Float32Array(wa);g=new Float32Array(wa);wa=new Float32Array(wa);var Da=0,ea,sb,Ya;m=d.floor(m*3.5);m=m<1?1:m<248?m:248;if(d.shared.blurRadius!==m){d.shared.blurRadius=m;d.shared.blurKernelSize=1+(d.shared.blurRadius<<1);d.shared.blurKernel=new Float32Array(d.shared.blurKernelSize);
for(u=0;u<d.shared.blurKernelSize;u++)d.shared.blurKernel[u]=0;u=1;for(r=m-1;u<m;u++)d.shared.blurKernel[m+u]=d.shared.blurKernel[r]=r*r;d.shared.blurKernel[m]=m*m}for(sb=0;sb<k.height;sb++){for(ea=0;ea<k.width;ea++){w=r=u=q=m=0;K=ea-d.shared.blurRadius;if(K<0){Q=-K;K=0}else{if(K>=k.width)break;Q=0}for(Ya=Q;Ya<d.shared.blurKernelSize;Ya++){if(K>=k.width)break;E=k.pixels.getPixel(K+Da);Q=d.shared.blurKernel[Ya];q+=Q*((E&h.ALPHA_MASK)>>>24);u+=Q*((E&h.RED_MASK)>>16);r+=Q*((E&h.GREEN_MASK)>>8);w+=Q*
(E&h.BLUE_MASK);m+=Q;K++}E=Da+ea;wa[E]=q/m;j[E]=u/m;f[E]=r/m;g[E]=w/m}Da+=k.width}Da=0;v=-d.shared.blurRadius;sa=v*k.width;for(sb=0;sb<k.height;sb++){for(ea=0;ea<k.width;ea++){w=r=u=q=m=0;if(v<0){Q=E=-v;K=ea}else{if(v>=k.height)break;Q=0;E=v;K=ea+sa}for(Ya=Q;Ya<d.shared.blurKernelSize;Ya++){if(E>=k.height)break;Q=d.shared.blurKernel[Ya];q+=Q*wa[K];u+=Q*j[K];r+=Q*f[K];w+=Q*g[K];m+=Q;E++;K+=k.width}k.pixels.setPixel(ea+Da,q/m<<24|u/m<<16|r/m<<8|w/m)}Da+=k.width;sa+=k.width;v++}break;case h.GRAY:if(e.format===
h.ALPHA){for(k=0;k<j;k++){f=255-e.pixels.getPixel(k);e.pixels.setPixel(k,4278190080|f<<16|f<<8|f)}e.format=h.RGB}else for(k=0;k<j;k++){f=e.pixels.getPixel(k);g=77*(f>>16&255)+151*(f>>8&255)+28*(f&255)>>8;e.pixels.setPixel(k,f&h.ALPHA_MASK|g<<16|g<<8|g)}break;case h.INVERT:for(k=0;k<j;k++)e.pixels.setPixel(k,e.pixels.getPixel(k)^16777215);break;case h.POSTERIZE:if(b===null)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";f=d.floor(b);if(f<2||f>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";
g=f-1;for(k=0;k<j;k++){wa=e.pixels.getPixel(k)>>16&255;Da=e.pixels.getPixel(k)>>8&255;m=e.pixels.getPixel(k)&255;wa=(wa*f>>8)*255/g;Da=(Da*f>>8)*255/g;m=(m*f>>8)*255/g;e.pixels.setPixel(k,4278190080&e.pixels.getPixel(k)|wa<<16|Da<<8|m)}break;case h.OPAQUE:for(k=0;k<j;k++)e.pixels.setPixel(k,e.pixels.getPixel(k)|4278190080);e.format=h.RGB;break;case h.THRESHOLD:if(b===null)b=0.5;if(b<0||b>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";f=d.floor(b*255);for(k=0;k<j;k++){g=d.max((e.pixels.getPixel(k)&
h.RED_MASK)>>16,d.max((e.pixels.getPixel(k)&h.GREEN_MASK)>>8,e.pixels.getPixel(k)&h.BLUE_MASK));e.pixels.setPixel(k,e.pixels.getPixel(k)&h.ALPHA_MASK|(g<f?0:16777215))}break;case h.ERODE:Bd(true,e);break;case h.DILATE:Bd(false,e)}e.updatePixels()}};d.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};d.intersect=function(a,
b,c,e,f,g,k,j){c=c-a+1;e=e-b+1;k=k-f+1;j=j-g+1;if(f<a){k+=f-a;if(k>c)k=c}else{a=c+a-f;if(k>a)k=a}if(g<b){j+=g-b;if(j>e)j=e}else{b=e+b-g;if(j>b)j=b}return!(k<=0||j<=0)};d.filter_new_scanline=function(){d.shared.sX=d.shared.srcXOffset;d.shared.fracV=d.shared.srcYOffset&h.PREC_MAXVAL;d.shared.ifV=h.PREC_MAXVAL-d.shared.fracV;d.shared.v1=(d.shared.srcYOffset>>h.PRECISIONB)*d.shared.iw;d.shared.v2=Math.min((d.shared.srcYOffset>>h.PRECISIONB)+1,d.shared.ih1)*d.shared.iw};d.filter_bilinear=function(){d.shared.fracU=
d.shared.sX&h.PREC_MAXVAL;d.shared.ifU=h.PREC_MAXVAL-d.shared.fracU;d.shared.ul=d.shared.ifU*d.shared.ifV>>h.PRECISIONB;d.shared.ll=d.shared.ifU*d.shared.fracV>>h.PRECISIONB;d.shared.ur=d.shared.fracU*d.shared.ifV>>h.PRECISIONB;d.shared.lr=d.shared.fracU*d.shared.fracV>>h.PRECISIONB;d.shared.u1=d.shared.sX>>h.PRECISIONB;d.shared.u2=Math.min(d.shared.u1+1,d.shared.iw1);var a=(d.shared.v1+d.shared.u1)*4,b=(d.shared.v1+d.shared.u2)*4,c=(d.shared.v2+d.shared.u1)*4,e=(d.shared.v2+d.shared.u2)*4;d.shared.cUL=
d.color.toInt(d.shared.srcBuffer[a],d.shared.srcBuffer[a+1],d.shared.srcBuffer[a+2],d.shared.srcBuffer[a+3]);d.shared.cUR=d.color.toInt(d.shared.srcBuffer[b],d.shared.srcBuffer[b+1],d.shared.srcBuffer[b+2],d.shared.srcBuffer[b+3]);d.shared.cLL=d.color.toInt(d.shared.srcBuffer[c],d.shared.srcBuffer[c+1],d.shared.srcBuffer[c+2],d.shared.srcBuffer[c+3]);d.shared.cLR=d.color.toInt(d.shared.srcBuffer[e],d.shared.srcBuffer[e+1],d.shared.srcBuffer[e+2],d.shared.srcBuffer[e+3]);d.shared.r=d.shared.ul*((d.shared.cUL&
h.RED_MASK)>>16)+d.shared.ll*((d.shared.cLL&h.RED_MASK)>>16)+d.shared.ur*((d.shared.cUR&h.RED_MASK)>>16)+d.shared.lr*((d.shared.cLR&h.RED_MASK)>>16)<<h.PREC_RED_SHIFT&h.RED_MASK;d.shared.g=d.shared.ul*(d.shared.cUL&h.GREEN_MASK)+d.shared.ll*(d.shared.cLL&h.GREEN_MASK)+d.shared.ur*(d.shared.cUR&h.GREEN_MASK)+d.shared.lr*(d.shared.cLR&h.GREEN_MASK)>>>h.PRECISIONB&h.GREEN_MASK;d.shared.b=d.shared.ul*(d.shared.cUL&h.BLUE_MASK)+d.shared.ll*(d.shared.cLL&h.BLUE_MASK)+d.shared.ur*(d.shared.cUR&h.BLUE_MASK)+
d.shared.lr*(d.shared.cLR&h.BLUE_MASK)>>>h.PRECISIONB;d.shared.a=d.shared.ul*((d.shared.cUL&h.ALPHA_MASK)>>>24)+d.shared.ll*((d.shared.cLL&h.ALPHA_MASK)>>>24)+d.shared.ur*((d.shared.cUR&h.ALPHA_MASK)>>>24)+d.shared.lr*((d.shared.cLR&h.ALPHA_MASK)>>>24)<<h.PREC_ALPHA_SHIFT&h.ALPHA_MASK;return d.shared.a|d.shared.r|d.shared.g|d.shared.b};d.blit_resize=function(a,b,c,e,f,g,k,j,m,u,r,w,q){if(b<0)b=0;if(c<0)c=0;if(e>=a.width)e=a.width-1;if(f>=a.height)f=a.height-1;e-=b;f-=c;r-=m;w-=u;if(!(r<=0||w<=0||
e<=0||f<=0||m>=k||u>=j||b>=a.width||c>=a.height)){e=Math.floor(e/r*h.PRECISIONF);f=Math.floor(f/w*h.PRECISIONF);d.shared.srcXOffset=Math.floor(m<0?-m*e:b*h.PRECISIONF);d.shared.srcYOffset=Math.floor(u<0?-u*f:c*h.PRECISIONF);if(m<0){r+=m;m=0}if(u<0){w+=u;u=0}r=Math.min(r,k-m);w=Math.min(w,j-u);b=u*k+m;d.shared.srcBuffer=a.imageData.data;d.shared.iw=a.width;d.shared.iw1=a.width-1;d.shared.ih1=a.height-1;switch(q){case h.BLEND:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+
a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.blend(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.ADD:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.add(c,d.filter_bilinear()));c=d.color.toArray(d.modes.add(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+
a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.SUBTRACT:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.subtract(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.LIGHTEST:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+
a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.lightest(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.DARKEST:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.darkest(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;
d.shared.srcYOffset+=f}break;case h.REPLACE:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.filter_bilinear());g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.DIFFERENCE:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.difference(c,
d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.EXCLUSION:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.exclusion(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.MULTIPLY:for(q=0;q<w;q++){d.filter_new_scanline();
for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.multiply(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.SCREEN:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.screen(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+
2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.OVERLAY:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.overlay(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.HARD_LIGHT:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*
4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.hard_light(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.SOFT_LIGHT:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.soft_light(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=
k;d.shared.srcYOffset+=f}break;case h.DODGE:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.dodge(c,d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}break;case h.BURN:for(q=0;q<w;q++){d.filter_new_scanline();for(a=0;a<r;a++){c=d.color.toInt(g[(b+a)*4],g[(b+a)*4+1],g[(b+a)*4+2],g[(b+a)*4+3]);c=d.color.toArray(d.modes.burn(c,
d.filter_bilinear()));g[(b+a)*4]=c[0];g[(b+a)*4+1]=c[1];g[(b+a)*4+2]=c[2];g[(b+a)*4+3]=c[3];d.shared.sX+=e}b+=k;d.shared.srcYOffset+=f}}}};Sa.prototype.width=function(a){return"measureText"in i?i.measureText(typeof a==="number"?String.fromCharCode(a):a).width/I:"mozMeasureText"in i?i.mozMeasureText(typeof a==="number"?String.fromCharCode(a):a)/I:0};Sa.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};d.PFont=Sa;d.loadFont=function(a){if(a===B||a.indexOf(".svg")===-1)return new Sa(a);
else{var b=d.loadGlyphs(a);return{name:a,glyph:true,units_per_em:b.units_per_em,horiz_adv_x:1/b.units_per_em*b.horiz_adv_x,ascent:b.ascent,descent:b.descent,width:function(c){for(var e=0,f=c.length,g=0;g<f;g++)try{e+=parseFloat(d.glyphLook(d.glyphTable[a],c[g]).horiz_adv_x)}catch(k){y.debug(k)}return e/d.glyphTable[a].units_per_em}}}};d.createFont=function(a,b){if(arguments.length===2){d.textSize(b);return d.loadFont(a)}else if(arguments.length===3){d.textSize(b);return d.loadFont(a)}else if(arguments.length===
4){d.textSize(b);return d.loadFont(a)}else throw"incorrent number of parameters for createFont";};d.textFont=function(a,b){T=a;if(b)d.textSize(b);else i.font=i.mozTextStyle=I+"px "+T.name};d.textSize=function(a){if(a){I=a;i.font=i.mozTextStyle=I+"px "+T.name}};d.textAlign=function(){if(arguments.length===1)Qb=arguments[0];else if(arguments.length===2){Qb=arguments[0];Pb=arguments[1]}};d.textWidth=function(a){if(d.use3DContext){if(ra===B)ra=document.createElement("canvas");var b=i;i=ra.getContext("2d");
i.font=i.mozTextStyle=I+"px "+T.name;if("fillText"in i)ra.width=i.measureText(a).width;else if("mozDrawText"in i)ra.width=i.mozMeasureText(a);i=b;return ra.width}else{i.font=I+"px "+T.name;if("fillText"in i)return i.measureText(a).width;else if("mozDrawText"in i)return i.mozMeasureText(a)}};d.textLeading=function(a){ka=a};d.textAscent=function(){var a=B,b=B,c=B,e=B;return function(){if(b!==T||a!==I){b=T;a=I;var f=false,g=d.color(0),k=0,j=I,m=I/2;for(e=new Ta(T.name,I,I,"k");m!==j;){for(var u=0;u<
I;u++)if(e.get(u,m)!==g){f=true;u=I}if(f){j=m;f=false}else k=m;m=Math.ceil((j+k)/2)}c=I-1-m+1}return c}}();d.textDescent=function(){var a=B,b=B,c=B,e=B;return function(){if(b!==T||a!==I){b=T;a=I;var f=false,g=d.color(0),k=0,j=I,m=I/2;for(e=new Ta(T.name,I,0,"p");m!==j;){for(var u=0;u<I;u++)if(e.get(u,m)!==g){f=true;u=I}if(f){k=m;f=false}else j=m;m=Math.ceil((j+k)/2)}c=m+1}return c}}();d.glyphLook=function(a,b){try{switch(b){case "1":return a.one;case "2":return a.two;case "3":return a.three;case "4":return a.four;
case "5":return a.five;case "6":return a.six;case "7":return a.seven;case "8":return a.eight;case "9":return a.nine;case "0":return a.zero;case " ":return a.space;case "$":return a.dollar;case "!":return a.exclam;case '"':return a.quotedbl;case "#":return a.numbersign;case "%":return a.percent;case "&":return a.ampersand;case "'":return a.quotesingle;case "(":return a.parenleft;case ")":return a.parenright;case "*":return a.asterisk;case "+":return a.plus;case ",":return a.comma;case "-":return a.hyphen;
case ".":return a.period;case "/":return a.slash;case "_":return a.underscore;case ":":return a.colon;case ";":return a.semicolon;case "<":return a.less;case "=":return a.equal;case ">":return a.greater;case "?":return a.question;case "@":return a.at;case "[":return a.bracketleft;case "\\":return a.backslash;case "]":return a.bracketright;case "^":return a.asciicircum;case "`":return a.grave;case "{":return a.braceleft;case "|":return a.bar;case "}":return a.braceright;case "~":return a.asciitilde;
default:return a[b]}}catch(c){y.debug(c)}};d.text=function(){if(Pc===h.SCREEN){d.pushMatrix();d.resetMatrix();var a=d.textAscent(),b=d.textDescent(),c=d.textWidth(arguments[0]),e=a+b;b=d.loadFont(T.origName);c=d.createGraphics(c,e);c.beginDraw();c.fill($a);c.opaque=false;c.background(0,0,0,0);c.textFont(b);c.textSize(I);c.text(arguments[0],0,a);c.endDraw();arguments.length===5||arguments.length===6?d.image(c,arguments[1],arguments[2]-a,arguments[3],arguments[4]):d.image(c,arguments[1],arguments[2]-
a);d.popMatrix()}else if(Pc!==h.SHAPE)if(arguments.length===3)ua(db(arguments[0]),arguments[1],arguments[2],0);else if(arguments.length===4)ua(db(arguments[0]),arguments[1],arguments[2],arguments[3]);else if(arguments.length===5)Pa(db(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0);else arguments.length===6&&Pa(db(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};d.textMode=function(a){Pc=a};d.loadGlyphs=function(a){var b,c,e,f,g,k,j,m,u,r,w,q,E=
function(K,v){var sa=0,wa=[],Da,ea=RegExp(K,"g");for(Da=wa[sa]=ea.exec(v);Da;){sa++;Da=wa[sa]=ea.exec(v)}return wa},Q=function(K){var v=K.getElementsByTagName("font");d.glyphTable[a].horiz_adv_x=v[0].getAttribute("horiz-adv-x");v=K.getElementsByTagName("font-face")[0];d.glyphTable[a].units_per_em=parseFloat(v.getAttribute("units-per-em"));d.glyphTable[a].ascent=parseFloat(v.getAttribute("ascent"));d.glyphTable[a].descent=parseFloat(v.getAttribute("descent"));K=K.getElementsByTagName("glyph");v=K.length;
for(var sa=0;sa<v;sa++){var wa=K[sa].getAttribute("unicode"),Da=K[sa].getAttribute("glyph-name");w=K[sa].getAttribute("horiz-adv-x");if(w===null)w=d.glyphTable[a].horiz_adv_x;j=K[sa].getAttribute("d");if(j!==B){var ea=j,sb=E("[A-Za-z][0-9\\- ]+|Z",ea);q="var path={draw:function(){saveContext();curContext.beginPath();";m=k=g=f=e=c=b=0;u="";r=sb.length-1;for(var Ya=0;Ya<r;Ya++){var Zc=sb[Ya][0];ea=E("[0-9\\-]+",Zc);switch(Zc[0]){case "M":b=parseFloat(ea[0][0]);c=parseFloat(ea[1][0]);q+="curContext.moveTo("+
b+","+-c+");";break;case "L":b=parseFloat(ea[0][0]);c=parseFloat(ea[1][0]);q+="curContext.lineTo("+b+","+-c+");";break;case "H":b=parseFloat(ea[0][0]);q+="curContext.lineTo("+b+","+-c+");";break;case "V":c=parseFloat(ea[0][0]);q+="curContext.lineTo("+b+","+-c+");";break;case "T":g=parseFloat(ea[0][0]);k=parseFloat(ea[1][0]);if(u==="Q"||u==="T"){ea=Math.sqrt(Math.pow(b-e,2)+Math.pow(f-c,2));m=Math.PI+Math.atan2(e-b,f-c);e=b+Math.sin(m)*ea;f=c+Math.cos(m)*ea}else{e=b;f=c}q+="curContext.quadraticCurveTo("+
e+","+-f+","+g+","+-k+");";b=g;c=k;break;case "Q":e=parseFloat(ea[0][0]);f=parseFloat(ea[1][0]);g=parseFloat(ea[2][0]);k=parseFloat(ea[3][0]);q+="curContext.quadraticCurveTo("+e+","+-f+","+g+","+-k+");";b=g;c=k;break;case "Z":q+="curContext.closePath();"}u=Zc[0]}q+="executeContextFill();executeContextStroke();";q+="restoreContext();";q+="curContext.translate("+w+",0);";q+="}}";eval(q);d.glyphTable[a][Da]={name:Da,unicode:wa,horiz_adv_x:w,draw:q.draw}}}};d.glyphTable[a]={};(function(){var K;try{K=
document.implementation.createDocument("","",null)}catch(v){y.debug(v.message);return}try{K.async=false;K.load(a);Q(K.getElementsByTagName("svg")[0])}catch(sa){y.debug(sa);try{var wa=new window.XMLHttpRequest;wa.open("GET",a,false);wa.send(null);Q(wa.responseXML.documentElement)}catch(Da){y.debug(sa)}}})(a);return d.glyphTable[a]};d.extendClassChain=function(a){for(var b=[a],c=a.$upcast;c;c=c.$upcast){Ua(c,a);b.push(c);a=c}for(;b.length>0;)b.pop().$self=a};d.extendStaticMembers=function(a,b){Ua(a,
b)};d.addMethod=function(a,b,c){if(a[b]){var e=c.length,f=a[b];a[b]=function(){return arguments.length===e?c.apply(this,arguments):f.apply(this,arguments)}}else a[b]=c};d.createJavaArray=function a(b,c){var e=null;if(typeof c[0]==="number"){var f=0|c[0];if(c.length<=1){if(b==="int")e=new Int32Array(f);else if(b==="float")e=new Float32Array(f);else{e=[];e.length=f}for(var g=0;g<f;++g)e[g]=0}else{e=[];g=c.slice(1);for(var k=0;k<f;++k)e.push(a(b,g))}}return e};pa(s,"touchstart",function(a){s.setAttribute("style",
"-webkit-user-select: none");s.setAttribute("onclick","void(0)");s.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var b=0,c=ob.length;b<c;b++){var e=ob[b][0],f=ob[b][1],g=ob[b][2];if(f==="mouseout"||f==="mousemove"||f==="mousedown"||f==="mouseup"||f==="DOMMouseScroll"||f==="mousewheel"||f==="touchstart")Bc(e,f,g)}if(d.touchStart!==B||d.touchMove!==B||d.touchEnd!==B||d.touchCancel!==B){pa(s,"touchstart",function(k){if(d.touchStart!==B){k=vb(k);d.touchStart(k)}});pa(s,"touchmove",
function(k){if(d.touchMove!==B){k.preventDefault();k=vb(k);d.touchMove(k)}});pa(s,"touchend",function(k){if(d.touchEnd!==B){k=vb(k);d.touchEnd(k)}});pa(s,"touchcancel",function(k){if(d.touchCancel!==B){k=vb(k);d.touchCancel(k)}})}else{pa(s,"touchstart",function(k){Nb(s,k.touches[0]);d.__mousePressed=true;d.mouseDragging=false;d.mouseButton=h.LEFT;typeof d.mousePressed==="function"&&d.mousePressed()});pa(s,"touchmove",function(k){k.preventDefault();Nb(s,k.touches[0]);typeof d.mouseMoved==="function"&&
!d.__mousePressed&&d.mouseMoved();if(typeof d.mouseDragged==="function"&&d.__mousePressed){d.mouseDragged();d.mouseDragging=true}});pa(s,"touchend",function(){d.__mousePressed=false;typeof d.mouseClicked==="function"&&!d.mouseDragging&&d.mouseClicked();typeof d.mouseReleased==="function"&&d.mouseReleased()})}s.dispatchEvent(a)});pa(s,"mousemove",function(a){Nb(s,a);typeof d.mouseMoved==="function"&&!d.__mousePressed&&d.mouseMoved();if(typeof d.mouseDragged==="function"&&d.__mousePressed){d.mouseDragged();
d.mouseDragging=true}});pa(s,"mouseout",function(){typeof d.mouseOut==="function"&&d.mouseOut()});pa(s,"mouseover",function(a){Nb(s,a);typeof d.mouseOver==="function"&&d.mouseOver()});pa(s,"mousedown",function(a){d.__mousePressed=true;d.mouseDragging=false;switch(a.which){case 1:d.mouseButton=h.LEFT;break;case 2:d.mouseButton=h.CENTER;break;case 3:d.mouseButton=h.RIGHT}typeof d.mousePressed==="function"&&d.mousePressed()});pa(s,"mouseup",function(){d.__mousePressed=false;typeof d.mouseClicked==="function"&&
!d.mouseDragging&&d.mouseClicked();typeof d.mouseReleased==="function"&&d.mouseReleased()});pb=function(a){var b=0;if(a.wheelDelta){b=a.wheelDelta/120;if(window.opera)b=-b}else if(a.detail)b=-a.detail/3;(d.mouseScroll=b)&&typeof d.mouseScrolled==="function"&&d.mouseScrolled()};pa(document,"DOMMouseScroll",pb);pa(document,"mousewheel",pb);if(typeof s==="string")s=document.getElementById(s);s.getAttribute("tabindex")||s.setAttribute("tabindex",0);y.debug=function(){};if(z){na=z instanceof y.Sketch?
z:typeof z==="function"?new y.Sketch(z):y.compile(z);d.externals.sketch=na;d.use3DContext=na.use3DContext;if("mozOpaque"in s)s.mozOpaque=!na.options.isTransparent;s.onfocus=function(){d.focused=true};s.onblur=function(){d.focused=false};if(na.options.pauseOnBlur){pa(window,"focus",function(){U&&d.loop()});pa(window,"blur",function(){if(U&&fb){d.noLoop();U=true}})}pb=na.options.globalKeyEvents?window:s;pa(pb,"keydown",function(a){d.keyCode=a.keyCode;d.__keyPressed=true;d.key=Yb(a.keyCode,a.shiftKey);
if(d.key!==h.CODED)d.key=Db(a.keyCode,a.shiftKey);Eb(a,"keydown")});pa(pb,"keypress",function(a){Eb(a,"keypress")});pa(pb,"keyup",function(a){d.keyCode=a.keyCode;d.__keyPressed=false;d.key=Yb(a.keyCode,a.shiftKey);if(d.key!==h.CODED)d.key=Db(a.keyCode,a.shiftKey);Eb(a,"keyup")});if(!na.use3DContext){i=s.getContext("2d");d.externals.context=i;ha=new lb;i.translate(0.5,0.5);i.lineCap="round";d.stroke(0);d.fill(255);d.noSmooth();d.disableContextMenu()}for(var dc in y.lib)if(y.lib.hasOwnProperty(dc))if(y.lib[dc].hasOwnProperty("attach"))y.lib[dc].attach(d);
else y.lib[dc]instanceof Function&&y.lib[dc].call(this);var Nd=function(a){if(!a.use3DContext){a.size(100,100);a.background(204,204,204)}},Cd=function(a){if(!na.imageCache.pending&&na.fonts.pending()){Nd(a);na.attach(a,zb);if(a.setup){a.setup();na.use3DContext||i.setTransform(1,0,0,1,0,0)}Na();if(a.draw)U?a.loop():a.redraw()}else window.setTimeout(function(){Cd(a)},10)};if(this.externals.canvas.id===B||!this.externals.canvas.id.length)this.externals.canvas.id="__processing"+ma.instances.length;yc[this.externals.canvas.id]=
ma.instances.length;ma.instances.push(this);Cd(d)}else{na=new y.Sketch;na.options.isTransparent=true}};ma.prototype=zb;ma.compile=function(y){var s=new ma.Sketch;y=Fd(y,s);y=Ed(y);s.sourceCode=y;return s};Dc=function(){var y={};if(typeof tinylog!=="undefined"&&typeof tinylog.log==="function")y.log=tinylog.log;else if(typeof document!=="undefined"&&!document.fake)(function(){var s=document,z={zIndex:1E4,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},
D={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},L={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},A={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},R={minHeight:"16px"},C={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",
overflow:"auto"},W=s.defaultView,$=s.documentElement,H=$.style,J=function(){for(var V=arguments.length,da,oa,ia;V--;){oa=arguments[V--];da=arguments[V].style;for(ia in oa)if(oa.hasOwnProperty(ia))da[ia]=oa[ia]}},M=function(V,da,oa){if(V.addEventListener)V.addEventListener(da,oa,false);else V.attachEvent&&V.attachEvent("on"+da,oa);return[V,da,oa]},N=function(V,da,oa){if(V.removeEventListener)V.removeEventListener(da,oa,false);else V.detachEvent&&V.detachEvent("on"+da,oa)},ca=function(V){for(var da=
V.childNodes,oa=da.length;oa--;)V.removeChild(da.item(0))},ja=function(V,da){return V.appendChild(da)},za=y.log=function(V){var da,oa=H.paddingBottom,ia=s.createElement("div"),Aa=ia.style,Za=ja(ia,s.createElement("div")),xa=ja(ia,s.createElement("div")),Na=ja(ia,s.createElement("div")),Oa=false,Sa=false,Ta=false,db=0,nb=function(ua){var Pa=W.innerHeight,Ua=Za.clientHeight;if(ua<0)ua=0;else if(ua+Ua>Pa)ua=Pa-Ua;Aa.height=ua/Pa*100+"%";H.paddingBottom=ia.clientHeight+"px"},eb=[M(s,"mousemove",function(ua){if(Oa){nb(W.innerHeight-
ua.clientY);xa.scrollTop=Ta}}),M(s,"mouseup",function(){if(Oa)Oa=Ta=false}),M(Za,"dblclick",function(ua){ua.preventDefault();if(Sa){nb(Sa);Sa=false}else{Sa=ia.clientHeight;Aa.height="0px"}}),M(Za,"mousedown",function(ua){ua.preventDefault();Oa=true;Ta=xa.scrollTop}),M(Za,"contextmenu",function(){Oa=false}),M(Na,"click",function(){da()})];da=function(){for(var ua=eb.length;ua--;)N.apply(y,eb[ua]);$.removeChild(ia);H.paddingBottom=oa;ca(xa);ca(ia);y.log=za};J(ia,z,xa,D,Za,L,Na,A);Na.title="Close Log";
ja(Na,s.createTextNode("\u2716"));Za.title="Double-click to toggle log minimization";$.insertBefore(ia,$.firstChild);y.log=function(ua){if(db===512)xa.removeChild(xa.firstChild);else db++;var Pa=ja(xa,s.createElement("div")),Ua=ja(Pa,s.createElement("div"));Pa.title=(new Date).toLocaleTimeString();J(Pa,R,Ua,C);ja(Ua,s.createTextNode(ua));xa.scrollTop=xa.scrollHeight};y.log(V)}})();else if(typeof print==="function")y.log=print;return y}();ma.logger=Dc;ma.version="@VERSION@";ma.lib={};ma.registerLibrary=
function(y,s){ma.lib[y]=s;s.hasOwnProperty("init")&&s.init(zb)};ma.instances=[];var yc={};ma.getInstanceById=function(y){return ma.instances[yc[y]]};ma.Sketch=function(y){this.attachFunction=y;this.use3DContext=false;this.options={isTransparent:false,crispLines:false,pauseOnBlur:false,globalKeyEvents:false};this.imageCache={pending:0,images:{},add:function(s){if(gc){var z=new Image;z.onload=function(D){return function(){D.pending--}}(this);this.pending++;this.images[s]=z;z.src=s}else this.images[s]=
null}};this.fonts={template:function(){if(!gc)return null;var s=document.createElement("p");s.style.fontFamily="serif";s.style.fontSize="72px";s.style.visibility="hidden";s.innerHTML="abcmmmmmmmmmmlll";document.getElementsByTagName("body")[0].appendChild(s);return s}(),attempt:0,pending:function(){for(var s=true,z=0;z<this.fontList.length;z++)if(this.fontList[z].offsetWidth===this.template.offsetWidth&&this.fontList[z].offsetHeight===this.template.offsetHeight){s=false;this.attempt++}else{document.getElementsByTagName("body")[0].removeChild(this.fontList[z]);
this.fontList.splice(z--,1);this.attempt=0}if(this.attempt>=30){s=true;for(z=0;z<this.fontList.length;z++){document.getElementsByTagName("body")[0].removeChild(this.fontList[z]);this.fontList.splice(z--,1)}}s&&document.getElementsByTagName("body")[0].removeChild(this.template);return s},fontList:[],fontFamily:"",style:gc?document.createElement("style"):null,add:function(s){var z=typeof s==="object"?s.fontFace:s;this.fontFamily+="@font-face{\n  font-family: '"+z+"';\n  src:  url('"+(typeof s==="object"?
s.url:s)+"');\n}\n";this.style.innerHTML=this.fontFamily;document.getElementsByTagName("head")[0].appendChild(this.style);s=document.createElement("p");s.style.fontFamily="'"+z+"', serif";s.style.fontSize="72px";s.style.visibility="hidden";s.innerHTML="abcmmmmmmmmmmlll";document.getElementsByTagName("body")[0].appendChild(s);this.fontList.push(s)}};this.sourceCode=undefined;this.attach=function(s){if(typeof this.attachFunction==="function")this.attachFunction(s);else if(this.sourceCode){var z=eval(this.sourceCode);
z(s);this.attachFunction=z}else throw"Unable to attach sketch to the processing instance";};this.toString=function(){var s,z="((function(Sketch) {\n";z+="var sketch = new Sketch(\n"+this.sourceCode+");\n";z+="sketch.use3DContext = "+this.use3DContext+";\n";for(s in this.options)if(this.options.hasOwnProperty(s)){var D=this.options[s];z+="sketch.options."+s+" = "+(typeof D==="string"?'"'+D+'"':""+D)+";\n"}for(s in this.imageCache)if(this.options.hasOwnProperty(s))z+='sketch.imageCache.add("'+s+'");\n';
z+="return sketch;\n})(Processing.Sketch))";return z}};var Od=function(){function y(R,C){function W(ja,za){var V=new XMLHttpRequest;V.onreadystatechange=function(){if(V.readyState===4){var da;if(V.status!==200&&V.status!==0)da="Invalid XHR status "+V.status;else if(V.responseText==="")da="No content";za(V.responseText,da)}};V.open("GET",ja,true);V.overrideMimeType&&V.overrideMimeType("application/json");V.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");V.send(null)}function $(ja,
za){W(za,function(V,da){H[ja]=V;++N;da&&J.push("  "+za+" ==> "+da);if(N===M)if(J.length===0)try{return new ma(R,H.join("\n"))}catch(oa){ma.logger.log("Unable to execute pjs sketch: "+oa)}else ma.logger.log("Unable to load pjs sketch files:\n"+J.join("\n"))})}for(var H=[],J=[],M=C.length,N=0,ca=0;ca<M;++ca)$(ca,C[ca])}for(var s=document.getElementsByTagName("canvas"),z=0,D=s.length;z<D;z++){var L=s[z].getAttribute("data-processing-sources");if(L===null){L=s[z].getAttribute("data-src");if(L===null)L=
s[z].getAttribute("datasrc")}if(L){L=L.split(" ");for(var A=0;A<L.length;)if(L[A])A++;else L.splice(A,1);y(s[z],L)}}};if(gc){window.Processing=ma;document.addEventListener("DOMContentLoaded",function(){Od()},false)}else this.Processing=ma})();
